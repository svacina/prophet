[{"msController":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"classId":"fdse.microservice.controller.BasicController","packageName":"fdse.microservice.controller","className":"BasicController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Basic Service ] !\";\n    }","returnType":"String","methodName":"home","className":"BasicController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.BasicController.home","classId":"fdse.microservice.controller.BasicController","line":24,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"classId":"fdse.microservice.controller.BasicController","packageName":"fdse.microservice.controller","className":"BasicController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/basic/travel\")\n    public HttpEntity queryForTravel(@RequestBody Travel info, @RequestHeader HttpHeaders headers) {\n        // TravelResult\n        return ok(service.queryForTravel(info, headers));\n    }","returnType":"HttpEntity","methodName":"queryForTravel","className":"BasicController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.BasicController.queryForTravel","classId":"fdse.microservice.controller.BasicController","line":29,"msArgumentList":[{"returnType":"Travel"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/basic/travel\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"service.queryForTravel(info, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"BasicController","parentMethodName":"queryForTravel","parentClassId":"fdse.microservice.controller.BasicController","lineNumber":32,"calledMethodName":"queryForTravel","calledServiceId":"service","statementDeclaration":"service.queryForTravel(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"@Autowired\n    BasicService service;","fieldClass":"BasicService","fieldVariable":"service","parentMethod":{"parentClassName":"BasicController","parentPackageName":"fdse.microservice.controller"},"line":21},"msService":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/service/BasicServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.BasicServiceImpl","packageName":"fdse.microservice.service","className":"BasicServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/service/BasicServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForTravel(Travel info, HttpHeaders headers) {\n\n        Response response \u003d new Response\u003c\u003e();\n        TravelResult result \u003d new TravelResult();\n        result.setStatus(true);\n        response.setStatus(1);\n        response.setMsg(\"Success\");\n        boolean startingPlaceExist \u003d checkStationExists(info.getStartingPlace(), headers);\n        boolean endPlaceExist \u003d checkStationExists(info.getEndPlace(), headers);\n        if (!startingPlaceExist || !endPlaceExist) {\n            result.setStatus(false);\n            response.setStatus(0);\n            response.setMsg(\"Start place or end place not exist!\");\n        }\n\n        TrainType trainType \u003d queryTrainType(info.getTrip().getTrainTypeId(), headers);\n        if (trainType \u003d\u003d null) {\n            BasicServiceImpl.LOGGER.info(\"traintype doesn\u0027t exist\");\n            result.setStatus(false);\n            response.setStatus(0);\n            response.setMsg(\"Train type doesn\u0027t exist\");\n        } else {\n            result.setTrainType(trainType);\n        }\n\n        String routeId \u003d info.getTrip().getRouteId();\n        String trainTypeString \u003d \"\";\n        if (trainType !\u003d null){\n            trainTypeString \u003d trainType.getId();\n        }\n        Route route \u003d getRouteByRouteId(routeId, headers);\n        PriceConfig priceConfig \u003d queryPriceConfigByRouteIdAndTrainType(routeId, trainTypeString, headers);\n\n        String startingPlaceId \u003d (String) queryForStationId(info.getStartingPlace(), headers).getData();\n        String endPlaceId \u003d (String) queryForStationId(info.getEndPlace(), headers).getData();\n\n        LOGGER.info(\"startingPlaceId : \" + startingPlaceId + \"endPlaceId : \" + endPlaceId);\n\n        int indexStart \u003d 0;\n        int indexEnd \u003d 0;\n        if (route !\u003d null) {\n            indexStart \u003d route.getStations().indexOf(startingPlaceId);\n            indexEnd \u003d route.getStations().indexOf(endPlaceId);\n        }\n\n        LOGGER.info(\"indexStart : \" + indexStart + \" __ \" + \"indexEnd : \" + indexEnd);\n        if (route !\u003d null){\n            LOGGER.info(\"route.getDistances().size : \" + route.getDistances().size());\n        }\n        HashMap\u003cString, String\u003e prices \u003d new HashMap\u003c\u003e();\n        try {\n            int distance \u003d 0;\n            if (route !\u003d null){\n                distance \u003d route.getDistances().get(indexEnd) - route.getDistances().get(indexStart);\n            }\n\n            /**\n             * We need the price Rate and distance (starting station).\n             */\n            double priceForEconomyClass \u003d distance * priceConfig.getBasicPriceRate();\n            double priceForConfortClass \u003d distance * priceConfig.getFirstClassPriceRate();\n            prices.put(\"economyClass\", \"\" + priceForEconomyClass);\n            prices.put(\"confortClass\", \"\" + priceForConfortClass);\n        }catch (Exception e){\n            prices.put(\"economyClass\", \"95.0\");\n            prices.put(\"confortClass\", \"120.0\");\n        }\n        result.setPrices(prices);\n        result.setPercent(1.0);\n        response.setData(result);\n        return response;\n    }","returnType":"Response","methodName":"queryForTravel","className":"BasicServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.BasicServiceImpl.queryForTravel","classId":"fdse.microservice.service.BasicServiceImpl","line":29,"msArgumentList":[{"returnType":"Travel"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"classId":"fdse.microservice.controller.BasicController","packageName":"fdse.microservice.controller","className":"BasicController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/basic/{stationName}\")\n    public HttpEntity queryForStationId(@PathVariable String stationName, @RequestHeader HttpHeaders headers) {\n        // String id\n        return ok(service.queryForStationId(stationName, headers));\n    }","returnType":"HttpEntity","methodName":"queryForStationId","className":"BasicController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.BasicController.queryForStationId","classId":"fdse.microservice.controller.BasicController","line":35,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/basic/{stationName}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"service.queryForStationId(stationName, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"BasicController","parentMethodName":"queryForStationId","parentClassId":"fdse.microservice.controller.BasicController","lineNumber":38,"calledMethodName":"queryForStationId","calledServiceId":"service","statementDeclaration":"service.queryForStationId(stationName, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/controller/BasicController.java","directoryName":""},"code":"@Autowired\n    BasicService service;","fieldClass":"BasicService","fieldVariable":"service","parentMethod":{"parentClassName":"BasicController","parentPackageName":"fdse.microservice.controller"},"line":21},"msService":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/service/BasicServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.BasicServiceImpl","packageName":"fdse.microservice.service","className":"BasicServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/service/BasicServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForStationId(String stationName, HttpHeaders headers) {\n        BasicServiceImpl.LOGGER.info(\"[Basic Information Service][Query For Station Id] Station Id: {}\", stationName);\n        HttpEntity requestEntity \u003d new HttpEntity( headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + stationName,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n        return  re.getBody();\n    }","returnType":"Response","methodName":"queryForStationId","className":"BasicServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.BasicServiceImpl.queryForStationId","classId":"fdse.microservice.service.BasicServiceImpl","line":104,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + stationName","httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-basic-service/src/main/java/fdse/microservice/service/BasicServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + stationName,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"fdse.microservice.service","parentClassName":"BasicServiceImpl","parentMethodName":"queryForStationId","parentClassId":"fdse.microservice.service.BasicServiceImpl","lineNumber":108,"statementDeclaration":"restTemplate.exchange(\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + stationName, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"classId":"admintravel.controller.AdminTravelController","packageName":"admintravel.controller","className":"AdminTravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ AdminTravel Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AdminTravelController","packageName":"admintravel.controller","methodId":"admintravel.controller.AdminTravelController.home","classId":"admintravel.controller.AdminTravelController","line":21,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"classId":"admintravel.controller.AdminTravelController","packageName":"admintravel.controller","className":"AdminTravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/admintravel\")\n    public HttpEntity getAllTravels(@RequestHeader HttpHeaders headers) {\n        return ok(adminTravelService.getAllTravels(headers));\n    }","returnType":"HttpEntity","methodName":"getAllTravels","className":"AdminTravelController","packageName":"admintravel.controller","methodId":"admintravel.controller.AdminTravelController.getAllTravels","classId":"admintravel.controller.AdminTravelController","line":26,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/admintravel\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"adminTravelService.getAllTravels(headers)","parentPackageName":"admintravel.controller","parentClassName":"AdminTravelController","parentMethodName":"getAllTravels","parentClassId":"admintravel.controller.AdminTravelController","lineNumber":29,"calledMethodName":"getAllTravels","calledServiceId":"adminTravelService","statementDeclaration":"adminTravelService.getAllTravels(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@Autowired\n    AdminTravelService adminTravelService;","fieldClass":"AdminTravelService","fieldVariable":"adminTravelService","parentMethod":{"parentClassName":"AdminTravelController","parentPackageName":"admintravel.controller"},"line":18},"msService":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"classId":"admintravel.service.AdminTravelServiceImpl","packageName":"admintravel.service","className":"AdminTravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllTravels(HttpHeaders headers) {\n        Response\u003cArrayList\u003cAdminTrip\u003e\u003e result;\n        ArrayList\u003cAdminTrip\u003e trips \u003d new ArrayList\u003c\u003e();\n\n        AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Get All Travels]\");\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/admin_trip\",\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n                });\n        result \u003d re.getBody();\n\n        if (result.getStatus() \u003d\u003d 1) {\n            ArrayList\u003cAdminTrip\u003e adminTrips \u003d result.getData();\n            AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Get Travel From ts-travel-service successfully!]\");\n            trips.addAll(adminTrips);\n        } else {\n            AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Get Travel From ts-travel-service fail!]\");\n        }\n\n        HttpEntity requestEntity2 \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e re2 \u003d restTemplate.exchange(\n                \"http://ts-travel2-service:16346/api/v1/travel2service/admin_trip\",\n                HttpMethod.GET,\n                requestEntity2,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n                });\n        result \u003d re2.getBody();\n\n        if (result.getStatus() \u003d\u003d 1) {\n            AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Get Travel From ts-travel2-service successfully!]\");\n            ArrayList\u003cAdminTrip\u003e adminTrips \u003d result.getData();\n            trips.addAll(adminTrips);\n        } else {\n            AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Get Travel From ts-travel2-service fail!]\");\n        }\n        result.setData(trips);\n\n        return result;\n    }","returnType":"Response","methodName":"getAllTravels","className":"AdminTravelServiceImpl","packageName":"admintravel.service","methodId":"admintravel.service.AdminTravelServiceImpl.getAllTravels","classId":"admintravel.service.AdminTravelServiceImpl","line":29,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/admin_trip\"","httpMethod":"GET","returnType":"ArrayList\u003cAdminTrip\u003e","msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/admin_trip\",\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n                })","parentPackageName":"admintravel.service","parentClassName":"AdminTravelServiceImpl","parentMethodName":"getAllTravels","parentClassId":"admintravel.service.AdminTravelServiceImpl","lineNumber":36,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/admin_trip\", HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n})"},{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/admin_trip\"","httpMethod":"GET","returnType":"ArrayList\u003cAdminTrip\u003e","msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-travel2-service:16346/api/v1/travel2service/admin_trip\",\n                HttpMethod.GET,\n                requestEntity2,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n                })","parentPackageName":"admintravel.service","parentClassName":"AdminTravelServiceImpl","parentMethodName":"getAllTravels","parentClassId":"admintravel.service.AdminTravelServiceImpl","lineNumber":53,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/admin_trip\", HttpMethod.GET, requestEntity2, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cAdminTrip\u003e\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"classId":"admintravel.controller.AdminTravelController","packageName":"admintravel.controller","className":"AdminTravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/admintravel\")\n    public HttpEntity addTravel(@RequestBody TravelInfo request, @RequestHeader HttpHeaders headers) {\n        return ok(adminTravelService.addTravel(request, headers));\n    }","returnType":"HttpEntity","methodName":"addTravel","className":"AdminTravelController","packageName":"admintravel.controller","methodId":"admintravel.controller.AdminTravelController.addTravel","classId":"admintravel.controller.AdminTravelController","line":32,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/admintravel\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"adminTravelService.addTravel(request, headers)","parentPackageName":"admintravel.controller","parentClassName":"AdminTravelController","parentMethodName":"addTravel","parentClassId":"admintravel.controller.AdminTravelController","lineNumber":34,"calledMethodName":"addTravel","calledServiceId":"adminTravelService","statementDeclaration":"adminTravelService.addTravel(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@Autowired\n    AdminTravelService adminTravelService;","fieldClass":"AdminTravelService","fieldVariable":"adminTravelService","parentMethod":{"parentClassName":"AdminTravelController","parentPackageName":"admintravel.controller"},"line":18},"msService":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"classId":"admintravel.service.AdminTravelServiceImpl","packageName":"admintravel.service","className":"AdminTravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addTravel(TravelInfo request, HttpHeaders headers) {\n        Response resultResponse;\n        String requestUrl;\n        if (request.getTrainTypeId().charAt(0) \u003d\u003d \u0027G\u0027 || request.getTrainTypeId().charAt(0) \u003d\u003d \u0027D\u0027) {\n            requestUrl \u003d \"http://ts-travel-service:12346/api/v1/travelservice/trips\";\n        } else {\n            requestUrl \u003d \"http://ts-travel2-service:16346/api/v1/travel2service/trips\";\n        }\n        HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                requestUrl,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        resultResponse \u003d re.getBody();\n\n        if (resultResponse.getStatus() \u003d\u003d 1) {\n            AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Admin add new travel]\");\n            return new Response\u003c\u003e(1, \"[Admin Travel Service][Admin add new travel]\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"Admin add new travel failed\", null);\n        }\n    }","returnType":"Response","methodName":"addTravel","className":"AdminTravelServiceImpl","packageName":"admintravel.service","methodId":"admintravel.service.AdminTravelServiceImpl.addTravel","classId":"admintravel.service.AdminTravelServiceImpl","line":73,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                requestUrl,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"admintravel.service","parentClassName":"AdminTravelServiceImpl","parentMethodName":"addTravel","parentClassId":"admintravel.service.AdminTravelServiceImpl","lineNumber":83,"statementDeclaration":"restTemplate.exchange(requestUrl, HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"classId":"admintravel.controller.AdminTravelController","packageName":"admintravel.controller","className":"AdminTravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@PutMapping(value \u003d \"/admintravel\")\n    public HttpEntity updateTravel(@RequestBody TravelInfo request, @RequestHeader HttpHeaders headers) {\n        return ok(adminTravelService.updateTravel(request, headers));\n    }","returnType":"HttpEntity","methodName":"updateTravel","className":"AdminTravelController","packageName":"admintravel.controller","methodId":"admintravel.controller.AdminTravelController.updateTravel","classId":"admintravel.controller.AdminTravelController","line":37,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/admintravel\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"adminTravelService.updateTravel(request, headers)","parentPackageName":"admintravel.controller","parentClassName":"AdminTravelController","parentMethodName":"updateTravel","parentClassId":"admintravel.controller.AdminTravelController","lineNumber":39,"calledMethodName":"updateTravel","calledServiceId":"adminTravelService","statementDeclaration":"adminTravelService.updateTravel(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@Autowired\n    AdminTravelService adminTravelService;","fieldClass":"AdminTravelService","fieldVariable":"adminTravelService","parentMethod":{"parentClassName":"AdminTravelController","parentPackageName":"admintravel.controller"},"line":18},"msService":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"classId":"admintravel.service.AdminTravelServiceImpl","packageName":"admintravel.service","className":"AdminTravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateTravel(TravelInfo request, HttpHeaders headers) {\n        Response result;\n\n        String requestUrl \u003d \"\";\n        if (request.getTrainTypeId().charAt(0) \u003d\u003d \u0027G\u0027 || request.getTrainTypeId().charAt(0) \u003d\u003d \u0027D\u0027) {\n            requestUrl \u003d \"http://ts-travel-service:12346/api/v1/travelservice/trips\";\n        } else {\n            requestUrl \u003d \"http://ts-travel2-service:16346/api/v1/travel2service/trips\";\n        }\n        HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                requestUrl,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        AdminTravelServiceImpl.LOGGER.info(\"[Admin Travel Service][Admin update travel]\");\n        return result;\n    }","returnType":"Response","methodName":"updateTravel","className":"AdminTravelServiceImpl","packageName":"admintravel.service","methodId":"admintravel.service.AdminTravelServiceImpl.updateTravel","classId":"admintravel.service.AdminTravelServiceImpl","line":98,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                requestUrl,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"admintravel.service","parentClassName":"AdminTravelServiceImpl","parentMethodName":"updateTravel","parentClassId":"admintravel.service.AdminTravelServiceImpl","lineNumber":109,"statementDeclaration":"restTemplate.exchange(requestUrl, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"classId":"admintravel.controller.AdminTravelController","packageName":"admintravel.controller","className":"AdminTravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/admintravel/{tripId}\")\n    public HttpEntity deleteTravel(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        return ok(adminTravelService.deleteTravel(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteTravel","className":"AdminTravelController","packageName":"admintravel.controller","methodId":"admintravel.controller.AdminTravelController.deleteTravel","classId":"admintravel.controller.AdminTravelController","line":42,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/admintravel/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"adminTravelService.deleteTravel(tripId, headers)","parentPackageName":"admintravel.controller","parentClassName":"AdminTravelController","parentMethodName":"deleteTravel","parentClassId":"admintravel.controller.AdminTravelController","lineNumber":44,"calledMethodName":"deleteTravel","calledServiceId":"adminTravelService","statementDeclaration":"adminTravelService.deleteTravel(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/controller/AdminTravelController.java","directoryName":""},"code":"@Autowired\n    AdminTravelService adminTravelService;","fieldClass":"AdminTravelService","fieldVariable":"adminTravelService","parentMethod":{"parentClassName":"AdminTravelController","parentPackageName":"admintravel.controller"},"line":18},"msService":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"classId":"admintravel.service.AdminTravelServiceImpl","packageName":"admintravel.service","className":"AdminTravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteTravel(String tripId, HttpHeaders headers) {\n\n        Response result;\n        String requestUtl \u003d \"\";\n        if (tripId.charAt(0) \u003d\u003d \u0027G\u0027 || tripId.charAt(0) \u003d\u003d \u0027D\u0027) {\n            requestUtl \u003d \"http://ts-travel-service:12346/api/v1/travelservice/trips/\" + tripId;\n        } else {\n            requestUtl \u003d \"http://ts-travel2-service:16346/api/v1/travel2service/trips/\" + tripId;\n        }\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                requestUtl,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n    }","returnType":"Response","methodName":"deleteTravel","className":"AdminTravelServiceImpl","packageName":"admintravel.service","methodId":"admintravel.service.AdminTravelServiceImpl.deleteTravel","classId":"admintravel.service.AdminTravelServiceImpl","line":119,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-travel-service/src/main/java/admintravel/service/AdminTravelServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                requestUtl,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"admintravel.service","parentClassName":"AdminTravelServiceImpl","parentMethodName":"deleteTravel","parentClassId":"admintravel.service.AdminTravelServiceImpl","lineNumber":130,"statementDeclaration":"restTemplate.exchange(requestUtl, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/trains/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Train Service ] !\";\n    }","returnType":"String","methodName":"home","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.home","classId":"train.controller.TrainController","line":24,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/trains/welcome\""}]}},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trains\")\n    public HttpEntity create(@RequestBody TrainType trainType, @RequestHeader HttpHeaders headers) {\n        boolean isCreateSuccess \u003d trainService.create(trainType, headers);\n        if (isCreateSuccess) {\n            return ok(new Response(1, \"create success\", null));\n        } else {\n            return ok(new Response(0, \"train type already exist\", trainType));\n        }\n    }","returnType":"HttpEntity","methodName":"create","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.create","classId":"train.controller.TrainController","line":29,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"trainService.create(trainType, headers)","parentPackageName":"train.controller","parentClassName":"TrainController","parentMethodName":"create","parentClassId":"train.controller.TrainController","lineNumber":32,"calledMethodName":"create","calledServiceId":"trainService","statementDeclaration":"trainService.create(trainType, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@Autowired\n    private TrainService trainService;","fieldClass":"TrainService","fieldVariable":"trainService","parentMethod":{"parentClassName":"TrainController","parentPackageName":"train.controller"},"line":21},"msService":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"classId":"train.service.TrainServiceImpl","packageName":"train.service","className":"TrainServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean create(TrainType trainType, HttpHeaders headers) {\n        boolean result \u003d false;\n        if (repository.findById(trainType.getId()) \u003d\u003d null) {\n            TrainType type \u003d new TrainType(trainType.getId(), trainType.getEconomyClass(), trainType.getConfortClass());\n            type.setAverageSpeed(trainType.getAverageSpeed());\n            repository.save(type);\n            result \u003d true;\n        }\n        return result;\n    }","returnType":"boolean","methodName":"create","className":"TrainServiceImpl","packageName":"train.service","methodId":"train.service.TrainServiceImpl.create","classId":"train.service.TrainServiceImpl","line":18,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"repository.findById(trainType.getId())","parentPackageName":"train.service","parentClassName":"TrainServiceImpl","parentMethodName":"create","parentClassId":"train.service.TrainServiceImpl","lineNumber":21,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(trainType.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TrainTypeRepository repository;","fieldClass":"TrainTypeRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TrainServiceImpl","parentPackageName":"train.service"},"line":14},"msRepository":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"classId":"train.repository.TrainTypeRepository","packageName":"train.repository","className":"TrainTypeRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"code":"TrainType findById(String id);","returnType":"TrainType","methodName":"findById","className":"TrainTypeRepository","packageName":"train.repository","methodId":"train.repository.TrainTypeRepository.findById","classId":"train.repository.TrainTypeRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trains/{id}\")\n    public HttpEntity retrieve(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        TrainType trainType \u003d trainService.retrieve(id, headers);\n        if (trainType \u003d\u003d null) {\n            return ok(new Response(0, \"here is no TrainType with the trainType id: \" + id, null));\n        } else {\n            return ok(new Response(1, \"success\", trainType));\n        }\n    }","returnType":"HttpEntity","methodName":"retrieve","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.retrieve","classId":"train.controller.TrainController","line":40,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trains/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"trainService.retrieve(id, headers)","parentPackageName":"train.controller","parentClassName":"TrainController","parentMethodName":"retrieve","parentClassId":"train.controller.TrainController","lineNumber":43,"calledMethodName":"retrieve","calledServiceId":"trainService","statementDeclaration":"trainService.retrieve(id, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@Autowired\n    private TrainService trainService;","fieldClass":"TrainService","fieldVariable":"trainService","parentMethod":{"parentClassName":"TrainController","parentPackageName":"train.controller"},"line":21},"msService":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"classId":"train.service.TrainServiceImpl","packageName":"train.service","className":"TrainServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Override\n    public TrainType retrieve(String id, HttpHeaders headers) {\n        if (repository.findById(id) \u003d\u003d null) {\n            return null;\n        } else {\n            return repository.findById(id);\n        }\n    }","returnType":"TrainType","methodName":"retrieve","className":"TrainServiceImpl","packageName":"train.service","methodId":"train.service.TrainServiceImpl.retrieve","classId":"train.service.TrainServiceImpl","line":30,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"repository.findById(id)","parentPackageName":"train.service","parentClassName":"TrainServiceImpl","parentMethodName":"retrieve","parentClassId":"train.service.TrainServiceImpl","lineNumber":32,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(id)"},"msServiceRepositoryField":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TrainTypeRepository repository;","fieldClass":"TrainTypeRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TrainServiceImpl","parentPackageName":"train.service"},"line":14},"msRepository":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"classId":"train.repository.TrainTypeRepository","packageName":"train.repository","className":"TrainTypeRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"code":"TrainType findById(String id);","returnType":"TrainType","methodName":"findById","className":"TrainTypeRepository","packageName":"train.repository","methodId":"train.repository.TrainTypeRepository.findById","classId":"train.repository.TrainTypeRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(value \u003d \"/trains\")\n    public HttpEntity update(@RequestBody TrainType trainType, @RequestHeader HttpHeaders headers) {\n        boolean isUpdateSuccess \u003d trainService.update(trainType, headers);\n        if (isUpdateSuccess) {\n            return ok(new Response(1, \"update success\", isUpdateSuccess));\n        } else {\n            return ok(new Response(0, \"there is no trainType with the trainType id\", isUpdateSuccess));\n        }\n    }","returnType":"HttpEntity","methodName":"update","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.update","classId":"train.controller.TrainController","line":51,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"trainService.update(trainType, headers)","parentPackageName":"train.controller","parentClassName":"TrainController","parentMethodName":"update","parentClassId":"train.controller.TrainController","lineNumber":54,"calledMethodName":"update","calledServiceId":"trainService","statementDeclaration":"trainService.update(trainType, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@Autowired\n    private TrainService trainService;","fieldClass":"TrainService","fieldVariable":"trainService","parentMethod":{"parentClassName":"TrainController","parentPackageName":"train.controller"},"line":21},"msService":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"classId":"train.service.TrainServiceImpl","packageName":"train.service","className":"TrainServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean update(TrainType trainType, HttpHeaders headers) {\n        boolean result \u003d false;\n        if (repository.findById(trainType.getId()) !\u003d null) {\n            TrainType type \u003d new TrainType(trainType.getId(), trainType.getEconomyClass(), trainType.getConfortClass());\n            type.setAverageSpeed(trainType.getAverageSpeed());\n            repository.save(type);\n            result \u003d true;\n        }\n        return result;\n    }","returnType":"boolean","methodName":"update","className":"TrainServiceImpl","packageName":"train.service","methodId":"train.service.TrainServiceImpl.update","classId":"train.service.TrainServiceImpl","line":39,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"repository.findById(trainType.getId())","parentPackageName":"train.service","parentClassName":"TrainServiceImpl","parentMethodName":"update","parentClassId":"train.service.TrainServiceImpl","lineNumber":42,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(trainType.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TrainTypeRepository repository;","fieldClass":"TrainTypeRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TrainServiceImpl","parentPackageName":"train.service"},"line":14},"msRepository":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"classId":"train.repository.TrainTypeRepository","packageName":"train.repository","className":"TrainTypeRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"code":"TrainType findById(String id);","returnType":"TrainType","methodName":"findById","className":"TrainTypeRepository","packageName":"train.repository","methodId":"train.repository.TrainTypeRepository.findById","classId":"train.repository.TrainTypeRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(value \u003d \"/trains/{id}\")\n    public HttpEntity delete(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        boolean isDeleteSuccess \u003d trainService.delete(id, headers);\n        if (isDeleteSuccess) {\n            return ok(new Response(1, \"delete success\", isDeleteSuccess));\n        } else {\n            return ok(new Response(0, \"there is no train according to id\", null));\n        }\n    }","returnType":"HttpEntity","methodName":"delete","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.delete","classId":"train.controller.TrainController","line":62,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/trains/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"trainService.delete(id, headers)","parentPackageName":"train.controller","parentClassName":"TrainController","parentMethodName":"delete","parentClassId":"train.controller.TrainController","lineNumber":65,"calledMethodName":"delete","calledServiceId":"trainService","statementDeclaration":"trainService.delete(id, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@Autowired\n    private TrainService trainService;","fieldClass":"TrainService","fieldVariable":"trainService","parentMethod":{"parentClassName":"TrainController","parentPackageName":"train.controller"},"line":21},"msService":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"classId":"train.service.TrainServiceImpl","packageName":"train.service","className":"TrainServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean delete(String id, HttpHeaders headers) {\n        boolean result \u003d false;\n        if (repository.findById(id) !\u003d null) {\n            repository.deleteById(id);\n            result \u003d true;\n        }\n        return result;\n    }","returnType":"boolean","methodName":"delete","className":"TrainServiceImpl","packageName":"train.service","methodId":"train.service.TrainServiceImpl.delete","classId":"train.service.TrainServiceImpl","line":51,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"repository.findById(id)","parentPackageName":"train.service","parentClassName":"TrainServiceImpl","parentMethodName":"delete","parentClassId":"train.service.TrainServiceImpl","lineNumber":54,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(id)"},"msServiceRepositoryField":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TrainTypeRepository repository;","fieldClass":"TrainTypeRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TrainServiceImpl","parentPackageName":"train.service"},"line":14},"msRepository":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"classId":"train.repository.TrainTypeRepository","packageName":"train.repository","className":"TrainTypeRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"code":"TrainType findById(String id);","returnType":"TrainType","methodName":"findById","className":"TrainTypeRepository","packageName":"train.repository","methodId":"train.repository.TrainTypeRepository.findById","classId":"train.repository.TrainTypeRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"classId":"train.controller.TrainController","packageName":"train.controller","className":"TrainController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trains\")\n    public HttpEntity query(@RequestHeader HttpHeaders headers) {\n        List\u003cTrainType\u003e trainTypes \u003d trainService.query(headers);\n        if (trainTypes !\u003d null \u0026\u0026 !trainTypes.isEmpty()) {\n            return ok(new Response(1, \"success\", trainTypes));\n        } else {\n            return ok(new Response(0, \"no content\", trainTypes));\n        }\n    }","returnType":"HttpEntity","methodName":"query","className":"TrainController","packageName":"train.controller","methodId":"train.controller.TrainController.query","classId":"train.controller.TrainController","line":73,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"trainService.query(headers)","parentPackageName":"train.controller","parentClassName":"TrainController","parentMethodName":"query","parentClassId":"train.controller.TrainController","lineNumber":76,"calledMethodName":"query","calledServiceId":"trainService","statementDeclaration":"trainService.query(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-train-service/src/main/java/train/controller/TrainController.java","directoryName":""},"code":"@Autowired\n    private TrainService trainService;","fieldClass":"TrainService","fieldVariable":"trainService","parentMethod":{"parentClassName":"TrainController","parentPackageName":"train.controller"},"line":21},"msService":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"classId":"train.service.TrainServiceImpl","packageName":"train.service","className":"TrainServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Override\n    public List\u003cTrainType\u003e query(HttpHeaders headers) {\n        return repository.findAll();\n    }","returnType":"List\u003cTrainType\u003e","methodName":"query","className":"TrainServiceImpl","packageName":"train.service","methodId":"train.service.TrainServiceImpl.query","classId":"train.service.TrainServiceImpl","line":61,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"train.service","parentClassName":"TrainServiceImpl","parentMethodName":"query","parentClassId":"train.service.TrainServiceImpl","lineNumber":63,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-train-service/src/main/java/train/service/TrainServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TrainTypeRepository repository;","fieldClass":"TrainTypeRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TrainServiceImpl","parentPackageName":"train.service"},"line":14},"msRepository":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"classId":"train.repository.TrainTypeRepository","packageName":"train.repository","className":"TrainTypeRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-train-service/src/main/java/train/repository/TrainTypeRepository.java","directoryName":""},"code":"@Override\n    List\u003cTrainType\u003e findAll();","returnType":"List\u003cTrainType\u003e","methodName":"findAll","className":"TrainTypeRepository","packageName":"train.repository","methodId":"train.repository.TrainTypeRepository.findAll","classId":"train.repository.TrainTypeRepository","line":12,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"classId":"preserveOther.controller.PreserveOtherController","packageName":"preserveOther.controller","className":"PreserveOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ PreserveOther Service ] !\";\n    }","returnType":"String","methodName":"home","className":"PreserveOtherController","packageName":"preserveOther.controller","methodId":"preserveOther.controller.PreserveOtherController.home","classId":"preserveOther.controller.PreserveOtherController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"classId":"preserveOther.controller.PreserveOtherController","packageName":"preserveOther.controller","className":"PreserveOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/preserveOther\")\n    public HttpEntity preserve(@RequestBody OrderTicketsInfo oti,\n                               @RequestHeader HttpHeaders headers) {\n        PreserveOtherController.LOGGER.info(\"[Preserve Other Service][Preserve] Account  order from {} -----\u003e {} at {}\", oti.getFrom(), oti.getTo(), oti.getDate());\n        return ok(preserveService.preserve(oti, headers));\n    }","returnType":"HttpEntity","methodName":"preserve","className":"PreserveOtherController","packageName":"preserveOther.controller","methodId":"preserveOther.controller.PreserveOtherController.preserve","classId":"preserveOther.controller.PreserveOtherController","line":31,"msArgumentList":[{"returnType":"OrderTicketsInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/preserveOther\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"code":"preserveService.preserve(oti, headers)","parentPackageName":"preserveOther.controller","parentClassName":"PreserveOtherController","parentMethodName":"preserve","parentClassId":"preserveOther.controller.PreserveOtherController","lineNumber":36,"calledMethodName":"preserve","calledServiceId":"preserveService","statementDeclaration":"preserveService.preserve(oti, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/controller/PreserveOtherController.java","directoryName":""},"code":"@Autowired\n    private PreserveOtherService preserveService;","fieldClass":"PreserveOtherService","fieldVariable":"preserveService","parentMethod":{"parentClassName":"PreserveOtherController","parentPackageName":"preserveOther.controller"},"line":21},"msService":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/service/PreserveOtherServiceImpl.java","directoryName":""},"classId":"preserveOther.service.PreserveOtherServiceImpl","packageName":"preserveOther.service","className":"PreserveOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/service/PreserveOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response preserve(OrderTicketsInfo oti, HttpHeaders httpHeaders) {\n\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service][Verify Login] Success\");\n        //1.detect ticket scalper\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service] [Step 1] Check Security\");\n\n        Response result \u003d checkSecurity(oti.getAccountId(), httpHeaders);\n\n        if (result.getStatus() \u003d\u003d 0) {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service] [Step 1] Check Security Fail. Return soon.\");\n            return new Response\u003c\u003e(0, result.getMsg(), null);\n        }\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service] [Step 1] Check Security Complete. \");\n        //2.Querying contact information -- modification, mediated by the underlying information micro service\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 2] Find contacts\");\n\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 2] Contacts Id: {}\", oti.getContactsId());\n\n        Response\u003cContacts\u003e gcr \u003d getContactsById(oti.getContactsId(), httpHeaders);\n        if (gcr.getStatus() \u003d\u003d 0) {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Get Contacts] Fail. {}\", gcr.getMsg());\n            return new Response\u003c\u003e(0, gcr.getMsg(), null);\n        }\n\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service][Step 2] Complete\");\n        //3.Check the info of train and the number of remaining tickets\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 3] Check tickets num\");\n        TripAllDetailInfo gtdi \u003d new TripAllDetailInfo();\n\n        gtdi.setFrom(oti.getFrom());\n        gtdi.setTo(oti.getTo());\n\n        gtdi.setTravelDate(oti.getDate());\n        gtdi.setTripId(oti.getTripId());\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 3] TripId: {}\", oti.getTripId());\n        Response\u003cTripAllDetail\u003e response \u003d getTripAllDetailInformation(gtdi, httpHeaders);\n        TripAllDetail gtdr \u003d response.getData();\n        LOGGER.info(\"TripAllDetail : \" + gtdr.toString());\n        if (response.getStatus() \u003d\u003d 0) {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Search For Trip Detail Information] {}\", response.getMsg());\n            return new Response\u003c\u003e(0, response.getMsg(), null);\n        } else {\n            TripResponse tripResponse \u003d gtdr.getTripResponse();\n            LOGGER.info(\"TripResponse : \" + tripResponse.toString());\n            if (oti.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n                if (tripResponse.getConfortClass() \u003d\u003d 0) {\n                    PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Check seat is enough] \");\n                    return new Response\u003c\u003e(0, \"Seat Not Enough\", null);\n                }\n            } else {\n                if (tripResponse.getEconomyClass() \u003d\u003d SeatClass.SECONDCLASS.getCode() \u0026\u0026 tripResponse.getConfortClass() \u003d\u003d 0) {\n                    PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Check seat is Not enough] \");\n                    return new Response\u003c\u003e(0, \"Check Seat Not Enough\", null);\n                }\n            }\n        }\n        Trip trip \u003d gtdr.getTrip();\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 3] Tickets Enough\");\n        //4.send the order request and set the order information\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 4] Do Order\");\n        Contacts contacts \u003d gcr.getData();\n        Order order \u003d new Order();\n        UUID orderId \u003d UUID.randomUUID();\n        order.setId(orderId);\n        order.setTrainNumber(oti.getTripId());\n        order.setAccountId(UUID.fromString(oti.getAccountId()));\n\n        String fromStationId \u003d queryForStationId(oti.getFrom(), httpHeaders);\n        String toStationId \u003d queryForStationId(oti.getTo(), httpHeaders);\n\n        order.setFrom(fromStationId);\n        order.setTo(toStationId);\n        order.setBoughtDate(new Date());\n        order.setStatus(OrderStatus.NOTPAID.getCode());\n        order.setContactsDocumentNumber(contacts.getDocumentNumber());\n        order.setContactsName(contacts.getName());\n        order.setDocumentType(contacts.getDocumentType());\n\n\n        Travel query \u003d new Travel();\n        query.setTrip(trip);\n        query.setStartingPlace(oti.getFrom());\n        query.setEndPlace(oti.getTo());\n        query.setDepartureTime(new Date());\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(query, httpHeaders);\n        ResponseEntity\u003cResponse\u003cTravelResult\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n                });\n        TravelResult resultForTravel \u003d re.getBody().getData();\n\n        order.setSeatClass(oti.getSeatType());\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service][Order] Order Travel Date: {}\", oti.getDate().toString());\n        order.setTravelDate(oti.getDate());\n        order.setTravelTime(gtdr.getTripResponse().getStartingTime());\n\n        //Dispatch the seat\n        if (oti.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            Ticket ticket \u003d\n                    dipatchSeat(oti.getDate(),\n                            order.getTrainNumber(), fromStationId, toStationId,\n                            SeatClass.FIRSTCLASS.getCode(), httpHeaders);\n            order.setSeatClass(SeatClass.FIRSTCLASS.getCode());\n            order.setSeatNumber(\"\" + ticket.getSeatNo());\n            order.setPrice(resultForTravel.getPrices().get(\"confortClass\"));\n        } else {\n            Ticket ticket \u003d\n                    dipatchSeat(oti.getDate(),\n                            order.getTrainNumber(), fromStationId, toStationId,\n                            SeatClass.SECONDCLASS.getCode(), httpHeaders);\n            order.setSeatClass(SeatClass.SECONDCLASS.getCode());\n            order.setSeatNumber(\"\" + ticket.getSeatNo());\n\n            order.setPrice(resultForTravel.getPrices().get(\"economyClass\"));\n        }\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service][Order Price] Price is: {}\", order.getPrice());\n\n        Response\u003cOrder\u003e cor \u003d createOrder(order, httpHeaders);\n        if (cor.getStatus() \u003d\u003d 0) {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service][Create Order Fail] Create Order Fail.  Reason: {}\", cor.getMsg());\n            return new Response\u003c\u003e(0, cor.getMsg(), null);\n        }\n\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Other Service] [Step 4] Do Order Complete\");\n        Response returnResponse \u003d new Response\u003c\u003e(1, \"Success.\", cor.getMsg());\n        //5.Check insurance options\n        if (oti.getAssurance() \u003d\u003d 0) {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Do not need to buy assurance\");\n        } else {\n            Response\u003cAssurance\u003e addAssuranceResult \u003d addAssuranceForOrder(\n                    oti.getAssurance(), cor.getData().getId().toString(), httpHeaders);\n            if (addAssuranceResult.getStatus() \u003d\u003d 1) {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Preserve Buy Assurance Success\");\n            } else {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Buy Assurance Fail.\");\n                returnResponse.setMsg(\"Success.But Buy Assurance Fail.\");\n            }\n        }\n\n        //6.Increase the food order\n        if (oti.getFoodType() !\u003d 0) {\n            FoodOrder foodOrder \u003d new FoodOrder();\n            foodOrder.setOrderId(cor.getData().getId());\n            foodOrder.setFoodType(oti.getFoodType());\n            foodOrder.setFoodName(oti.getFoodName());\n            foodOrder.setPrice(oti.getFoodPrice());\n            if (oti.getFoodType() \u003d\u003d 2) {\n                foodOrder.setStationName(oti.getStationName());\n                foodOrder.setStoreName(oti.getStoreName());\n            }\n            Response afor \u003d createFoodOrder(foodOrder, httpHeaders);\n            if (afor.getStatus() \u003d\u003d 1) {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Buy Food Success\");\n            } else {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Buy Food Fail.\");\n                returnResponse.setMsg(\"Success.But Buy Food Fail.\");\n            }\n        } else {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Do not need to buy food\");\n        }\n\n        //7.add consign\n        if (null !\u003d oti.getConsigneeName() \u0026\u0026 !\"\".equals(oti.getConsigneeName())) {\n            Consign consignRequest \u003d new Consign();\n            consignRequest.setOrderId(cor.getData().getId());\n            consignRequest.setAccountId(cor.getData().getAccountId());\n            consignRequest.setHandleDate(oti.getHandleDate());\n            consignRequest.setTargetDate(cor.getData().getTravelDate().toString());\n            consignRequest.setFrom(cor.getData().getFrom());\n            consignRequest.setTo(cor.getData().getTo());\n            consignRequest.setConsignee(oti.getConsigneeName());\n            consignRequest.setPhone(oti.getConsigneePhone());\n            consignRequest.setWeight(oti.getConsigneeWeight());\n            consignRequest.setWithin(oti.isWithin());\n            LOGGER.info(\"CONSIGN INFO : \" + consignRequest.toString());\n            Response icresult \u003d createConsign(consignRequest, httpHeaders);\n            if (icresult.getStatus() \u003d\u003d 1) {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Consign Success\");\n            } else {\n                PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Preserve Consign Fail.\");\n                returnResponse.setMsg(\"Consign Fail.\");\n            }\n        } else {\n            PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Do not need to consign\");\n        }\n\n        //8.send notification\n        PreserveOtherServiceImpl.LOGGER.info(\"[Preserve Service]\");\n\n        User getUser \u003d getAccount(order.getAccountId().toString(), httpHeaders);\n\n        NotifyInfo notifyInfo \u003d new NotifyInfo();\n        notifyInfo.setDate(new Date().toString());\n\n        notifyInfo.setEmail(getUser.getEmail());\n        notifyInfo.setStartingPlace(order.getFrom());\n        notifyInfo.setEndPlace(order.getTo());\n        notifyInfo.setUsername(getUser.getUserName());\n        notifyInfo.setSeatNumber(order.getSeatNumber());\n        notifyInfo.setOrderNumber(order.getId().toString());\n        notifyInfo.setPrice(order.getPrice());\n        notifyInfo.setSeatClass(SeatClass.getNameByCode(order.getSeatClass()));\n        notifyInfo.setStartingTime(order.getTravelTime().toString());\n\n        sendEmail(notifyInfo, httpHeaders);\n\n        return returnResponse;\n    }","returnType":"Response","methodName":"preserve","className":"PreserveOtherServiceImpl","packageName":"preserveOther.service","methodId":"preserveOther.service.PreserveOtherServiceImpl.preserve","classId":"preserveOther.service.PreserveOtherServiceImpl","line":30,"msArgumentList":[{"returnType":"OrderTicketsInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\"","httpMethod":"POST","returnType":"TravelResult","msId":{"path":"/ts-preserve-other-service/src/main/java/preserveOther/service/PreserveOtherServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n                })","parentPackageName":"preserveOther.service","parentClassName":"PreserveOtherServiceImpl","parentMethodName":"preserve","parentClassId":"preserveOther.service.PreserveOtherServiceImpl","lineNumber":118,"statementDeclaration":"restTemplate.exchange(\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Food Service ] !\";\n    }","returnType":"String","methodName":"home","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.home","classId":"foodsearch.controller.FoodController","line":23,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/orders\")\n    public HttpEntity findAllFoodOrder(@RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Try to Find all FoodOrder!\");\n        return ok(foodService.findAllFoodOrder(headers));\n    }","returnType":"HttpEntity","methodName":"findAllFoodOrder","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.findAllFoodOrder","classId":"foodsearch.controller.FoodController","line":28,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orders\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.findAllFoodOrder(headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"findAllFoodOrder","parentClassId":"foodsearch.controller.FoodController","lineNumber":31,"calledMethodName":"findAllFoodOrder","calledServiceId":"foodService","statementDeclaration":"foodService.findAllFoodOrder(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findAllFoodOrder(HttpHeaders headers) {\n        List\u003cFoodOrder\u003e foodOrders \u003d foodOrderRepository.findAll();\n        if (foodOrders !\u003d null \u0026\u0026 !foodOrders.isEmpty()) {\n            return new Response\u003c\u003e(1, success, foodOrders);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content\", null);\n        }\n    }","returnType":"Response","methodName":"findAllFoodOrder","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.findAllFoodOrder","classId":"foodsearch.service.FoodServiceImpl","line":74,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"foodOrderRepository.findAll()","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"findAllFoodOrder","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":76,"calledMethodName":"findAll","calledServiceId":"foodOrderRepository","statementDeclaration":"foodOrderRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Autowired\n    private FoodOrderRepository foodOrderRepository;","fieldClass":"FoodOrderRepository","fieldVariable":"foodOrderRepository","parentMethod":{"parentClassName":"FoodServiceImpl","parentPackageName":"foodsearch.service"},"line":29},"msRepository":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"classId":"foodsearch.repository.FoodOrderRepository","packageName":"foodsearch.repository","className":"FoodOrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"code":"@Override\n    List\u003cFoodOrder\u003e findAll();","returnType":"List\u003cFoodOrder\u003e","methodName":"findAll","className":"FoodOrderRepository","packageName":"foodsearch.repository","methodId":"foodsearch.repository.FoodOrderRepository.findAll","classId":"foodsearch.repository.FoodOrderRepository","line":19,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@PostMapping(path \u003d \"/orders\")\n    public HttpEntity createFoodOrder(@RequestBody FoodOrder addFoodOrder, @RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Try to Create a FoodOrder!\");\n        return ok(foodService.createFoodOrder(addFoodOrder, headers));\n    }","returnType":"HttpEntity","methodName":"createFoodOrder","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.createFoodOrder","classId":"foodsearch.controller.FoodController","line":34,"msArgumentList":[{"returnType":"FoodOrder"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/orders\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.createFoodOrder(addFoodOrder, headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"createFoodOrder","parentClassId":"foodsearch.controller.FoodController","lineNumber":37,"calledMethodName":"createFoodOrder","calledServiceId":"foodService","statementDeclaration":"foodService.createFoodOrder(addFoodOrder, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createFoodOrder(FoodOrder addFoodOrder, HttpHeaders headers) {\n\n        FoodOrder fo \u003d foodOrderRepository.findByOrderId(addFoodOrder.getOrderId());\n        if (fo !\u003d null) {\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][AddFoodOrder] Order Id Has Existed.\");\n            return new Response\u003c\u003e(0, \"Order Id Has Existed.\", null);\n        } else {\n            fo \u003d new FoodOrder();\n            fo.setId(UUID.randomUUID());\n            fo.setOrderId(addFoodOrder.getOrderId());\n            fo.setFoodType(addFoodOrder.getFoodType());\n            if (addFoodOrder.getFoodType() \u003d\u003d 2) {\n                fo.setStationName(addFoodOrder.getStationName());\n                fo.setStoreName(addFoodOrder.getStoreName());\n            }\n            fo.setFoodName(addFoodOrder.getFoodName());\n            fo.setPrice(addFoodOrder.getPrice());\n            foodOrderRepository.save(fo);\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][AddFoodOrder] Success.\");\n            return new Response\u003c\u003e(1, success, fo);\n        }\n    }","returnType":"Response","methodName":"createFoodOrder","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.createFoodOrder","classId":"foodsearch.service.FoodServiceImpl","line":37,"msArgumentList":[{"returnType":"FoodOrder"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"foodOrderRepository.findByOrderId(addFoodOrder.getOrderId())","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"createFoodOrder","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":40,"calledMethodName":"findByOrderId","calledServiceId":"foodOrderRepository","statementDeclaration":"foodOrderRepository.findByOrderId(addFoodOrder.getOrderId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Autowired\n    private FoodOrderRepository foodOrderRepository;","fieldClass":"FoodOrderRepository","fieldVariable":"foodOrderRepository","parentMethod":{"parentClassName":"FoodServiceImpl","parentPackageName":"foodsearch.service"},"line":29},"msRepository":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"classId":"foodsearch.repository.FoodOrderRepository","packageName":"foodsearch.repository","className":"FoodOrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027orderId\u0027 : ?0 }\")\n    FoodOrder findByOrderId(UUID orderId);","returnType":"FoodOrder","methodName":"findByOrderId","className":"FoodOrderRepository","packageName":"foodsearch.repository","methodId":"foodsearch.repository.FoodOrderRepository.findByOrderId","classId":"foodsearch.repository.FoodOrderRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@PutMapping(path \u003d \"/orders\")\n    public HttpEntity updateFoodOrder(@RequestBody FoodOrder updateFoodOrder, @RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Try to Update a FoodOrder!\");\n        return ok(foodService.updateFoodOrder(updateFoodOrder, headers));\n    }","returnType":"HttpEntity","methodName":"updateFoodOrder","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.updateFoodOrder","classId":"foodsearch.controller.FoodController","line":40,"msArgumentList":[{"returnType":"FoodOrder"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/orders\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.updateFoodOrder(updateFoodOrder, headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"updateFoodOrder","parentClassId":"foodsearch.controller.FoodController","lineNumber":43,"calledMethodName":"updateFoodOrder","calledServiceId":"foodService","statementDeclaration":"foodService.updateFoodOrder(updateFoodOrder, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateFoodOrder(FoodOrder updateFoodOrder, HttpHeaders headers) {\n        FoodOrder fo \u003d foodOrderRepository.findById(updateFoodOrder.getId());\n        if (fo \u003d\u003d null) {\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Update FoodOrder] Order Id Is Non-Existent.\");\n            return new Response\u003c\u003e(0, orderIdNotExist, null);\n        } else {\n            fo.setFoodType(updateFoodOrder.getFoodType());\n            if (updateFoodOrder.getFoodType() \u003d\u003d 1) {\n                fo.setStationName(updateFoodOrder.getStationName());\n                fo.setStoreName(updateFoodOrder.getStoreName());\n            }\n            fo.setFoodName(updateFoodOrder.getFoodName());\n            fo.setPrice(updateFoodOrder.getPrice());\n            foodOrderRepository.save(fo);\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Update FoodOrder] Success.\");\n            return new Response\u003c\u003e(1, \"Success\", fo);\n        }\n    }","returnType":"Response","methodName":"updateFoodOrder","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.updateFoodOrder","classId":"foodsearch.service.FoodServiceImpl","line":85,"msArgumentList":[{"returnType":"FoodOrder"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"foodOrderRepository.findById(updateFoodOrder.getId())","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"updateFoodOrder","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":87,"calledMethodName":"findById","calledServiceId":"foodOrderRepository","statementDeclaration":"foodOrderRepository.findById(updateFoodOrder.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Autowired\n    private FoodOrderRepository foodOrderRepository;","fieldClass":"FoodOrderRepository","fieldVariable":"foodOrderRepository","parentMethod":{"parentClassName":"FoodServiceImpl","parentPackageName":"foodsearch.service"},"line":29},"msRepository":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"classId":"foodsearch.repository.FoodOrderRepository","packageName":"foodsearch.repository","className":"FoodOrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"code":"FoodOrder findById(UUID id);","returnType":"FoodOrder","methodName":"findById","className":"FoodOrderRepository","packageName":"foodsearch.repository","methodId":"foodsearch.repository.FoodOrderRepository.findById","classId":"foodsearch.repository.FoodOrderRepository","line":14,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@ResponseStatus(HttpStatus.ACCEPTED)\n    @DeleteMapping(path \u003d \"/orders/{orderId}\")\n    public HttpEntity deleteFoodOrder(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Try to Cancel a FoodOrder!\");\n        return ok(foodService.deleteFoodOrder(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteFoodOrder","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.deleteFoodOrder","classId":"foodsearch.controller.FoodController","line":46,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"ResponseStatus"},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/orders/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.deleteFoodOrder(orderId, headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"deleteFoodOrder","parentClassId":"foodsearch.controller.FoodController","lineNumber":50,"calledMethodName":"deleteFoodOrder","calledServiceId":"foodService","statementDeclaration":"foodService.deleteFoodOrder(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteFoodOrder(String orderId, HttpHeaders headers) {\n        FoodOrder foodOrder \u003d foodOrderRepository.findByOrderId(UUID.fromString(orderId));\n        if (foodOrder \u003d\u003d null) {\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Cancel FoodOrder] Order Id Is Non-Existent.\");\n            return new Response\u003c\u003e(0, orderIdNotExist, null);\n        } else {\n            foodOrderRepository.deleteFoodOrderByOrderId(UUID.fromString(orderId));\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Cancel FoodOrder] Success.\");\n            return new Response\u003c\u003e(1, success, null);\n        }\n    }","returnType":"Response","methodName":"deleteFoodOrder","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.deleteFoodOrder","classId":"foodsearch.service.FoodServiceImpl","line":61,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"foodOrderRepository.findByOrderId(UUID.fromString(orderId))","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"deleteFoodOrder","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":63,"calledMethodName":"findByOrderId","calledServiceId":"foodOrderRepository","statementDeclaration":"foodOrderRepository.findByOrderId(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Autowired\n    private FoodOrderRepository foodOrderRepository;","fieldClass":"FoodOrderRepository","fieldVariable":"foodOrderRepository","parentMethod":{"parentClassName":"FoodServiceImpl","parentPackageName":"foodsearch.service"},"line":29},"msRepository":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"classId":"foodsearch.repository.FoodOrderRepository","packageName":"foodsearch.repository","className":"FoodOrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027orderId\u0027 : ?0 }\")\n    FoodOrder findByOrderId(UUID orderId);","returnType":"FoodOrder","methodName":"findByOrderId","className":"FoodOrderRepository","packageName":"foodsearch.repository","methodId":"foodsearch.repository.FoodOrderRepository.findByOrderId","classId":"foodsearch.repository.FoodOrderRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/orders/{orderId}\")\n    public HttpEntity findFoodOrderByOrderId(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Try to Find all FoodOrder!\");\n        return ok(foodService.findByOrderId(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"findFoodOrderByOrderId","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.findFoodOrderByOrderId","classId":"foodsearch.controller.FoodController","line":53,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orders/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.findByOrderId(orderId, headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"findFoodOrderByOrderId","parentClassId":"foodsearch.controller.FoodController","lineNumber":56,"calledMethodName":"findByOrderId","calledServiceId":"foodService","statementDeclaration":"foodService.findByOrderId(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findByOrderId(String orderId, HttpHeaders headers) {\n        FoodOrder fo \u003d foodOrderRepository.findByOrderId(UUID.fromString(orderId));\n        if (fo !\u003d null) {\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Find Order by id] Success.\");\n            return new Response\u003c\u003e(1, success, fo);\n        } else {\n            FoodServiceImpl.LOGGER.info(\"[Food-Service][Find Order by id] Order Id Is Non-Existent.\");\n            return new Response\u003c\u003e(0, orderIdNotExist, null);\n        }\n    }","returnType":"Response","methodName":"findByOrderId","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.findByOrderId","classId":"foodsearch.service.FoodServiceImpl","line":105,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"foodOrderRepository.findByOrderId(UUID.fromString(orderId))","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"findByOrderId","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":107,"calledMethodName":"findByOrderId","calledServiceId":"foodOrderRepository","statementDeclaration":"foodOrderRepository.findByOrderId(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Autowired\n    private FoodOrderRepository foodOrderRepository;","fieldClass":"FoodOrderRepository","fieldVariable":"foodOrderRepository","parentMethod":{"parentClassName":"FoodServiceImpl","parentPackageName":"foodsearch.service"},"line":29},"msRepository":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"classId":"foodsearch.repository.FoodOrderRepository","packageName":"foodsearch.repository","className":"FoodOrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/repository/FoodOrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027orderId\u0027 : ?0 }\")\n    FoodOrder findByOrderId(UUID orderId);","returnType":"FoodOrder","methodName":"findByOrderId","className":"FoodOrderRepository","packageName":"foodsearch.repository","methodId":"foodsearch.repository.FoodOrderRepository.findByOrderId","classId":"foodsearch.repository.FoodOrderRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"classId":"foodsearch.controller.FoodController","packageName":"foodsearch.controller","className":"FoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/foods/{date}/{startStation}/{endStation}/{tripId}\")\n    public HttpEntity getAllFood(@PathVariable String date, @PathVariable String startStation,\n                                 @PathVariable String endStation, @PathVariable String tripId,\n                                 @RequestHeader HttpHeaders headers) {\n        FoodController.LOGGER.info(\"[Food Service]Get the Get Food Request!\");\n        return ok(foodService.getAllFood(date, startStation, endStation, tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getAllFood","className":"FoodController","packageName":"foodsearch.controller","methodId":"foodsearch.controller.FoodController.getAllFood","classId":"foodsearch.controller.FoodController","line":60,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/foods/{date}/{startStation}/{endStation}/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"foodService.getAllFood(date, startStation, endStation, tripId, headers)","parentPackageName":"foodsearch.controller","parentClassName":"FoodController","parentMethodName":"getAllFood","parentClassId":"foodsearch.controller.FoodController","lineNumber":65,"calledMethodName":"getAllFood","calledServiceId":"foodService","statementDeclaration":"foodService.getAllFood(date, startStation, endStation, tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/controller/FoodController.java","directoryName":""},"code":"@Autowired\n    FoodService foodService;","fieldClass":"FoodService","fieldVariable":"foodService","parentMethod":{"parentClassName":"FoodController","parentPackageName":"foodsearch.controller"},"line":18},"msService":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"classId":"foodsearch.service.FoodServiceImpl","packageName":"foodsearch.service","className":"FoodServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllFood(String date, String startStation, String endStation, String tripId, HttpHeaders headers) {\n        FoodServiceImpl.LOGGER.info(\"data\u003d{} start\u003d{} end\u003d{} tripid\u003d{}\", date, startStation, endStation, tripId);\n        AllTripFood allTripFood \u003d new AllTripFood();\n\n        if (null \u003d\u003d tripId || tripId.length() \u003c\u003d 2) {\n            return new Response\u003c\u003e(0, \"Trip id is not suitable\", null);\n        }\n\n        // need return this tow element\n        List\u003cTrainFood\u003e trainFoodList \u003d null;\n        Map\u003cString, List\u003cFoodStore\u003e\u003e foodStoreListMap \u003d new HashMap\u003c\u003e();\n\n        /**--------------------------------------------------------------------------------------*/\n        HttpEntity requestEntityGetTrainFoodListResult \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cList\u003cTrainFood\u003e\u003e\u003e reGetTrainFoodListResult \u003d restTemplate.exchange(\n                \"http://ts-food-map-service:18855/api/v1/foodmapservice/trainfoods/\" + tripId,\n                HttpMethod.GET,\n                requestEntityGetTrainFoodListResult,\n                new ParameterizedTypeReference\u003cResponse\u003cList\u003cTrainFood\u003e\u003e\u003e() {\n                });\n\n        List\u003cTrainFood\u003e trainFoodListResult \u003d reGetTrainFoodListResult.getBody().getData();\n\n        if (trainFoodListResult !\u003d null) {\n            trainFoodList \u003d trainFoodListResult;\n            FoodServiceImpl.LOGGER.info(\"[Food Service]Get Train Food List!\");\n        } else {\n            FoodServiceImpl.LOGGER.info(\"[Food Service]Get the Get Food Request Failed!\");\n            return new Response\u003c\u003e(0, \"Get the Get Food Request Failed!\", null);\n        }\n        //\n        /**--------------------------------------------------------------------------------------*/\n        HttpEntity requestEntityGetRouteResult \u003d new HttpEntity(null, headers);\n        ResponseEntity\u003cResponse\u003cRoute\u003e\u003e reGetRouteResult \u003d restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + tripId,\n                HttpMethod.GET,\n                requestEntityGetRouteResult,\n                new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                });\n        Response\u003cRoute\u003e stationResult \u003d reGetRouteResult.getBody();\n\n        if (stationResult.getStatus() \u003d\u003d 1) {\n            Route route \u003d stationResult.getData();\n            List\u003cString\u003e stations \u003d route.getStations();\n            //\n            if (null !\u003d startStation \u0026\u0026 !\"\".equals(startStation)) {\n                /**--------------------------------------------------------------------------------------*/\n                HttpEntity requestEntityStartStationId \u003d new HttpEntity(headers);\n                ResponseEntity\u003cResponse\u003cString\u003e\u003e reStartStationId \u003d restTemplate.exchange(\n                        \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + startStation,\n                        HttpMethod.GET,\n                        requestEntityStartStationId,\n                        new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n                        });\n                Response\u003cString\u003e startStationId \u003d reStartStationId.getBody();\n\n                for (int i \u003d 0; i \u003c stations.size(); i++) {\n                    if (stations.get(i).equals(startStationId.getData())) {\n                        break;\n                    } else {\n                        stations.remove(i);\n                    }\n                }\n            }\n            if (null !\u003d endStation \u0026\u0026 !\"\".equals(endStation)) {\n                /**--------------------------------------------------------------------------------------*/\n                HttpEntity requestEntityEndStationId \u003d new HttpEntity(headers);\n                ResponseEntity\u003cResponse\u003cString\u003e\u003e reEndStationId \u003d restTemplate.exchange(\n                        \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + endStation,\n                        HttpMethod.GET,\n                        requestEntityEndStationId,\n                        new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n                        });\n                Response endStationId \u003d reEndStationId.getBody();\n\n                for (int i \u003d stations.size() - 1; i \u003e\u003d 0; i--) {\n                    if (stations.get(i).equals(endStationId.getData())) {\n                        break;\n                    } else {\n                        stations.remove(i);\n                    }\n                }\n            }\n\n            HttpEntity requestEntityFoodStoresListResult \u003d new HttpEntity(stations, headers);\n            ResponseEntity\u003cResponse\u003cList\u003cFoodStore\u003e\u003e\u003e reFoodStoresListResult \u003d restTemplate.exchange(\n                    \"http://ts-food-map-service:18855/api/v1/foodmapservice/foodstores\",\n                    HttpMethod.POST,\n                    requestEntityFoodStoresListResult,\n                    new ParameterizedTypeReference\u003cResponse\u003cList\u003cFoodStore\u003e\u003e\u003e() {\n                    });\n            List\u003cFoodStore\u003e foodStoresListResult \u003d reFoodStoresListResult.getBody().getData();\n            if (foodStoresListResult !\u003d null \u0026\u0026 !foodStoresListResult.isEmpty()) {\n                for (String stationId : stations) {\n                    List\u003cFoodStore\u003e res \u003d foodStoresListResult.stream()\n                            .filter(foodStore -\u003e (foodStore.getStationId().equals(stationId)))\n                            .collect(Collectors.toList());\n                    foodStoreListMap.put(stationId, res);\n                }\n            } else {\n                return new Response\u003c\u003e(0, \"Get All Food Failed\", allTripFood);\n            }\n        } else {\n            return new Response\u003c\u003e(0, \"Get All Food Failed\", allTripFood);\n        }\n        allTripFood.setTrainFoodList(trainFoodList);\n        allTripFood.setFoodStoreListMap(foodStoreListMap);\n        return new Response\u003c\u003e(1, \"Get All Food Success\", allTripFood);\n    }","returnType":"Response","methodName":"getAllFood","className":"FoodServiceImpl","packageName":"foodsearch.service","methodId":"foodsearch.service.FoodServiceImpl.getAllFood","classId":"foodsearch.service.FoodServiceImpl","line":118,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-food-map-service:18855/api/v1/foodmapservice/trainfoods/\" + tripId","httpMethod":"GET","returnType":"List\u003cTrainFood\u003e","msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-food-map-service:18855/api/v1/foodmapservice/trainfoods/\" + tripId,\n                HttpMethod.GET,\n                requestEntityGetTrainFoodListResult,\n                new ParameterizedTypeReference\u003cResponse\u003cList\u003cTrainFood\u003e\u003e\u003e() {\n                })","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"getAllFood","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":133,"statementDeclaration":"restTemplate.exchange(\"http://ts-food-map-service:18855/api/v1/foodmapservice/trainfoods/\" + tripId, HttpMethod.GET, requestEntityGetTrainFoodListResult, new ParameterizedTypeReference\u003cResponse\u003cList\u003cTrainFood\u003e\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + tripId","httpMethod":"GET","returnType":"Route","msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + tripId,\n                HttpMethod.GET,\n                requestEntityGetRouteResult,\n                new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                })","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"getAllFood","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":152,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + tripId, HttpMethod.GET, requestEntityGetRouteResult, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"},{"api":"\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + startStation","httpMethod":"GET","returnType":"String","msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                        \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + startStation,\n                        HttpMethod.GET,\n                        requestEntityStartStationId,\n                        new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n                        })","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"getAllFood","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":167,"statementDeclaration":"restTemplate.exchange(\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + startStation, HttpMethod.GET, requestEntityStartStationId, new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n})"},{"api":"\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + endStation","httpMethod":"GET","returnType":"String","msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                        \"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + endStation,\n                        HttpMethod.GET,\n                        requestEntityEndStationId,\n                        new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n                        })","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"getAllFood","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":186,"statementDeclaration":"restTemplate.exchange(\"http://ts-station-service:12345/api/v1/stationservice/stations/id/\" + endStation, HttpMethod.GET, requestEntityEndStationId, new ParameterizedTypeReference\u003cResponse\u003cString\u003e\u003e() {\n})"},{"api":"\"http://ts-food-map-service:18855/api/v1/foodmapservice/foodstores\"","httpMethod":"POST","returnType":"List\u003cFoodStore\u003e","msId":{"path":"/ts-food-service/src/main/java/foodsearch/service/FoodServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-food-map-service:18855/api/v1/foodmapservice/foodstores\",\n                    HttpMethod.POST,\n                    requestEntityFoodStoresListResult,\n                    new ParameterizedTypeReference\u003cResponse\u003cList\u003cFoodStore\u003e\u003e\u003e() {\n                    })","parentPackageName":"foodsearch.service","parentClassName":"FoodServiceImpl","parentMethodName":"getAllFood","parentClassId":"foodsearch.service.FoodServiceImpl","lineNumber":204,"statementDeclaration":"restTemplate.exchange(\"http://ts-food-map-service:18855/api/v1/foodmapservice/foodstores\", HttpMethod.POST, requestEntityFoodStoresListResult, new ParameterizedTypeReference\u003cResponse\u003cList\u003cFoodStore\u003e\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ InsidePayment Service ] !\";\n    }","returnType":"String","methodName":"home","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.home","classId":"inside_payment.controller.InsidePaymentController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/inside_payment\")\n    public HttpEntity pay(@RequestBody PaymentInfo info, @RequestHeader HttpHeaders headers) {\n        InsidePaymentController.LOGGER.info(\"[Inside Payment Service][Pay] Pay for: {}\", info.getOrderId());\n        return ok(service.pay(info, headers));\n    }","returnType":"HttpEntity","methodName":"pay","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.pay","classId":"inside_payment.controller.InsidePaymentController","line":31,"msArgumentList":[{"returnType":"PaymentInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/inside_payment\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.pay(info, headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"pay","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":34,"calledMethodName":"pay","calledServiceId":"service","statementDeclaration":"service.pay(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response pay(PaymentInfo info, HttpHeaders headers) {\n\n        String userId \u003d info.getUserId();\n\n        String requestOrderURL \u003d \"\";\n        if (info.getTripId().startsWith(\"G\") || info.getTripId().startsWith(\"D\")) {\n            requestOrderURL \u003d  \"http://ts-order-service:12031/api/v1/orderservice/order/\" + info.getOrderId();\n        } else {\n            requestOrderURL \u003d \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/\" + info.getOrderId();\n        }\n        HttpEntity requestGetOrderResults \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cOrder\u003e\u003e reGetOrderResults \u003d restTemplate.exchange(\n                requestOrderURL,\n                HttpMethod.GET,\n                requestGetOrderResults,\n                new ParameterizedTypeReference\u003cResponse\u003cOrder\u003e\u003e() {\n                });\n        Response\u003cOrder\u003e result \u003d reGetOrderResults.getBody();\n\n\n        if (result.getStatus() \u003d\u003d 1) {\n            Order order \u003d result.getData();\n            if (order.getStatus() !\u003d OrderStatus.NOTPAID.getCode()) {\n                InsidePaymentServiceImpl.LOGGER.info(\"[Inside Payment Service][Pay] Error. Order status Not allowed to Pay.\");\n                return new Response\u003c\u003e(0, \"Error. Order status Not allowed to Pay.\", null);\n            }\n\n            Payment payment \u003d new Payment();\n            payment.setOrderId(info.getOrderId());\n            payment.setPrice(order.getPrice());\n            payment.setUserId(userId);\n\n            //\n            List\u003cPayment\u003e payments \u003d paymentRepository.findByUserId(userId);\n            List\u003cMoney\u003e addMonies \u003d addMoneyRepository.findByUserId(userId);\n            Iterator\u003cPayment\u003e paymentsIterator \u003d payments.iterator();\n            Iterator\u003cMoney\u003e addMoniesIterator \u003d addMonies.iterator();\n\n            BigDecimal totalExpand \u003d new BigDecimal(\"0\");\n            while (paymentsIterator.hasNext()) {\n                Payment p \u003d paymentsIterator.next();\n                totalExpand \u003d totalExpand.add(new BigDecimal(p.getPrice()));\n            }\n            totalExpand \u003d totalExpand.add(new BigDecimal(order.getPrice()));\n\n            BigDecimal money \u003d new BigDecimal(\"0\");\n            while (addMoniesIterator.hasNext()) {\n                Money addMoney \u003d addMoniesIterator.next();\n                money \u003d money.add(new BigDecimal(addMoney.getMoney()));\n            }\n\n            if (totalExpand.compareTo(money) \u003e 0) {\n                //\n                Payment outsidePaymentInfo \u003d new Payment();\n                outsidePaymentInfo.setOrderId(info.getOrderId());\n                outsidePaymentInfo.setUserId(userId);\n                outsidePaymentInfo.setPrice(order.getPrice());\n\n                /*******/\n\n                HttpEntity requestEntityOutsidePaySuccess \u003d new HttpEntity(outsidePaymentInfo, headers);\n                ResponseEntity\u003cResponse\u003e reOutsidePaySuccess \u003d restTemplate.exchange(\n                        \"http://ts-payment-service:19001/api/v1/paymentservice/payment\",\n                        HttpMethod.POST,\n                        requestEntityOutsidePaySuccess,\n                        Response.class);\n                Response outsidePaySuccess \u003d reOutsidePaySuccess.getBody();\n\n                InsidePaymentServiceImpl.LOGGER.info(\"Out pay result: {}\", outsidePaySuccess.toString());\n                if (outsidePaySuccess.getStatus() \u003d\u003d 1) {\n                    payment.setType(PaymentType.O);\n                    paymentRepository.save(payment);\n                    setOrderStatus(info.getTripId(), info.getOrderId(), headers);\n                    return new Response\u003c\u003e(1, \"Payment Success \" +    outsidePaySuccess.getMsg(), null);\n                } else {\n                    return new Response\u003c\u003e(0, \"Payment Failed:  \" +  outsidePaySuccess.getMsg(), null);\n                }\n            } else {\n                setOrderStatus(info.getTripId(), info.getOrderId(), headers);\n                payment.setType(PaymentType.P);\n                paymentRepository.save(payment);\n            }\n            return new Response\u003c\u003e(1, \"Payment Success\", null);\n\n        } else {\n            return new Response\u003c\u003e(0, \"Payment Failed, Order Not Exists\", null);\n        }\n    }","returnType":"Response","methodName":"pay","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.pay","classId":"inside_payment.service.InsidePaymentServiceImpl","line":38,"msArgumentList":[{"returnType":"PaymentInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"paymentRepository.findByUserId(userId)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"pay","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":72,"calledMethodName":"findByUserId","calledServiceId":"paymentRepository","statementDeclaration":"paymentRepository.findByUserId(userId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public PaymentRepository paymentRepository;","fieldClass":"PaymentRepository","fieldVariable":"paymentRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":30},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"classId":"inside_payment.repository.PaymentRepository","packageName":"inside_payment.repository","className":"PaymentRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"httpMethod":"GET","returnType":"Order","msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                requestOrderURL,\n                HttpMethod.GET,\n                requestGetOrderResults,\n                new ParameterizedTypeReference\u003cResponse\u003cOrder\u003e\u003e() {\n                })","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"pay","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":50,"statementDeclaration":"restTemplate.exchange(requestOrderURL, HttpMethod.GET, requestGetOrderResults, new ParameterizedTypeReference\u003cResponse\u003cOrder\u003e\u003e() {\n})"},{"api":"\"http://ts-payment-service:19001/api/v1/paymentservice/payment\"","httpMethod":"POST","returnType":"requestEntityOutsidePaySuccess","msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                        \"http://ts-payment-service:19001/api/v1/paymentservice/payment\",\n                        HttpMethod.POST,\n                        requestEntityOutsidePaySuccess,\n                        Response.class)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"pay","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":100,"statementDeclaration":"restTemplate.exchange(\"http://ts-payment-service:19001/api/v1/paymentservice/payment\", HttpMethod.POST, requestEntityOutsidePaySuccess, Response.class)"}],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"code":"List\u003cPayment\u003e findByUserId(String userId);","returnType":"List\u003cPayment\u003e","methodName":"findByUserId","className":"PaymentRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.PaymentRepository.findByUserId","classId":"inside_payment.repository.PaymentRepository","line":43,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/inside_payment/account\")\n    public HttpEntity createAccount(@RequestBody AccountInfo info, @RequestHeader HttpHeaders headers) {\n        return ok(service.createAccount(info, headers));\n    }","returnType":"HttpEntity","methodName":"createAccount","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.createAccount","classId":"inside_payment.controller.InsidePaymentController","line":37,"msArgumentList":[{"returnType":"AccountInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/inside_payment/account\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.createAccount(info, headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"createAccount","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":39,"calledMethodName":"createAccount","calledServiceId":"service","statementDeclaration":"service.createAccount(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createAccount(AccountInfo info, HttpHeaders headers) {\n        List\u003cMoney\u003e list \u003d addMoneyRepository.findByUserId(info.getUserId());\n        if (list.isEmpty()) {\n            Money addMoney \u003d new Money();\n            addMoney.setMoney(info.getMoney());\n            addMoney.setUserId(info.getUserId());\n            addMoney.setType(MoneyType.A);\n            addMoneyRepository.save(addMoney);\n            return new Response\u003c\u003e(1, \"Create Account Success\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"Create Account Failed, Account already Exists\", null);\n        }\n    }","returnType":"Response","methodName":"createAccount","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.createAccount","classId":"inside_payment.service.InsidePaymentServiceImpl","line":128,"msArgumentList":[{"returnType":"AccountInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.findByUserId(info.getUserId())","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"createAccount","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":130,"calledMethodName":"findByUserId","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.findByUserId(info.getUserId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":27},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"code":"List\u003cMoney\u003e findByUserId(String userId);","returnType":"List\u003cMoney\u003e","methodName":"findByUserId","className":"AddMoneyRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.AddMoneyRepository.findByUserId","classId":"inside_payment.repository.AddMoneyRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/inside_payment/{userId}/{money}\")\n    public HttpEntity addMoney(@PathVariable String userId, @PathVariable\n            String money, @RequestHeader HttpHeaders headers) {\n        return ok(service.addMoney(userId, money, headers));\n    }","returnType":"HttpEntity","methodName":"addMoney","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.addMoney","classId":"inside_payment.controller.InsidePaymentController","line":42,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/inside_payment/{userId}/{money}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.addMoney(userId, money, headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"addMoney","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":45,"calledMethodName":"addMoney","calledServiceId":"service","statementDeclaration":"service.addMoney(userId, money, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addMoney(String userId, String money, HttpHeaders headers) {\n        if (addMoneyRepository.findByUserId(userId) !\u003d null) {\n            Money addMoney \u003d new Money();\n            addMoney.setUserId(userId);\n            addMoney.setMoney(money);\n            addMoney.setType(MoneyType.A);\n            addMoneyRepository.save(addMoney);\n            return new Response\u003c\u003e(1, \"Add Money Success\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"Add Money Failed\", null);\n        }\n    }","returnType":"Response","methodName":"addMoney","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.addMoney","classId":"inside_payment.service.InsidePaymentServiceImpl","line":143,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.findByUserId(userId)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"addMoney","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":145,"calledMethodName":"findByUserId","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.findByUserId(userId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":27},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"code":"List\u003cMoney\u003e findByUserId(String userId);","returnType":"List\u003cMoney\u003e","methodName":"findByUserId","className":"AddMoneyRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.AddMoneyRepository.findByUserId","classId":"inside_payment.repository.AddMoneyRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/inside_payment/payment\")\n    public HttpEntity queryPayment(@RequestHeader HttpHeaders headers) {\n        return ok(service.queryPayment(headers));\n    }","returnType":"HttpEntity","methodName":"queryPayment","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.queryPayment","classId":"inside_payment.controller.InsidePaymentController","line":48,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/inside_payment/payment\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.queryPayment(headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"queryPayment","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":50,"calledMethodName":"queryPayment","calledServiceId":"service","statementDeclaration":"service.queryPayment(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryPayment(HttpHeaders headers) {\n        List\u003cPayment\u003e payments \u003d paymentRepository.findAll();\n        if (payments !\u003d null \u0026\u0026 !payments.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Query Payment Success\", payments);\n        }else {\n            return new Response\u003c\u003e(0, \"Query Payment Failed\", null);\n        }\n    }","returnType":"Response","methodName":"queryPayment","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.queryPayment","classId":"inside_payment.service.InsidePaymentServiceImpl","line":218,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"paymentRepository.findAll()","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"queryPayment","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":220,"calledMethodName":"findAll","calledServiceId":"paymentRepository","statementDeclaration":"paymentRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public PaymentRepository paymentRepository;","fieldClass":"PaymentRepository","fieldVariable":"paymentRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":30},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"classId":"inside_payment.repository.PaymentRepository","packageName":"inside_payment.repository","className":"PaymentRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"code":"@Override\n    List\u003cPayment\u003e findAll();","returnType":"List\u003cPayment\u003e","methodName":"findAll","className":"PaymentRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.PaymentRepository.findAll","classId":"inside_payment.repository.PaymentRepository","line":34,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/inside_payment/account\")\n    public HttpEntity queryAccount(@RequestHeader HttpHeaders headers) {\n        return ok(service.queryAccount(headers));\n    }","returnType":"HttpEntity","methodName":"queryAccount","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.queryAccount","classId":"inside_payment.controller.InsidePaymentController","line":53,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/inside_payment/account\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.queryAccount(headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"queryAccount","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":55,"calledMethodName":"queryAccount","calledServiceId":"service","statementDeclaration":"service.queryAccount(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAccount(HttpHeaders headers) {\n        List\u003cBalance\u003e result \u003d new ArrayList\u003c\u003e();\n        List\u003cMoney\u003e list \u003d addMoneyRepository.findAll();\n        Iterator\u003cMoney\u003e ite \u003d list.iterator();\n        HashMap\u003cString, String\u003e map \u003d new HashMap\u003c\u003e();\n        while (ite.hasNext()) {\n            Money addMoney \u003d ite.next();\n            if (map.containsKey(addMoney.getUserId())) {\n                BigDecimal money \u003d new BigDecimal(map.get(addMoney.getUserId()));\n                map.put(addMoney.getUserId(), money.add(new BigDecimal(addMoney.getMoney())).toString());\n            } else {\n                map.put(addMoney.getUserId(), addMoney.getMoney());\n            }\n        }\n\n        Iterator ite1 \u003d map.entrySet().iterator();\n        while (ite1.hasNext()) {\n            Map.Entry entry \u003d (Map.Entry) ite1.next();\n            String userId \u003d (String) entry.getKey();\n            String money \u003d (String) entry.getValue();\n\n            List\u003cPayment\u003e payments \u003d paymentRepository.findByUserId(userId);\n            Iterator\u003cPayment\u003e iterator \u003d payments.iterator();\n            String totalExpand \u003d \"0\";\n            while (iterator.hasNext()) {\n                Payment p \u003d iterator.next();\n                BigDecimal expand \u003d new BigDecimal(totalExpand);\n                totalExpand \u003d expand.add(new BigDecimal(p.getPrice())).toString();\n            }\n            String balanceMoney \u003d new BigDecimal(money).subtract(new BigDecimal(totalExpand)).toString();\n            Balance balance \u003d new Balance();\n            balance.setUserId(userId);\n            balance.setBalance(balanceMoney);\n            result.add(balance);\n        }\n\n        return new Response\u003c\u003e(1, \"Success\", result);\n    }","returnType":"Response","methodName":"queryAccount","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.queryAccount","classId":"inside_payment.service.InsidePaymentServiceImpl","line":157,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.findAll()","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"queryAccount","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":160,"calledMethodName":"findAll","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":27},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"code":"@Override\n    List\u003cMoney\u003e findAll();","returnType":"List\u003cMoney\u003e","methodName":"findAll","className":"AddMoneyRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.AddMoneyRepository.findAll","classId":"inside_payment.repository.AddMoneyRepository","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/inside_payment/drawback/{userId}/{money}\")\n    public HttpEntity drawBack(@PathVariable String userId, @PathVariable String money, @RequestHeader HttpHeaders headers) {\n        return ok(service.drawBack(userId, money, headers));\n    }","returnType":"HttpEntity","methodName":"drawBack","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.drawBack","classId":"inside_payment.controller.InsidePaymentController","line":58,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/inside_payment/drawback/{userId}/{money}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.drawBack(userId, money, headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"drawBack","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":60,"calledMethodName":"drawBack","calledServiceId":"service","statementDeclaration":"service.drawBack(userId, money, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response drawBack(String userId, String money, HttpHeaders headers) {\n        if (addMoneyRepository.findByUserId(userId) !\u003d null) {\n            Money addMoney \u003d new Money();\n            addMoney.setUserId(userId);\n            addMoney.setMoney(money);\n            addMoney.setType(MoneyType.D);\n            addMoneyRepository.save(addMoney);\n            return new Response\u003c\u003e(1, \"Draw Back Money Success\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"Draw Back Money Failed\", null);\n        }\n    }","returnType":"Response","methodName":"drawBack","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.drawBack","classId":"inside_payment.service.InsidePaymentServiceImpl","line":228,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.findByUserId(userId)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"drawBack","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":230,"calledMethodName":"findByUserId","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.findByUserId(userId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":27},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"code":"List\u003cMoney\u003e findByUserId(String userId);","returnType":"List\u003cMoney\u003e","methodName":"findByUserId","className":"AddMoneyRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.AddMoneyRepository.findByUserId","classId":"inside_payment.repository.AddMoneyRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/inside_payment/difference\")\n    public HttpEntity payDifference(@RequestBody PaymentInfo info, @RequestHeader HttpHeaders headers) {\n        return ok(service.payDifference(info, headers));\n    }","returnType":"HttpEntity","methodName":"payDifference","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.payDifference","classId":"inside_payment.controller.InsidePaymentController","line":63,"msArgumentList":[{"returnType":"PaymentInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/inside_payment/difference\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.payDifference(info, headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"payDifference","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":65,"calledMethodName":"payDifference","calledServiceId":"service","statementDeclaration":"service.payDifference(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response payDifference(PaymentInfo info, HttpHeaders headers) {\n\n        String userId \u003d info.getUserId();\n\n        Payment payment \u003d new Payment();\n        payment.setOrderId(info.getOrderId());\n        payment.setPrice(info.getPrice());\n        payment.setUserId(info.getUserId());\n\n\n        List\u003cPayment\u003e payments \u003d paymentRepository.findByUserId(userId);\n        List\u003cMoney\u003e addMonies \u003d addMoneyRepository.findByUserId(userId);\n        Iterator\u003cPayment\u003e paymentsIterator \u003d payments.iterator();\n        Iterator\u003cMoney\u003e addMoniesIterator \u003d addMonies.iterator();\n\n        BigDecimal totalExpand \u003d new BigDecimal(\"0\");\n        while (paymentsIterator.hasNext()) {\n            Payment p \u003d paymentsIterator.next();\n            totalExpand.add(new BigDecimal(p.getPrice()));\n        }\n        totalExpand.add(new BigDecimal(info.getPrice()));\n\n        BigDecimal money \u003d new BigDecimal(\"0\");\n        while (addMoniesIterator.hasNext()) {\n            Money addMoney \u003d addMoniesIterator.next();\n            money.add(new BigDecimal(addMoney.getMoney()));\n        }\n\n        if (totalExpand.compareTo(money) \u003e 0) {\n            //\n            Payment outsidePaymentInfo \u003d new Payment();\n            outsidePaymentInfo.setOrderId(info.getOrderId());\n            outsidePaymentInfo.setUserId(userId);\n            outsidePaymentInfo.setPrice(info.getPrice());\n\n            HttpEntity requestEntityOutsidePaySuccess \u003d new HttpEntity(outsidePaymentInfo, headers);\n            ResponseEntity\u003cResponse\u003e reOutsidePaySuccess \u003d restTemplate.exchange(\n                    \"http://ts-payment-service:19001/api/v1/paymentservice/payment\",\n                    HttpMethod.POST,\n                    requestEntityOutsidePaySuccess,\n                    Response.class);\n            Response outsidePaySuccess \u003d reOutsidePaySuccess.getBody();\n\n            if (outsidePaySuccess.getStatus() \u003d\u003d 1) {\n                payment.setType(PaymentType.E);\n                paymentRepository.save(payment);\n                return new Response\u003c\u003e(1, \"Pay Difference Success\", null);\n            } else {\n                return new Response\u003c\u003e(0, \"Pay Difference Failed\", null);\n            }\n        } else {\n            payment.setType(PaymentType.E);\n            paymentRepository.save(payment);\n        }\n        return new Response\u003c\u003e(1, \"Pay Difference Success\", null);\n    }","returnType":"Response","methodName":"payDifference","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.payDifference","classId":"inside_payment.service.InsidePaymentServiceImpl","line":242,"msArgumentList":[{"returnType":"PaymentInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"paymentRepository.findByUserId(userId)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"payDifference","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":253,"calledMethodName":"findByUserId","calledServiceId":"paymentRepository","statementDeclaration":"paymentRepository.findByUserId(userId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public PaymentRepository paymentRepository;","fieldClass":"PaymentRepository","fieldVariable":"paymentRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":30},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"classId":"inside_payment.repository.PaymentRepository","packageName":"inside_payment.repository","className":"PaymentRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"api":"\"http://ts-payment-service:19001/api/v1/paymentservice/payment\"","httpMethod":"POST","returnType":"requestEntityOutsidePaySuccess","msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-payment-service:19001/api/v1/paymentservice/payment\",\n                    HttpMethod.POST,\n                    requestEntityOutsidePaySuccess,\n                    Response.class)","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"payDifference","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":279,"statementDeclaration":"restTemplate.exchange(\"http://ts-payment-service:19001/api/v1/paymentservice/payment\", HttpMethod.POST, requestEntityOutsidePaySuccess, Response.class)"}],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"code":"List\u003cPayment\u003e findByUserId(String userId);","returnType":"List\u003cPayment\u003e","methodName":"findByUserId","className":"PaymentRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.PaymentRepository.findByUserId","classId":"inside_payment.repository.PaymentRepository","line":43,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"classId":"inside_payment.controller.InsidePaymentController","packageName":"inside_payment.controller","className":"InsidePaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/inside_payment/money\")\n    public HttpEntity queryAddMoney(@RequestHeader HttpHeaders headers) {\n        return ok(service.queryAddMoney(headers));\n    }","returnType":"HttpEntity","methodName":"queryAddMoney","className":"InsidePaymentController","packageName":"inside_payment.controller","methodId":"inside_payment.controller.InsidePaymentController.queryAddMoney","classId":"inside_payment.controller.InsidePaymentController","line":68,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/inside_payment/money\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"service.queryAddMoney(headers)","parentPackageName":"inside_payment.controller","parentClassName":"InsidePaymentController","parentMethodName":"queryAddMoney","parentClassId":"inside_payment.controller.InsidePaymentController","lineNumber":70,"calledMethodName":"queryAddMoney","calledServiceId":"service","statementDeclaration":"service.queryAddMoney(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/controller/InsidePaymentController.java","directoryName":""},"code":"@Autowired\n    public InsidePaymentService service;","fieldClass":"InsidePaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"InsidePaymentController","parentPackageName":"inside_payment.controller"},"line":21},"msService":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"classId":"inside_payment.service.InsidePaymentServiceImpl","packageName":"inside_payment.service","className":"InsidePaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAddMoney(HttpHeaders headers) {\n        List\u003cMoney\u003e monies \u003d addMoneyRepository.findAll();\n        if (monies !\u003d null \u0026\u0026 !monies.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Query Money Success\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"\", null);\n        }\n    }","returnType":"Response","methodName":"queryAddMoney","className":"InsidePaymentServiceImpl","packageName":"inside_payment.service","methodId":"inside_payment.service.InsidePaymentServiceImpl.queryAddMoney","classId":"inside_payment.service.InsidePaymentServiceImpl","line":300,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.findAll()","parentPackageName":"inside_payment.service","parentClassName":"InsidePaymentServiceImpl","parentMethodName":"queryAddMoney","parentClassId":"inside_payment.service.InsidePaymentServiceImpl","lineNumber":302,"calledMethodName":"findAll","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/service/InsidePaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    public AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"InsidePaymentServiceImpl","parentPackageName":"inside_payment.service"},"line":27},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"code":"@Override\n    List\u003cMoney\u003e findAll();","returnType":"List\u003cMoney\u003e","methodName":"findAll","className":"AddMoneyRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.AddMoneyRepository.findAll","classId":"inside_payment.repository.AddMoneyRepository","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Assurance Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.home","classId":"assurance.controller.AssuranceController","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/assurances\")\n    public HttpEntity getAllAssurances(@RequestHeader HttpHeaders headers) {\n        AssuranceController.LOGGER.info(\"[Assurances Service][Get All Assurances]\");\n        return ok(assuranceService.getAllAssurances(headers));\n    }","returnType":"HttpEntity","methodName":"getAllAssurances","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.getAllAssurances","classId":"assurance.controller.AssuranceController","line":32,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/assurances\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.getAllAssurances(headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"getAllAssurances","parentClassId":"assurance.controller.AssuranceController","lineNumber":36,"calledMethodName":"getAllAssurances","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.getAllAssurances(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllAssurances(HttpHeaders headers) {\n        List\u003cAssurance\u003e as \u003d assuranceRepository.findAll();\n        if (as !\u003d null \u0026\u0026 !as.isEmpty()) {\n            ArrayList\u003cPlainAssurance\u003e result \u003d new ArrayList\u003c\u003e();\n            for (Assurance a : as) {\n                PlainAssurance pa \u003d new PlainAssurance();\n                pa.setId(a.getId());\n                pa.setOrderId(a.getOrderId());\n                pa.setTypeIndex(a.getType().getIndex());\n                pa.setTypeName(a.getType().getName());\n                pa.setTypePrice(a.getType().getPrice());\n                result.add(pa);\n            }\n            return new Response\u003c\u003e(1, \"Success\", result);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content, Assurance is empty\", null);\n        }\n    }","returnType":"Response","methodName":"getAllAssurances","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.getAllAssurances","classId":"assurance.service.AssuranceServiceImpl","line":112,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.findAll()","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"getAllAssurances","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":114,"calledMethodName":"findAll","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cAssurance\u003e findAll();","returnType":"ArrayList\u003cAssurance\u003e","methodName":"findAll","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.findAll","classId":"assurance.repository.AssuranceRepository","line":54,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/assurances/types\")\n    public HttpEntity getAllAssuranceType(@RequestHeader HttpHeaders headers) {\n        AssuranceController.LOGGER.info(\"[Assurances Service][Get Assurance Type]\");\n        return ok(assuranceService.getAllAssuranceTypes(headers));\n    }","returnType":"HttpEntity","methodName":"getAllAssuranceType","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.getAllAssuranceType","classId":"assurance.controller.AssuranceController","line":39,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/assurances/types\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.getAllAssuranceTypes(headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"getAllAssuranceType","parentClassId":"assurance.controller.AssuranceController","lineNumber":43,"calledMethodName":"getAllAssuranceTypes","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.getAllAssuranceTypes(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllAssuranceTypes(HttpHeaders headers) {\n\n        List\u003cAssuranceTypeBean\u003e atlist \u003d new ArrayList\u003c\u003e();\n        for (AssuranceType at : AssuranceType.values()) {\n            AssuranceTypeBean atb \u003d new AssuranceTypeBean();\n            atb.setIndex(at.getIndex());\n            atb.setName(at.getName());\n            atb.setPrice(at.getPrice());\n            atlist.add(atb);\n        }\n        if (!atlist.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Find All Assurance\", atlist);\n        } else {\n            return new Response\u003c\u003e(0, \"Assurance is Empty\", null);\n        }\n    }","returnType":"Response","methodName":"getAllAssuranceTypes","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.getAllAssuranceTypes","classId":"assurance.service.AssuranceServiceImpl","line":132,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/assurances/assuranceid/{assuranceId}\")\n    public HttpEntity deleteAssurance(@PathVariable String assuranceId, @RequestHeader HttpHeaders headers) {\n        AssuranceController.LOGGER.info(\"[Assurances Service][Delete Assurance]\");\n        return ok(assuranceService.deleteById(UUID.fromString(assuranceId), headers));\n    }","returnType":"HttpEntity","methodName":"deleteAssurance","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.deleteAssurance","classId":"assurance.controller.AssuranceController","line":46,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/assurances/assuranceid/{assuranceId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.deleteById(UUID.fromString(assuranceId), headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"deleteAssurance","parentClassId":"assurance.controller.AssuranceController","lineNumber":50,"calledMethodName":"deleteById","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.deleteById(UUID.fromString(assuranceId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteById(UUID assuranceId, HttpHeaders headers) {\n        assuranceRepository.deleteById(assuranceId);\n        Assurance a \u003d assuranceRepository.findById(assuranceId);\n        if (a \u003d\u003d null) {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][DeleteAssurance] Success.\");\n            return new Response\u003c\u003e(1, \"Delete Success with Assurance id\", null);\n        } else {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][DeleteAssurance] Fail.Assurance not clear.\");\n            return new Response\u003c\u003e(0, \"Fail.Assurance not clear\", assuranceId);\n        }\n    }","returnType":"Response","methodName":"deleteById","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.deleteById","classId":"assurance.service.AssuranceServiceImpl","line":65,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.deleteById(assuranceId)","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"deleteById","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":67,"calledMethodName":"deleteById","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.deleteById(assuranceId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"void deleteById(UUID id);","returnType":"void","methodName":"deleteById","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.deleteById","classId":"assurance.repository.AssuranceRepository","line":39,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/assurances/orderid/{orderId}\")\n    public HttpEntity deleteAssuranceByOrderId(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        AssuranceController.LOGGER.info(\"[Assurances Service][Delete Assurance by orderId]\");\n        return ok(assuranceService.deleteByOrderId(UUID.fromString(orderId), headers));\n    }","returnType":"HttpEntity","methodName":"deleteAssuranceByOrderId","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.deleteAssuranceByOrderId","classId":"assurance.controller.AssuranceController","line":53,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/assurances/orderid/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.deleteByOrderId(UUID.fromString(orderId), headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"deleteAssuranceByOrderId","parentClassId":"assurance.controller.AssuranceController","lineNumber":57,"calledMethodName":"deleteByOrderId","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.deleteByOrderId(UUID.fromString(orderId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteByOrderId(UUID orderId, HttpHeaders headers) {\n        assuranceRepository.removeAssuranceByOrderId(orderId);\n        Assurance isExistAssurace \u003d assuranceRepository.findByOrderId(orderId);\n        if (isExistAssurace \u003d\u003d null) {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][DeleteAssurance] Success.\");\n            return new Response\u003c\u003e(1, \"Delete Success with Order Id\", null);\n        } else {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][DeleteAssurance] Fail.Assurance not clear.\");\n            return new Response\u003c\u003e(0, \"Fail.Assurance not clear\", orderId);\n        }\n    }","returnType":"Response","methodName":"deleteByOrderId","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.deleteByOrderId","classId":"assurance.service.AssuranceServiceImpl","line":78,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.removeAssuranceByOrderId(orderId)","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"deleteByOrderId","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":80,"calledMethodName":"removeAssuranceByOrderId","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.removeAssuranceByOrderId(orderId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"void removeAssuranceByOrderId(UUID orderId);","returnType":"void","methodName":"removeAssuranceByOrderId","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.removeAssuranceByOrderId","classId":"assurance.repository.AssuranceRepository","line":47,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PatchMapping(path \u003d \"/assurances/{assuranceId}/{orderId}/{typeIndex}\")\n    public HttpEntity modifyAssurance(@PathVariable String assuranceId,\n                                      @PathVariable String orderId,\n                                      @PathVariable int typeIndex, @RequestHeader HttpHeaders headers) {\n        AssuranceController.LOGGER.info(\"[Assurances Service][Modify Assurance]\");\n        return ok(assuranceService.modify(assuranceId, orderId, typeIndex, headers));\n    }","returnType":"HttpEntity","methodName":"modifyAssurance","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.modifyAssurance","classId":"assurance.controller.AssuranceController","line":60,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PatchMapping","key":"path","value":"\"/assurances/{assuranceId}/{orderId}/{typeIndex}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.modify(assuranceId, orderId, typeIndex, headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"modifyAssurance","parentClassId":"assurance.controller.AssuranceController","lineNumber":66,"calledMethodName":"modify","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.modify(assuranceId, orderId, typeIndex, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modify(String assuranceId, String orderId, int typeIndex, HttpHeaders headers) {\n        Response oldAssuranceResponse \u003d findAssuranceById(UUID.fromString(assuranceId), headers);\n        Assurance oldAssurance \u003d (Assurance) oldAssuranceResponse.getData();\n        if (oldAssurance \u003d\u003d null) {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Modify-Service][ModifyAssurance] Fail.Assurance not found.\");\n            return new Response\u003c\u003e(0, \"Fail.Assurance not found.\", null);\n        } else {\n            AssuranceType at \u003d AssuranceType.getTypeByIndex(typeIndex);\n            if (at !\u003d null) {\n                oldAssurance.setType(at);\n                assuranceRepository.save(oldAssurance);\n                AssuranceServiceImpl.LOGGER.info(\"[Assurance-Modify-Service][ModifyAssurance] Success.\");\n                return new Response\u003c\u003e(1, \"Modify Success\", oldAssurance);\n            } else {\n                AssuranceServiceImpl.LOGGER.info(\"[Assurance-Modify-Service][ModifyAssurance] Fail.Assurance Type not exist.\");\n                return new Response\u003c\u003e(0, \"Assurance Type not exist\", null);\n            }\n        }\n    }","returnType":"Response","methodName":"modify","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.modify","classId":"assurance.service.AssuranceServiceImpl","line":91,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.save(oldAssurance)","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"modify","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":102,"calledMethodName":"save","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.save(oldAssurance)"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/assurances/{typeIndex}/{orderId}\")\n    public HttpEntity createNewAssurance(@PathVariable int typeIndex, @PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        //Assurance\n        return ok(assuranceService.create(typeIndex, orderId, headers));\n    }","returnType":"HttpEntity","methodName":"createNewAssurance","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.createNewAssurance","classId":"assurance.controller.AssuranceController","line":70,"msArgumentList":[{"returnType":"int"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/assurances/{typeIndex}/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.create(typeIndex, orderId, headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"createNewAssurance","parentClassId":"assurance.controller.AssuranceController","lineNumber":74,"calledMethodName":"create","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.create(typeIndex, orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(int typeIndex, String orderId, HttpHeaders headers) {\n        Assurance a \u003d assuranceRepository.findByOrderId(UUID.fromString(orderId));\n        AssuranceType at \u003d AssuranceType.getTypeByIndex(typeIndex);\n        if (a !\u003d null) {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][AddAssurance] Fail.Assurance already exists\");\n            return new Response\u003c\u003e(0, \"Fail.Assurance already exists\", null);\n        } else if (at \u003d\u003d null) {\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][AddAssurance] Fail.Assurance type doesn\u0027t exist\");\n            return new Response\u003c\u003e(0, \"Fail.Assurance type doesn\u0027t exist\", null);\n        } else {\n            Assurance assurance \u003d new Assurance(UUID.randomUUID(), UUID.fromString(orderId), at);\n            assuranceRepository.save(assurance);\n            AssuranceServiceImpl.LOGGER.info(\"[Assurance-Add\u0026Delete-Service][AddAssurance] Success.\");\n            return new Response\u003c\u003e(1, \"Success\", assurance);\n        }\n    }","returnType":"Response","methodName":"create","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.create","classId":"assurance.service.AssuranceServiceImpl","line":47,"msArgumentList":[{"returnType":"int"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.findByOrderId(UUID.fromString(orderId))","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"create","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":49,"calledMethodName":"findByOrderId","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.findByOrderId(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"@Query(\"{ \u0027orderId\u0027 : ?0 }\")\n    Assurance findByOrderId(UUID orderId);","returnType":"Assurance","methodName":"findByOrderId","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.findByOrderId","classId":"assurance.repository.AssuranceRepository","line":30,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/assurances/assuranceid/{assuranceId}\")\n    public HttpEntity getAssuranceById(@PathVariable String assuranceId, @RequestHeader HttpHeaders headers) {\n        return ok(assuranceService.findAssuranceById(UUID.fromString(assuranceId), headers));\n    }","returnType":"HttpEntity","methodName":"getAssuranceById","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.getAssuranceById","classId":"assurance.controller.AssuranceController","line":77,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/assurances/assuranceid/{assuranceId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.findAssuranceById(UUID.fromString(assuranceId), headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"getAssuranceById","parentClassId":"assurance.controller.AssuranceController","lineNumber":80,"calledMethodName":"findAssuranceById","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.findAssuranceById(UUID.fromString(assuranceId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findAssuranceById(UUID id, HttpHeaders headers) {\n        Assurance assurance \u003d assuranceRepository.findById(id);\n        if (assurance \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"No Conotent by this id\", null);\n        } else {\n            return new Response\u003c\u003e(1, \"Find Assurace Success\", assurance);\n        }\n    }","returnType":"Response","methodName":"findAssuranceById","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.findAssuranceById","classId":"assurance.service.AssuranceServiceImpl","line":27,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.findById(id)","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"findAssuranceById","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":29,"calledMethodName":"findById","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.findById(id)"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"Assurance findById(UUID id);","returnType":"Assurance","methodName":"findById","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.findById","classId":"assurance.repository.AssuranceRepository","line":22,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"classId":"assurance.controller.AssuranceController","packageName":"assurance.controller","className":"AssuranceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/assurance/orderid/{orderId}\")\n    public HttpEntity findAssuranceByOrderId(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        return ok(assuranceService.findAssuranceByOrderId(UUID.fromString(orderId), headers));\n    }","returnType":"HttpEntity","methodName":"findAssuranceByOrderId","className":"AssuranceController","packageName":"assurance.controller","methodId":"assurance.controller.AssuranceController.findAssuranceByOrderId","classId":"assurance.controller.AssuranceController","line":83,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/assurance/orderid/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"assuranceService.findAssuranceByOrderId(UUID.fromString(orderId), headers)","parentPackageName":"assurance.controller","parentClassName":"AssuranceController","parentMethodName":"findAssuranceByOrderId","parentClassId":"assurance.controller.AssuranceController","lineNumber":86,"calledMethodName":"findAssuranceByOrderId","calledServiceId":"assuranceService","statementDeclaration":"assuranceService.findAssuranceByOrderId(UUID.fromString(orderId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/controller/AssuranceController.java","directoryName":""},"code":"@Autowired\n    private AssuranceService assuranceService;","fieldClass":"AssuranceService","fieldVariable":"assuranceService","parentMethod":{"parentClassName":"AssuranceController","parentPackageName":"assurance.controller"},"line":22},"msService":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"classId":"assurance.service.AssuranceServiceImpl","packageName":"assurance.service","className":"AssuranceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findAssuranceByOrderId(UUID orderId, HttpHeaders headers) {\n        Assurance assurance \u003d assuranceRepository.findByOrderId(orderId);\n        if (assurance \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"No Content by this orderId\", null);\n        } else {\n            return new Response\u003c\u003e(1, \"Find Assurace Success\", assurance);\n        }\n    }","returnType":"Response","methodName":"findAssuranceByOrderId","className":"AssuranceServiceImpl","packageName":"assurance.service","methodId":"assurance.service.AssuranceServiceImpl.findAssuranceByOrderId","classId":"assurance.service.AssuranceServiceImpl","line":37,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"assuranceRepository.findByOrderId(orderId)","parentPackageName":"assurance.service","parentClassName":"AssuranceServiceImpl","parentMethodName":"findAssuranceByOrderId","parentClassId":"assurance.service.AssuranceServiceImpl","lineNumber":39,"calledMethodName":"findByOrderId","calledServiceId":"assuranceRepository","statementDeclaration":"assuranceRepository.findByOrderId(orderId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/service/AssuranceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private AssuranceRepository assuranceRepository;","fieldClass":"AssuranceRepository","fieldVariable":"assuranceRepository","parentMethod":{"parentClassName":"AssuranceServiceImpl","parentPackageName":"assurance.service"},"line":22},"msRepository":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"classId":"assurance.repository.AssuranceRepository","packageName":"assurance.repository","className":"AssuranceRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-assurance-service/src/main/java/assurance/repository/AssuranceRepository.java","directoryName":""},"code":"@Query(\"{ \u0027orderId\u0027 : ?0 }\")\n    Assurance findByOrderId(UUID orderId);","returnType":"Assurance","methodName":"findByOrderId","className":"AssuranceRepository","packageName":"assurance.repository","methodId":"assurance.repository.AssuranceRepository.findByOrderId","classId":"assurance.repository.AssuranceRepository","line":30,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"classId":"adminorder.controller.AdminOrderController","packageName":"adminorder.controller","className":"AdminOrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ AdminOrder Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AdminOrderController","packageName":"adminorder.controller","methodId":"adminorder.controller.AdminOrderController.home","classId":"adminorder.controller.AdminOrderController","line":22,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"classId":"adminorder.controller.AdminOrderController","packageName":"adminorder.controller","className":"AdminOrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminorder\")\n    public HttpEntity getAllOrders(@RequestHeader HttpHeaders headers) {\n        return ok(adminOrderService.getAllOrders(headers));\n    }","returnType":"HttpEntity","methodName":"getAllOrders","className":"AdminOrderController","packageName":"adminorder.controller","methodId":"adminorder.controller.AdminOrderController.getAllOrders","classId":"adminorder.controller.AdminOrderController","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminorder\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"adminOrderService.getAllOrders(headers)","parentPackageName":"adminorder.controller","parentClassName":"AdminOrderController","parentMethodName":"getAllOrders","parentClassId":"adminorder.controller.AdminOrderController","lineNumber":30,"calledMethodName":"getAllOrders","calledServiceId":"adminOrderService","statementDeclaration":"adminOrderService.getAllOrders(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@Autowired\n    AdminOrderService adminOrderService;","fieldClass":"AdminOrderService","fieldVariable":"adminOrderService","parentMethod":{"parentClassName":"AdminOrderController","parentPackageName":"adminorder.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"classId":"adminorder.service.AdminOrderServiceImpl","packageName":"adminorder.service","className":"AdminOrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllOrders(HttpHeaders headers) {\n\n        AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Get All Orders]\");\n        //Get all of the orders\n        ArrayList\u003cOrder\u003e orders \u003d new ArrayList\u003c\u003e();\n        //From ts-order-service\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-order-service:12031/api/v1/orderservice/order\",\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n                });\n        Response\u003cArrayList\u003cOrder\u003e\u003e result \u003d re.getBody();\n\n        if (result.getStatus() \u003d\u003d 1) {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Get Orders From ts-order-service successfully!]\");\n            ArrayList\u003cOrder\u003e orders1 \u003d result.getData();\n            orders.addAll(orders1);\n        } else {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Get Orders From ts-order-service fail!]\");\n        }\n        //From ts-order-other-service\n        HttpEntity requestEntity2 \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e re2 \u003d restTemplate.exchange(\n                \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther\",\n                HttpMethod.GET,\n                requestEntity2,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n                });\n        result \u003d re2.getBody();\n\n        if (result.getStatus() \u003d\u003d 1) {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Get Orders From ts-order-other-service successfully!]\");\n            ArrayList\u003cOrder\u003e orders1 \u003d (ArrayList\u003cOrder\u003e) result.getData();\n            orders.addAll(orders1);\n        } else {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Get Orders From ts-order-other-service fail!]\");\n        }\n        //Return orders\n        return new Response\u003c\u003e(1, \"Get the orders successfully!\", orders);\n\n    }","returnType":"Response","methodName":"getAllOrders","className":"AdminOrderServiceImpl","packageName":"adminorder.service","methodId":"adminorder.service.AdminOrderServiceImpl.getAllOrders","classId":"adminorder.service.AdminOrderServiceImpl","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order\"","httpMethod":"GET","returnType":"ArrayList\u003cOrder\u003e","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-order-service:12031/api/v1/orderservice/order\",\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n                })","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"getAllOrders","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":35,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order\", HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n})"},{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther\"","httpMethod":"GET","returnType":"ArrayList\u003cOrder\u003e","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther\",\n                HttpMethod.GET,\n                requestEntity2,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n                })","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"getAllOrders","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":52,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther\", HttpMethod.GET, requestEntity2, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cOrder\u003e\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"classId":"adminorder.controller.AdminOrderController","packageName":"adminorder.controller","className":"AdminOrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/adminorder\")\n    public HttpEntity addOrder(@RequestBody Order request, @RequestHeader HttpHeaders headers) {\n        return ok(adminOrderService.addOrder(request, headers));\n    }","returnType":"HttpEntity","methodName":"addOrder","className":"AdminOrderController","packageName":"adminorder.controller","methodId":"adminorder.controller.AdminOrderController.addOrder","classId":"adminorder.controller.AdminOrderController","line":33,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/adminorder\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"adminOrderService.addOrder(request, headers)","parentPackageName":"adminorder.controller","parentClassName":"AdminOrderController","parentMethodName":"addOrder","parentClassId":"adminorder.controller.AdminOrderController","lineNumber":35,"calledMethodName":"addOrder","calledServiceId":"adminOrderService","statementDeclaration":"adminOrderService.addOrder(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@Autowired\n    AdminOrderService adminOrderService;","fieldClass":"AdminOrderService","fieldVariable":"adminOrderService","parentMethod":{"parentClassName":"AdminOrderController","parentPackageName":"adminorder.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"classId":"adminorder.service.AdminOrderServiceImpl","packageName":"adminorder.service","className":"AdminOrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addOrder(Order request, HttpHeaders headers) {\n\n        Response addOrderResult;\n        if (request.getTrainNumber().startsWith(\"G\") || request.getTrainNumber().startsWith(\"D\")) {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Add New Order]\");\n            HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/admin\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    Response.class);\n            addOrderResult \u003d re.getBody();\n\n        } else {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Add New Order Other]\");\n            HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    Response.class);\n            addOrderResult \u003d re.getBody();\n\n        }\n        return addOrderResult;\n\n    }","returnType":"Response","methodName":"addOrder","className":"AdminOrderServiceImpl","packageName":"adminorder.service","methodId":"adminorder.service.AdminOrderServiceImpl.addOrder","classId":"adminorder.service.AdminOrderServiceImpl","line":130,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\"","httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"addOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":147,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\", HttpMethod.POST, requestEntity, Response.class)"},{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order/admin\"","httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/admin\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"addOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":137,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order/admin\", HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"classId":"adminorder.controller.AdminOrderController","packageName":"adminorder.controller","className":"AdminOrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@PutMapping(value \u003d \"/adminorder\")\n    public HttpEntity updateOrder(@RequestBody Order request, @RequestHeader HttpHeaders headers) {\n        return ok(adminOrderService.updateOrder(request, headers));\n    }","returnType":"HttpEntity","methodName":"updateOrder","className":"AdminOrderController","packageName":"adminorder.controller","methodId":"adminorder.controller.AdminOrderController.updateOrder","classId":"adminorder.controller.AdminOrderController","line":38,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/adminorder\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"adminOrderService.updateOrder(request, headers)","parentPackageName":"adminorder.controller","parentClassName":"AdminOrderController","parentMethodName":"updateOrder","parentClassId":"adminorder.controller.AdminOrderController","lineNumber":40,"calledMethodName":"updateOrder","calledServiceId":"adminOrderService","statementDeclaration":"adminOrderService.updateOrder(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@Autowired\n    AdminOrderService adminOrderService;","fieldClass":"AdminOrderService","fieldVariable":"adminOrderService","parentMethod":{"parentClassName":"AdminOrderController","parentPackageName":"adminorder.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"classId":"adminorder.service.AdminOrderServiceImpl","packageName":"adminorder.service","className":"AdminOrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateOrder(Order request, HttpHeaders headers) {\n\n        Response updateOrderResult;\n        LOGGER.info(\"UPDATE ORDER INFO : \" + request.toString());\n        if (request.getTrainNumber().startsWith(\"G\") || request.getTrainNumber().startsWith(\"D\")) {\n\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Update Order]\");\n            HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/admin\",\n                    HttpMethod.PUT,\n                    requestEntity,\n                    Response.class);\n            updateOrderResult \u003d re.getBody();\n\n        } else {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Add New Order Other]\");\n            HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\",\n                    HttpMethod.PUT,\n                    requestEntity,\n                    Response.class);\n            updateOrderResult \u003d re.getBody();\n\n        }\n        return updateOrderResult;\n    }","returnType":"Response","methodName":"updateOrder","className":"AdminOrderServiceImpl","packageName":"adminorder.service","methodId":"adminorder.service.AdminOrderServiceImpl.updateOrder","classId":"adminorder.service.AdminOrderServiceImpl","line":100,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\"","httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\",\n                    HttpMethod.PUT,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"updateOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":119,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/admin\", HttpMethod.PUT, requestEntity, Response.class)"},{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order/admin\"","httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/admin\",\n                    HttpMethod.PUT,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"updateOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":109,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order/admin\", HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"classId":"adminorder.controller.AdminOrderController","packageName":"adminorder.controller","className":"AdminOrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/adminorder/{orderId}/{trainNumber}\")\n    public HttpEntity deleteOrder(@PathVariable String orderId, @PathVariable String trainNumber, @RequestHeader HttpHeaders headers) {\n        return ok(adminOrderService.deleteOrder(orderId, trainNumber, headers));\n    }","returnType":"HttpEntity","methodName":"deleteOrder","className":"AdminOrderController","packageName":"adminorder.controller","methodId":"adminorder.controller.AdminOrderController.deleteOrder","classId":"adminorder.controller.AdminOrderController","line":43,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/adminorder/{orderId}/{trainNumber}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"adminOrderService.deleteOrder(orderId, trainNumber, headers)","parentPackageName":"adminorder.controller","parentClassName":"AdminOrderController","parentMethodName":"deleteOrder","parentClassId":"adminorder.controller.AdminOrderController","lineNumber":45,"calledMethodName":"deleteOrder","calledServiceId":"adminOrderService","statementDeclaration":"adminOrderService.deleteOrder(orderId, trainNumber, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/controller/AdminOrderController.java","directoryName":""},"code":"@Autowired\n    AdminOrderService adminOrderService;","fieldClass":"AdminOrderService","fieldVariable":"adminOrderService","parentMethod":{"parentClassName":"AdminOrderController","parentPackageName":"adminorder.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"classId":"adminorder.service.AdminOrderServiceImpl","packageName":"adminorder.service","className":"AdminOrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteOrder(String orderId, String trainNumber, HttpHeaders headers) {\n        Response deleteOrderResult;\n        if (trainNumber.startsWith(\"G\") || trainNumber.startsWith(\"D\")) {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Delete Order]\");\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/\" + orderId,\n                    HttpMethod.DELETE,\n                    requestEntity,\n                    Response.class);\n            deleteOrderResult \u003d re.getBody();\n\n        } else {\n            AdminOrderServiceImpl.LOGGER.info(\"[Admin Order Service][Delete Order Other]\");\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/\" + orderId,\n                    HttpMethod.DELETE,\n                    requestEntity,\n                    Response.class);\n            deleteOrderResult \u003d re.getBody();\n\n        }\n        return deleteOrderResult;\n\n    }","returnType":"Response","methodName":"deleteOrder","className":"AdminOrderServiceImpl","packageName":"adminorder.service","methodId":"adminorder.service.AdminOrderServiceImpl.deleteOrder","classId":"adminorder.service.AdminOrderServiceImpl","line":72,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/\" + orderId","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/\" + orderId,\n                    HttpMethod.DELETE,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"deleteOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":88,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/\" + orderId, HttpMethod.DELETE, requestEntity, Response.class)"},{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order/\" + orderId","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-order-service/src/main/java/adminorder/service/AdminOrderServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/\" + orderId,\n                    HttpMethod.DELETE,\n                    requestEntity,\n                    Response.class)","parentPackageName":"adminorder.service","parentClassName":"AdminOrderServiceImpl","parentMethodName":"deleteOrder","parentClassId":"adminorder.service.AdminOrderServiceImpl","lineNumber":78,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order/\" + orderId, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"classId":"notification.controller.NotificationController","packageName":"notification.controller","className":"NotificationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Notification Service ] !\";\n    }","returnType":"String","methodName":"home","className":"NotificationController","packageName":"notification.controller","methodId":"notification.controller.NotificationController.home","classId":"notification.controller.NotificationController","line":20,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"classId":"notification.controller.NotificationController","packageName":"notification.controller","className":"NotificationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/notification/preserve_success\")\n    public boolean preserve_success(@RequestBody NotifyInfo info, @RequestHeader HttpHeaders headers) {\n        return service.preserveSuccess(info, headers);\n    }","returnType":"boolean","methodName":"preserve_success","className":"NotificationController","packageName":"notification.controller","methodId":"notification.controller.NotificationController.preserve_success","classId":"notification.controller.NotificationController","line":25,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/notification/preserve_success\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"service.preserveSuccess(info, headers)","parentPackageName":"notification.controller","parentClassName":"NotificationController","parentMethodName":"preserve_success","parentClassId":"notification.controller.NotificationController","lineNumber":27,"calledMethodName":"preserveSuccess","calledServiceId":"service","statementDeclaration":"service.preserveSuccess(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@Autowired\n    NotificationService service;","fieldClass":"NotificationService","fieldVariable":"service","parentMethod":{"parentClassName":"NotificationController","parentPackageName":"notification.controller"},"line":17},"msService":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"classId":"notification.service.NotificationServiceImpl","packageName":"notification.service","className":"NotificationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean preserveSuccess(NotifyInfo info, HttpHeaders headers){\n        Mail mail \u003d new Mail();\n        mail.setMailFrom(email);\n        mail.setMailTo(info.getEmail());\n        mail.setMailSubject(\"Preserve Success\");\n\n        Map\u003cString, Object\u003e model \u003d new HashMap\u003c\u003e();\n        model.put(username, info.getUsername());\n        model.put(startingPlace,info.getStartingPlace());\n        model.put(endPlace,info.getEndPlace());\n        model.put(startingTime,info.getStartingTime());\n        model.put(\"date\",info.getDate());\n        model.put(seatClass,info.getSeatClass());\n        model.put(seatNumber,info.getSeatNumber());\n        model.put(\"price\",info.getPrice());\n        mail.setModel(model);\n\n        try {\n            mailService.sendEmail(mail,\"preserve_success.ftl\");\n            return true;\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n            return false;\n        }\n    }","returnType":"boolean","methodName":"preserveSuccess","className":"NotificationServiceImpl","packageName":"notification.service","methodId":"notification.service.NotificationServiceImpl.preserveSuccess","classId":"notification.service.NotificationServiceImpl","line":36,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"mailService.sendEmail(mail,\"preserve_success.ftl\")","parentPackageName":"notification.service","parentClassName":"NotificationServiceImpl","parentMethodName":"preserveSuccess","parentClassId":"notification.service.NotificationServiceImpl","lineNumber":55,"calledMethodName":"sendEmail","calledServiceId":"mailService","statementDeclaration":"mailService.sendEmail(mail, \"preserve_success.ftl\")"},"msServiceRepositoryField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Autowired\n    MailService mailService;","fieldClass":"MailService","fieldVariable":"mailService","parentMethod":{"parentClassName":"NotificationServiceImpl","parentPackageName":"notification.service"},"line":23},"msRepository":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"classId":"notification.service.MailService","packageName":"notification.service","className":"MailService","role":"SERVICE","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"code":"public void sendEmail(Mail mail,String template) throws Exception {\n        MimeMessage message \u003d sender.createMimeMessage();\n\n        MimeMessageHelper helper \u003d new MimeMessageHelper(message);\n\n        // Using a subfolder such as /templates here\n        freemarkerConfig.setClassForTemplateLoading(this.getClass(), \"/templates\");\n\n        Template t \u003d freemarkerConfig.getTemplate(template);\n        String text \u003d FreeMarkerTemplateUtils.processTemplateIntoString(t, mail.getModel());\n\n        helper.setTo(mail.getMailTo());\n        helper.setText(text, true);\n        helper.setFrom(\"fdse_microservices@163.com\");\n        helper.setSubject(mail.getMailSubject());\n\n        sender.send(message);\n    }","returnType":"void","methodName":"sendEmail","className":"MailService","packageName":"notification.service","methodId":"notification.service.MailService.sendEmail","classId":"notification.service.MailService","line":30,"msArgumentList":[{"returnType":"Mail"},{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"classId":"notification.controller.NotificationController","packageName":"notification.controller","className":"NotificationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/notification/order_create_success\")\n    public boolean order_create_success(@RequestBody NotifyInfo info, @RequestHeader HttpHeaders headers) {\n        return service.orderCreateSuccess(info, headers);\n    }","returnType":"boolean","methodName":"order_create_success","className":"NotificationController","packageName":"notification.controller","methodId":"notification.controller.NotificationController.order_create_success","classId":"notification.controller.NotificationController","line":30,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/notification/order_create_success\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"service.orderCreateSuccess(info, headers)","parentPackageName":"notification.controller","parentClassName":"NotificationController","parentMethodName":"order_create_success","parentClassId":"notification.controller.NotificationController","lineNumber":32,"calledMethodName":"orderCreateSuccess","calledServiceId":"service","statementDeclaration":"service.orderCreateSuccess(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@Autowired\n    NotificationService service;","fieldClass":"NotificationService","fieldVariable":"service","parentMethod":{"parentClassName":"NotificationController","parentPackageName":"notification.controller"},"line":17},"msService":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"classId":"notification.service.NotificationServiceImpl","packageName":"notification.service","className":"NotificationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean orderCreateSuccess(NotifyInfo info, HttpHeaders headers){\n        Mail mail \u003d new Mail();\n        mail.setMailFrom(email);\n        mail.setMailTo(info.getEmail());\n        mail.setMailSubject(\"Order Create Success\");\n\n        Map\u003cString, Object\u003e model \u003d new HashMap\u003c\u003e();\n        model.put(username, info.getUsername());\n        model.put(startingPlace,info.getStartingPlace());\n        model.put(endPlace,info.getEndPlace());\n        model.put(startingTime,info.getStartingTime());\n        model.put(\"date\",info.getDate());\n        model.put(seatClass,info.getSeatClass());\n        model.put(seatNumber,info.getSeatNumber());\n        model.put(\"orderNumber\", info.getOrderNumber());\n        mail.setModel(model);\n\n        try {\n            mailService.sendEmail(mail,\"order_create_success.ftl\");\n            return true;\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n            return false;\n        }\n    }","returnType":"boolean","methodName":"orderCreateSuccess","className":"NotificationServiceImpl","packageName":"notification.service","methodId":"notification.service.NotificationServiceImpl.orderCreateSuccess","classId":"notification.service.NotificationServiceImpl","line":63,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"mailService.sendEmail(mail,\"order_create_success.ftl\")","parentPackageName":"notification.service","parentClassName":"NotificationServiceImpl","parentMethodName":"orderCreateSuccess","parentClassId":"notification.service.NotificationServiceImpl","lineNumber":82,"calledMethodName":"sendEmail","calledServiceId":"mailService","statementDeclaration":"mailService.sendEmail(mail, \"order_create_success.ftl\")"},"msServiceRepositoryField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Autowired\n    MailService mailService;","fieldClass":"MailService","fieldVariable":"mailService","parentMethod":{"parentClassName":"NotificationServiceImpl","parentPackageName":"notification.service"},"line":23},"msRepository":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"classId":"notification.service.MailService","packageName":"notification.service","className":"MailService","role":"SERVICE","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"code":"public void sendEmail(Mail mail,String template) throws Exception {\n        MimeMessage message \u003d sender.createMimeMessage();\n\n        MimeMessageHelper helper \u003d new MimeMessageHelper(message);\n\n        // Using a subfolder such as /templates here\n        freemarkerConfig.setClassForTemplateLoading(this.getClass(), \"/templates\");\n\n        Template t \u003d freemarkerConfig.getTemplate(template);\n        String text \u003d FreeMarkerTemplateUtils.processTemplateIntoString(t, mail.getModel());\n\n        helper.setTo(mail.getMailTo());\n        helper.setText(text, true);\n        helper.setFrom(\"fdse_microservices@163.com\");\n        helper.setSubject(mail.getMailSubject());\n\n        sender.send(message);\n    }","returnType":"void","methodName":"sendEmail","className":"MailService","packageName":"notification.service","methodId":"notification.service.MailService.sendEmail","classId":"notification.service.MailService","line":30,"msArgumentList":[{"returnType":"Mail"},{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"classId":"notification.controller.NotificationController","packageName":"notification.controller","className":"NotificationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/notification/order_changed_success\")\n    public boolean order_changed_success(@RequestBody NotifyInfo info, @RequestHeader HttpHeaders headers) {\n        return service.orderChangedSuccess(info, headers);\n    }","returnType":"boolean","methodName":"order_changed_success","className":"NotificationController","packageName":"notification.controller","methodId":"notification.controller.NotificationController.order_changed_success","classId":"notification.controller.NotificationController","line":35,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/notification/order_changed_success\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"service.orderChangedSuccess(info, headers)","parentPackageName":"notification.controller","parentClassName":"NotificationController","parentMethodName":"order_changed_success","parentClassId":"notification.controller.NotificationController","lineNumber":37,"calledMethodName":"orderChangedSuccess","calledServiceId":"service","statementDeclaration":"service.orderChangedSuccess(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@Autowired\n    NotificationService service;","fieldClass":"NotificationService","fieldVariable":"service","parentMethod":{"parentClassName":"NotificationController","parentPackageName":"notification.controller"},"line":17},"msService":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"classId":"notification.service.NotificationServiceImpl","packageName":"notification.service","className":"NotificationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean orderChangedSuccess(NotifyInfo info, HttpHeaders headers){\n        Mail mail \u003d new Mail();\n        mail.setMailFrom(email);\n        mail.setMailTo(info.getEmail());\n        mail.setMailSubject(\"Order Changed Success\");\n\n        Map\u003cString, Object\u003e model \u003d new HashMap\u003c\u003e();\n        model.put(username, info.getUsername());\n        model.put(startingPlace,info.getStartingPlace());\n        model.put(endPlace,info.getEndPlace());\n        model.put(startingTime,info.getStartingTime());\n        model.put(\"date\",info.getDate());\n        model.put(seatClass,info.getSeatClass());\n        model.put(seatNumber,info.getSeatNumber());\n        model.put(\"orderNumber\", info.getOrderNumber());\n        mail.setModel(model);\n\n        try {\n            mailService.sendEmail(mail,\"order_changed_success.ftl\");\n            return true;\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n            return false;\n        }\n    }","returnType":"boolean","methodName":"orderChangedSuccess","className":"NotificationServiceImpl","packageName":"notification.service","methodId":"notification.service.NotificationServiceImpl.orderChangedSuccess","classId":"notification.service.NotificationServiceImpl","line":90,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"mailService.sendEmail(mail,\"order_changed_success.ftl\")","parentPackageName":"notification.service","parentClassName":"NotificationServiceImpl","parentMethodName":"orderChangedSuccess","parentClassId":"notification.service.NotificationServiceImpl","lineNumber":109,"calledMethodName":"sendEmail","calledServiceId":"mailService","statementDeclaration":"mailService.sendEmail(mail, \"order_changed_success.ftl\")"},"msServiceRepositoryField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Autowired\n    MailService mailService;","fieldClass":"MailService","fieldVariable":"mailService","parentMethod":{"parentClassName":"NotificationServiceImpl","parentPackageName":"notification.service"},"line":23},"msRepository":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"classId":"notification.service.MailService","packageName":"notification.service","className":"MailService","role":"SERVICE","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"code":"public void sendEmail(Mail mail,String template) throws Exception {\n        MimeMessage message \u003d sender.createMimeMessage();\n\n        MimeMessageHelper helper \u003d new MimeMessageHelper(message);\n\n        // Using a subfolder such as /templates here\n        freemarkerConfig.setClassForTemplateLoading(this.getClass(), \"/templates\");\n\n        Template t \u003d freemarkerConfig.getTemplate(template);\n        String text \u003d FreeMarkerTemplateUtils.processTemplateIntoString(t, mail.getModel());\n\n        helper.setTo(mail.getMailTo());\n        helper.setText(text, true);\n        helper.setFrom(\"fdse_microservices@163.com\");\n        helper.setSubject(mail.getMailSubject());\n\n        sender.send(message);\n    }","returnType":"void","methodName":"sendEmail","className":"MailService","packageName":"notification.service","methodId":"notification.service.MailService.sendEmail","classId":"notification.service.MailService","line":30,"msArgumentList":[{"returnType":"Mail"},{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"classId":"notification.controller.NotificationController","packageName":"notification.controller","className":"NotificationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/notification/order_cancel_success\")\n    public boolean order_cancel_success(@RequestBody NotifyInfo info, @RequestHeader HttpHeaders headers) {\n        return service.orderCancelSuccess(info, headers);\n    }","returnType":"boolean","methodName":"order_cancel_success","className":"NotificationController","packageName":"notification.controller","methodId":"notification.controller.NotificationController.order_cancel_success","classId":"notification.controller.NotificationController","line":40,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/notification/order_cancel_success\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"service.orderCancelSuccess(info, headers)","parentPackageName":"notification.controller","parentClassName":"NotificationController","parentMethodName":"order_cancel_success","parentClassId":"notification.controller.NotificationController","lineNumber":42,"calledMethodName":"orderCancelSuccess","calledServiceId":"service","statementDeclaration":"service.orderCancelSuccess(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/controller/NotificationController.java","directoryName":""},"code":"@Autowired\n    NotificationService service;","fieldClass":"NotificationService","fieldVariable":"service","parentMethod":{"parentClassName":"NotificationController","parentPackageName":"notification.controller"},"line":17},"msService":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"classId":"notification.service.NotificationServiceImpl","packageName":"notification.service","className":"NotificationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean orderCancelSuccess(NotifyInfo info, HttpHeaders headers){\n        Mail mail \u003d new Mail();\n        mail.setMailFrom(email);\n        mail.setMailTo(info.getEmail());\n        mail.setMailSubject(\"Order Cancel Success\");\n\n        Map\u003cString, Object\u003e model \u003d new HashMap\u003c\u003e();\n        model.put(username, info.getUsername());\n        model.put(\"price\",info.getPrice());\n        mail.setModel(model);\n\n        try {\n            mailService.sendEmail(mail,\"order_cancel_success.ftl\");\n            return true;\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n            return false;\n        }\n    }","returnType":"boolean","methodName":"orderCancelSuccess","className":"NotificationServiceImpl","packageName":"notification.service","methodId":"notification.service.NotificationServiceImpl.orderCancelSuccess","classId":"notification.service.NotificationServiceImpl","line":117,"msArgumentList":[{"returnType":"NotifyInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"mailService.sendEmail(mail,\"order_cancel_success.ftl\")","parentPackageName":"notification.service","parentClassName":"NotificationServiceImpl","parentMethodName":"orderCancelSuccess","parentClassId":"notification.service.NotificationServiceImpl","lineNumber":130,"calledMethodName":"sendEmail","calledServiceId":"mailService","statementDeclaration":"mailService.sendEmail(mail, \"order_cancel_success.ftl\")"},"msServiceRepositoryField":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/NotificationServiceImpl.java","directoryName":""},"code":"@Autowired\n    MailService mailService;","fieldClass":"MailService","fieldVariable":"mailService","parentMethod":{"parentClassName":"NotificationServiceImpl","parentPackageName":"notification.service"},"line":23},"msRepository":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"classId":"notification.service.MailService","packageName":"notification.service","className":"MailService","role":"SERVICE","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-notification-service/src/main/java/notification/service/MailService.java","directoryName":""},"code":"public void sendEmail(Mail mail,String template) throws Exception {\n        MimeMessage message \u003d sender.createMimeMessage();\n\n        MimeMessageHelper helper \u003d new MimeMessageHelper(message);\n\n        // Using a subfolder such as /templates here\n        freemarkerConfig.setClassForTemplateLoading(this.getClass(), \"/templates\");\n\n        Template t \u003d freemarkerConfig.getTemplate(template);\n        String text \u003d FreeMarkerTemplateUtils.processTemplateIntoString(t, mail.getModel());\n\n        helper.setTo(mail.getMailTo());\n        helper.setText(text, true);\n        helper.setFrom(\"fdse_microservices@163.com\");\n        helper.setSubject(mail.getMailSubject());\n\n        sender.send(message);\n    }","returnType":"void","methodName":"sendEmail","className":"MailService","packageName":"notification.service","methodId":"notification.service.MailService.sendEmail","classId":"notification.service.MailService","line":30,"msArgumentList":[{"returnType":"Mail"},{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Station Service ] !\";\n    }","returnType":"String","methodName":"home","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.home","classId":"fdse.microservice.controller.StationController","line":28,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/stations\")\n    public HttpEntity query(@RequestHeader HttpHeaders headers) {\n        return ok(stationService.query(headers));\n    }","returnType":"HttpEntity","methodName":"query","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.query","classId":"fdse.microservice.controller.StationController","line":33,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.query(headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"query","parentClassId":"fdse.microservice.controller.StationController","lineNumber":35,"calledMethodName":"query","calledServiceId":"stationService","statementDeclaration":"stationService.query(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response query(HttpHeaders headers) {\n        List\u003cStation\u003e stations \u003d repository.findAll();\n        if (stations !\u003d null \u0026\u0026 !stations.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Find all content\", stations);\n        } else {\n            return new Response\u003c\u003e(0, \"No content\", null);\n        }\n    }","returnType":"Response","methodName":"query","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.query","classId":"fdse.microservice.service.StationServiceImpl","line":66,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"query","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":68,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"@Override\n    List\u003cStation\u003e findAll();","returnType":"List\u003cStation\u003e","methodName":"findAll","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findAll","classId":"fdse.microservice.repository.StationRepository","line":15,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/stations\")\n    public ResponseEntity\u003cResponse\u003e create(@RequestBody Station station, @RequestHeader HttpHeaders headers) {\n        return new ResponseEntity\u003c\u003e(stationService.create(station, headers), HttpStatus.CREATED);\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"create","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.create","classId":"fdse.microservice.controller.StationController","line":38,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.create(station, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"create","parentClassId":"fdse.microservice.controller.StationController","lineNumber":40,"calledMethodName":"create","calledServiceId":"stationService","statementDeclaration":"stationService.create(station, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(Station station, HttpHeaders headers) {\n        if (repository.findById(station.getId()) \u003d\u003d null) {\n            station.setStayTime(station.getStayTime());\n            repository.save(station);\n            return new Response\u003c\u003e(1, \"Create success\", station);\n        }\n        return new Response\u003c\u003e(0, \"Already exists\", station);\n    }","returnType":"Response","methodName":"create","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.create","classId":"fdse.microservice.service.StationServiceImpl","line":22,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findById(station.getId())","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"create","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":24,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(station.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findById(String id);","returnType":"Station","methodName":"findById","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findById","classId":"fdse.microservice.repository.StationRepository","line":13,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@PutMapping(value \u003d \"/stations\")\n    public HttpEntity update(@RequestBody Station station, @RequestHeader HttpHeaders headers) {\n        return ok(stationService.update(station, headers));\n    }","returnType":"HttpEntity","methodName":"update","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.update","classId":"fdse.microservice.controller.StationController","line":43,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.update(station, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"update","parentClassId":"fdse.microservice.controller.StationController","lineNumber":45,"calledMethodName":"update","calledServiceId":"stationService","statementDeclaration":"stationService.update(station, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response update(Station info, HttpHeaders headers) {\n\n        if (repository.findById(info.getId()) \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"Station not exist\", null);\n        } else {\n            Station station \u003d new Station(info.getId(), info.getName());\n            station.setStayTime(info.getStayTime());\n            repository.save(station);\n            return new Response\u003c\u003e(1, \"Update success\", station);\n        }\n    }","returnType":"Response","methodName":"update","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.update","classId":"fdse.microservice.service.StationServiceImpl","line":42,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findById(info.getId())","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"update","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":45,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(info.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findById(String id);","returnType":"Station","methodName":"findById","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findById","classId":"fdse.microservice.repository.StationRepository","line":13,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/stations\")\n    public ResponseEntity\u003cResponse\u003e delete(@RequestBody Station station, @RequestHeader HttpHeaders headers) {\n        return ok(stationService.delete(station, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"delete","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.delete","classId":"fdse.microservice.controller.StationController","line":48,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.delete(station, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"delete","parentClassId":"fdse.microservice.controller.StationController","lineNumber":50,"calledMethodName":"delete","calledServiceId":"stationService","statementDeclaration":"stationService.delete(station, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response delete(Station info, HttpHeaders headers) {\n\n        if (repository.findById(info.getId()) !\u003d null) {\n            Station station \u003d new Station(info.getId(), info.getName());\n            repository.delete(station);\n            return new Response\u003c\u003e(1, \"Delete success\", station);\n        }\n        return new Response\u003c\u003e(0, \"Station not exist\", null);\n    }","returnType":"Response","methodName":"delete","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.delete","classId":"fdse.microservice.service.StationServiceImpl","line":55,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findById(info.getId())","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"delete","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":58,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(info.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findById(String id);","returnType":"Station","methodName":"findById","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findById","classId":"fdse.microservice.repository.StationRepository","line":13,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/stations/id/{stationNameForId}\")\n    public HttpEntity queryForStationId(@PathVariable(value \u003d \"stationNameForId\")\n                                                String stationName, @RequestHeader HttpHeaders headers) {\n        // string\n        return ok(stationService.queryForId(stationName, headers));\n    }","returnType":"HttpEntity","methodName":"queryForStationId","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.queryForStationId","classId":"fdse.microservice.controller.StationController","line":56,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/stations/id/{stationNameForId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.queryForId(stationName, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"queryForStationId","parentClassId":"fdse.microservice.controller.StationController","lineNumber":60,"calledMethodName":"queryForId","calledServiceId":"stationService","statementDeclaration":"stationService.queryForId(stationName, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForId(String stationName, HttpHeaders headers) {\n        Station station \u003d repository.findByName(stationName);\n\n        if (station  !\u003d null) {\n            return new Response\u003c\u003e(1, success, station.getId());\n        } else {\n            return new Response\u003c\u003e(0, \"Not exists\", stationName);\n        }\n    }","returnType":"Response","methodName":"queryForId","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.queryForId","classId":"fdse.microservice.service.StationServiceImpl","line":76,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findByName(stationName)","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"queryForId","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":78,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(stationName)"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findByName(String name);","returnType":"Station","methodName":"findByName","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findByName","classId":"fdse.microservice.repository.StationRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/stations/idlist\")\n    public HttpEntity queryForIdBatch(@RequestBody List\u003cString\u003e stationNameList, @RequestHeader HttpHeaders headers) {\n        return ok(stationService.queryForIdBatch(stationNameList, headers));\n    }","returnType":"HttpEntity","methodName":"queryForIdBatch","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.queryForIdBatch","classId":"fdse.microservice.controller.StationController","line":64,"msArgumentList":[{"returnType":"List\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/stations/idlist\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.queryForIdBatch(stationNameList, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"queryForIdBatch","parentClassId":"fdse.microservice.controller.StationController","lineNumber":67,"calledMethodName":"queryForIdBatch","calledServiceId":"stationService","statementDeclaration":"stationService.queryForIdBatch(stationNameList, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForIdBatch(List\u003cString\u003e nameList, HttpHeaders headers) {\n        ArrayList\u003cString\u003e result \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c nameList.size(); i++) {\n            Station station \u003d repository.findByName(nameList.get(i));\n            if (station \u003d\u003d null) {\n                result.add(\"Not Exist\");\n            } else {\n                result.add(station.getId());\n            }\n        }\n\n        if (!result.isEmpty()) {\n            return new Response\u003c\u003e(1, success, result);\n        } else {\n            return new Response\u003c\u003e(0, \"No content according to name list\", null);\n        }\n\n    }","returnType":"Response","methodName":"queryForIdBatch","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.queryForIdBatch","classId":"fdse.microservice.service.StationServiceImpl","line":88,"msArgumentList":[{"returnType":"List\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findByName(nameList.get(i))","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"queryForIdBatch","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":92,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(nameList.get(i))"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findByName(String name);","returnType":"Station","methodName":"findByName","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findByName","classId":"fdse.microservice.repository.StationRepository","line":11,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/stations/name/{stationIdForName}\")\n    public HttpEntity queryById(@PathVariable(value \u003d \"stationIdForName\")\n                                        String stationId, @RequestHeader HttpHeaders headers) {\n        StationController.LOGGER.info(\"[Station Service] Query By Id: {}\", stationId);\n        // string\n        return ok(stationService.queryById(stationId, headers));\n    }","returnType":"HttpEntity","methodName":"queryById","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.queryById","classId":"fdse.microservice.controller.StationController","line":71,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/stations/name/{stationIdForName}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.queryById(stationId, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"queryById","parentClassId":"fdse.microservice.controller.StationController","lineNumber":77,"calledMethodName":"queryById","calledServiceId":"stationService","statementDeclaration":"stationService.queryById(stationId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryById(String stationId, HttpHeaders headers) {\n        Station station \u003d repository.findById(stationId);\n        if (station !\u003d null) {\n            return new Response\u003c\u003e(1, success, station.getName());\n        } else {\n            return new Response\u003c\u003e(0, \"No that stationId\", stationId);\n        }\n    }","returnType":"Response","methodName":"queryById","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.queryById","classId":"fdse.microservice.service.StationServiceImpl","line":108,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findById(stationId)","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"queryById","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":110,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(stationId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findById(String id);","returnType":"Station","methodName":"findById","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findById","classId":"fdse.microservice.repository.StationRepository","line":13,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"classId":"fdse.microservice.controller.StationController","packageName":"fdse.microservice.controller","className":"StationController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/stations/namelist\")\n    public HttpEntity queryForNameBatch(@RequestBody List\u003cString\u003e stationIdList, @RequestHeader HttpHeaders headers) {\n        return ok(stationService.queryByIdBatch(stationIdList, headers));\n    }","returnType":"HttpEntity","methodName":"queryForNameBatch","className":"StationController","packageName":"fdse.microservice.controller","methodId":"fdse.microservice.controller.StationController.queryForNameBatch","classId":"fdse.microservice.controller.StationController","line":81,"msArgumentList":[{"returnType":"List\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/stations/namelist\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"stationService.queryByIdBatch(stationIdList, headers)","parentPackageName":"fdse.microservice.controller","parentClassName":"StationController","parentMethodName":"queryForNameBatch","parentClassId":"fdse.microservice.controller.StationController","lineNumber":84,"calledMethodName":"queryByIdBatch","calledServiceId":"stationService","statementDeclaration":"stationService.queryByIdBatch(stationIdList, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/controller/StationController.java","directoryName":""},"code":"@Autowired\n    private StationService stationService;","fieldClass":"StationService","fieldVariable":"stationService","parentMethod":{"parentClassName":"StationController","parentPackageName":"fdse.microservice.controller"},"line":23},"msService":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"classId":"fdse.microservice.service.StationServiceImpl","packageName":"fdse.microservice.service","className":"StationServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryByIdBatch(List\u003cString\u003e idList, HttpHeaders headers) {\n        ArrayList\u003cString\u003e result \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c idList.size(); i++) {\n            Station station \u003d repository.findById(idList.get(i));\n            if (station !\u003d null) {\n                result.add(station.getName());\n            }\n        }\n\n        if (!result.isEmpty()) {\n            return new Response\u003c\u003e(1, success, result);\n        } else {\n            return new Response\u003c\u003e(0, \"No stationNamelist according to stationIdList\", result);\n        }\n\n    }","returnType":"Response","methodName":"queryByIdBatch","className":"StationServiceImpl","packageName":"fdse.microservice.service","methodId":"fdse.microservice.service.StationServiceImpl.queryByIdBatch","classId":"fdse.microservice.service.StationServiceImpl","line":118,"msArgumentList":[{"returnType":"List\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"repository.findById(idList.get(i))","parentPackageName":"fdse.microservice.service","parentClassName":"StationServiceImpl","parentMethodName":"queryByIdBatch","parentClassId":"fdse.microservice.service.StationServiceImpl","lineNumber":122,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(idList.get(i))"},"msServiceRepositoryField":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/service/StationServiceImpl.java","directoryName":""},"code":"@Autowired\n    private StationRepository repository;","fieldClass":"StationRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"StationServiceImpl","parentPackageName":"fdse.microservice.service"},"line":17},"msRepository":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"classId":"fdse.microservice.repository.StationRepository","packageName":"fdse.microservice.repository","className":"StationRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-station-service/src/main/java/fdse/microservice/repository/StationRepository.java","directoryName":""},"code":"Station findById(String id);","returnType":"Station","methodName":"findById","className":"StationRepository","packageName":"fdse.microservice.repository","methodId":"fdse.microservice.repository.StationRepository.findById","classId":"fdse.microservice.repository.StationRepository","line":13,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"classId":"ticketinfo.controller.TicketInfoController","packageName":"ticketinfo.controller","className":"TicketInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ TicketInfo Service ] !\";\n    }","returnType":"String","methodName":"home","className":"TicketInfoController","packageName":"ticketinfo.controller","methodId":"ticketinfo.controller.TicketInfoController.home","classId":"ticketinfo.controller.TicketInfoController","line":23,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"classId":"ticketinfo.controller.TicketInfoController","packageName":"ticketinfo.controller","className":"TicketInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/ticketinfo\")\n    public HttpEntity queryForTravel(@RequestBody Travel info, @RequestHeader HttpHeaders headers) {\n        // TravelResult\n        return ok(service.queryForTravel(info, headers));\n    }","returnType":"HttpEntity","methodName":"queryForTravel","className":"TicketInfoController","packageName":"ticketinfo.controller","methodId":"ticketinfo.controller.TicketInfoController.queryForTravel","classId":"ticketinfo.controller.TicketInfoController","line":28,"msArgumentList":[{"returnType":"Travel"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/ticketinfo\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"service.queryForTravel(info, headers)","parentPackageName":"ticketinfo.controller","parentClassName":"TicketInfoController","parentMethodName":"queryForTravel","parentClassId":"ticketinfo.controller.TicketInfoController","lineNumber":31,"calledMethodName":"queryForTravel","calledServiceId":"service","statementDeclaration":"service.queryForTravel(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"@Autowired\n    TicketInfoService service;","fieldClass":"TicketInfoService","fieldVariable":"service","parentMethod":{"parentClassName":"TicketInfoController","parentPackageName":"ticketinfo.controller"},"line":20},"msService":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"classId":"ticketinfo.service.TicketInfoServiceImpl","packageName":"ticketinfo.service","className":"TicketInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForTravel(Travel info, HttpHeaders headers) {\n        HttpEntity requestEntity \u003d new HttpEntity(info, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-basic-service:15680/api/v1/basicservice/basic/travel\",\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"queryForTravel","className":"TicketInfoServiceImpl","packageName":"ticketinfo.service","methodId":"ticketinfo.service.TicketInfoServiceImpl.queryForTravel","classId":"ticketinfo.service.TicketInfoServiceImpl","line":22,"msArgumentList":[{"returnType":"Travel"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-basic-service:15680/api/v1/basicservice/basic/travel\"","httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-basic-service:15680/api/v1/basicservice/basic/travel\",\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"ticketinfo.service","parentClassName":"TicketInfoServiceImpl","parentMethodName":"queryForTravel","parentClassId":"ticketinfo.service.TicketInfoServiceImpl","lineNumber":25,"statementDeclaration":"restTemplate.exchange(\"http://ts-basic-service:15680/api/v1/basicservice/basic/travel\", HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"classId":"ticketinfo.controller.TicketInfoController","packageName":"ticketinfo.controller","className":"TicketInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/ticketinfo/{name}\")\n    public HttpEntity queryForStationId(@PathVariable String name, @RequestHeader HttpHeaders headers) {\n        // String id\n        return ok(service.queryForStationId(name, headers));\n    }","returnType":"HttpEntity","methodName":"queryForStationId","className":"TicketInfoController","packageName":"ticketinfo.controller","methodId":"ticketinfo.controller.TicketInfoController.queryForStationId","classId":"ticketinfo.controller.TicketInfoController","line":34,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/ticketinfo/{name}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"service.queryForStationId(name, headers)","parentPackageName":"ticketinfo.controller","parentClassName":"TicketInfoController","parentMethodName":"queryForStationId","parentClassId":"ticketinfo.controller.TicketInfoController","lineNumber":37,"calledMethodName":"queryForStationId","calledServiceId":"service","statementDeclaration":"service.queryForStationId(name, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/controller/TicketInfoController.java","directoryName":""},"code":"@Autowired\n    TicketInfoService service;","fieldClass":"TicketInfoService","fieldVariable":"service","parentMethod":{"parentClassName":"TicketInfoController","parentPackageName":"ticketinfo.controller"},"line":20},"msService":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"classId":"ticketinfo.service.TicketInfoServiceImpl","packageName":"ticketinfo.service","className":"TicketInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryForStationId(String name, HttpHeaders headers) {\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-basic-service:15680/api/v1/basicservice/basic/\" + name,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n\n        return re.getBody();\n    }","returnType":"Response","methodName":"queryForStationId","className":"TicketInfoServiceImpl","packageName":"ticketinfo.service","methodId":"ticketinfo.service.TicketInfoServiceImpl.queryForStationId","classId":"ticketinfo.service.TicketInfoServiceImpl","line":33,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-basic-service:15680/api/v1/basicservice/basic/\" + name","httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-ticketinfo-service/src/main/java/ticketinfo/service/TicketInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-basic-service:15680/api/v1/basicservice/basic/\" + name,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"ticketinfo.service","parentClassName":"TicketInfoServiceImpl","parentMethodName":"queryForStationId","parentClassId":"ticketinfo.service.TicketInfoServiceImpl","lineNumber":36,"statementDeclaration":"restTemplate.exchange(\"http://ts-basic-service:15680/api/v1/basicservice/basic/\" + name, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"classId":"cancel.controller.CancelController","packageName":"cancel.controller","className":"CancelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Cancel Service ] !\";\n    }","returnType":"String","methodName":"home","className":"CancelController","packageName":"cancel.controller","methodId":"cancel.controller.CancelController.home","classId":"cancel.controller.CancelController","line":25,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"classId":"cancel.controller.CancelController","packageName":"cancel.controller","className":"CancelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/cancel/refound/{orderId}\")\n    public HttpEntity calculate(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        CancelController.LOGGER.info(\"[Cancel Order Service][Calculate Cancel Refund] OrderId: {}\", orderId);\n        return ok(cancelService.calculateRefund(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"calculate","className":"CancelController","packageName":"cancel.controller","methodId":"cancel.controller.CancelController.calculate","classId":"cancel.controller.CancelController","line":30,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/cancel/refound/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"cancelService.calculateRefund(orderId, headers)","parentPackageName":"cancel.controller","parentClassName":"CancelController","parentMethodName":"calculate","parentClassId":"cancel.controller.CancelController","lineNumber":34,"calledMethodName":"calculateRefund","calledServiceId":"cancelService","statementDeclaration":"cancelService.calculateRefund(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"@Autowired\n    CancelService cancelService;","fieldClass":"CancelService","fieldVariable":"cancelService","parentMethod":{"parentClassName":"CancelController","parentPackageName":"cancel.controller"},"line":20},"msService":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/service/CancelServiceImpl.java","directoryName":""},"classId":"cancel.service.CancelServiceImpl","packageName":"cancel.service","className":"CancelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/service/CancelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response calculateRefund(String orderId, HttpHeaders headers) {\n\n        Response\u003cOrder\u003e orderResult \u003d getOrderByIdFromOrder(orderId, headers);\n        if (orderResult.getStatus() \u003d\u003d 1) {\n            Order order \u003d   orderResult.getData();\n            if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()\n                    || order.getStatus() \u003d\u003d OrderStatus.PAID.getCode()) {\n                if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()) {\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] From Order Service.Not Paid.\");\n                    return new Response\u003c\u003e(1, \"Success. Refoud 0\", \"0\");\n                } else {\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] From Order Service.Paid.\");\n                    return new Response\u003c\u003e(1, \"Success. \", calculateRefund(order));\n                }\n            } else {\n                CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] Order. Cancel Not Permitted.\");\n                return new Response\u003c\u003e(0, \"Order Status Cancel Not Permitted, Refound error\", null);\n            }\n        } else {\n\n            Response\u003cOrder\u003e orderOtherResult \u003d getOrderByIdFromOrderOther(orderId, headers);\n            if (orderOtherResult.getStatus() \u003d\u003d 1) {\n                Order order \u003d   orderOtherResult.getData();\n                if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()\n                        || order.getStatus() \u003d\u003d OrderStatus.PAID.getCode()) {\n                    if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()) {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] From Order Other Service.Not Paid.\");\n                        return new Response\u003c\u003e(1, \"Success, Refound 0\", \"0\");\n                    } else {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] From Order Other Service.Paid.\");\n                        return new Response\u003c\u003e(1, \"Success\", calculateRefund(order));\n                    }\n                } else {\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] Order Other. Cancel Not Permitted.\");\n                    return new Response\u003c\u003e(0, orderStatusCancelNotPermitted, null);\n                }\n            } else {\n                CancelServiceImpl.LOGGER.info(\"[Cancel Order][Refund Price] Order not found.\");\n                return new Response\u003c\u003e(0, \"Order Not Found\", null);\n            }\n        }\n    }","returnType":"Response","methodName":"calculateRefund","className":"CancelServiceImpl","packageName":"cancel.service","methodId":"cancel.service.CancelServiceImpl.calculateRefund","classId":"cancel.service.CancelServiceImpl","line":141,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"classId":"cancel.controller.CancelController","packageName":"cancel.controller","className":"CancelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/cancel/{orderId}/{loginId}\")\n    public HttpEntity cancelTicket(@PathVariable String orderId, @PathVariable String loginId,\n                                   @RequestHeader HttpHeaders headers) {\n\n        CancelController.LOGGER.info(\"[Cancel Order Service][Cancel Ticket] info: {}\", orderId);\n        try {\n            CancelController.LOGGER.info(\"[Cancel Order Service][Cancel Ticket] Verify Success\");\n            return ok(cancelService.cancelOrder(orderId, loginId, headers));\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage());\n            return null;\n        }\n    }","returnType":"HttpEntity","methodName":"cancelTicket","className":"CancelController","packageName":"cancel.controller","methodId":"cancel.controller.CancelController.cancelTicket","classId":"cancel.controller.CancelController","line":37,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/cancel/{orderId}/{loginId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"cancelService.cancelOrder(orderId, loginId, headers)","parentPackageName":"cancel.controller","parentClassName":"CancelController","parentMethodName":"cancelTicket","parentClassId":"cancel.controller.CancelController","lineNumber":45,"calledMethodName":"cancelOrder","calledServiceId":"cancelService","statementDeclaration":"cancelService.cancelOrder(orderId, loginId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/controller/CancelController.java","directoryName":""},"code":"@Autowired\n    CancelService cancelService;","fieldClass":"CancelService","fieldVariable":"cancelService","parentMethod":{"parentClassName":"CancelController","parentPackageName":"cancel.controller"},"line":20},"msService":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/service/CancelServiceImpl.java","directoryName":""},"classId":"cancel.service.CancelServiceImpl","packageName":"cancel.service","className":"CancelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-cancel-service/src/main/java/cancel/service/CancelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response cancelOrder(String orderId, String loginId, HttpHeaders headers) {\n\n        Response\u003cOrder\u003e orderResult \u003d getOrderByIdFromOrder(orderId, headers);\n        if (orderResult.getStatus() \u003d\u003d 1) {\n            CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order found G|H\");\n            Order order \u003d  orderResult.getData();\n            if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()\n                    || order.getStatus() \u003d\u003d OrderStatus.PAID.getCode() || order.getStatus() \u003d\u003d OrderStatus.CHANGE.getCode()) {\n\n                order.setStatus(OrderStatus.CANCEL.getCode());\n\n                Response changeOrderResult \u003d cancelFromOrder(order, headers);\n                // 0 -- not find order   1 - cancel success\n                if (changeOrderResult.getStatus() \u003d\u003d 1) {\n\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Success.\");\n                    //Draw back money\n                    String money \u003d calculateRefund(order);\n                    boolean status \u003d drawbackMoney(money, loginId, headers);\n                    if (status) {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Draw Back Money] Success.\");\n\n\n\n                        Response\u003cUser\u003e result \u003d getAccount(order.getAccountId().toString(), headers);\n                        if (result.getStatus() \u003d\u003d 0) {\n                            return new Response\u003c\u003e(0, \"Cann\u0027t find userinfo by user id.\", null);\n                        }\n                        NotifyInfo notifyInfo \u003d new NotifyInfo();\n                        notifyInfo.setDate(new Date().toString());\n                        notifyInfo.setEmail(result.getData().getEmail());\n                        notifyInfo.setStartingPlace(order.getFrom());\n                        notifyInfo.setEndPlace(order.getTo());\n                        notifyInfo.setUsername(result.getData().getUserName());\n                        notifyInfo.setSeatNumber(order.getSeatNumber());\n                        notifyInfo.setOrderNumber(order.getId().toString());\n                        notifyInfo.setPrice(order.getPrice());\n                        notifyInfo.setSeatClass(SeatClass.getNameByCode(order.getSeatClass()));\n                        notifyInfo.setStartingTime(order.getTravelTime().toString());\n\n                        sendEmail(notifyInfo, headers);\n\n                    } else {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Draw Back Money] Fail.\");\n                    }\n                    return new Response\u003c\u003e(1, \"Success.\", null);\n                } else {\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Fail.Reason: {}\", changeOrderResult.getMsg());\n                    return new Response\u003c\u003e(0, changeOrderResult.getMsg(), null);\n                }\n\n            } else {\n                CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order Status Not Permitted.\");\n                return new Response\u003c\u003e(0, orderStatusCancelNotPermitted, null);\n            }\n        } else {\n\n            Response\u003cOrder\u003e orderOtherResult \u003d getOrderByIdFromOrderOther(orderId, headers);\n            if (orderOtherResult.getStatus() \u003d\u003d 1) {\n                CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order found Z|K|Other\");\n\n                Order order \u003d   orderOtherResult.getData();\n                if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode()\n                        || order.getStatus() \u003d\u003d OrderStatus.PAID.getCode() || order.getStatus() \u003d\u003d OrderStatus.CHANGE.getCode()) {\n\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order status ok\");\n\n                    order.setStatus(OrderStatus.CANCEL.getCode());\n                    Response changeOrderResult \u003d cancelFromOtherOrder(order, headers);\n\n                    if (changeOrderResult.getStatus() \u003d\u003d 1) {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Success.\");\n                        //Draw back money\n                        String money \u003d calculateRefund(order);\n                        boolean status \u003d drawbackMoney(money, loginId, headers);\n                        if (status) {\n                            CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Draw Back Money] Success.\");\n                        } else {\n                            CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Draw Back Money] Fail.\");\n                        }\n                        return new Response\u003c\u003e(1, \"Success.\", null);\n                    } else {\n                        CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Fail.Reason: {}\", changeOrderResult.getMsg());\n                        return new Response\u003c\u003e(0, \"Fail.Reason:\" + changeOrderResult.getMsg(), null);\n                    }\n                } else {\n                    CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order Status Not Permitted.\");\n                    return new Response\u003c\u003e(0, orderStatusCancelNotPermitted, null);\n                }\n            } else {\n                CancelServiceImpl.LOGGER.info(\"[Cancel Order Service][Cancel Order] Order Not Found.\");\n                return new Response\u003c\u003e(0, \"Order Not Found.\", null);\n            }\n        }\n    }","returnType":"Response","methodName":"cancelOrder","className":"CancelServiceImpl","packageName":"cancel.service","methodId":"cancel.service.CancelServiceImpl.cancelOrder","classId":"cancel.service.CancelServiceImpl","line":33,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Travel Service ] !\";\n    }","returnType":"String","methodName":"home","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.home","classId":"travel.controller.TravelController","line":31,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/train_types/{tripId}\")\n    public HttpEntity getTrainTypeByTripId(@PathVariable String tripId,\n                                           @RequestHeader HttpHeaders headers) {\n        // TrainType\n        return ok(travelService.getTrainTypeByTripId(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getTrainTypeByTripId","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.getTrainTypeByTripId","classId":"travel.controller.TravelController","line":36,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/train_types/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.getTrainTypeByTripId(tripId, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"getTrainTypeByTripId","parentClassId":"travel.controller.TravelController","lineNumber":40,"calledMethodName":"getTrainTypeByTripId","calledServiceId":"travelService","statementDeclaration":"travelService.getTrainTypeByTripId(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTrainTypeByTripId(String tripId, HttpHeaders headers) {\n        TripId tripId1 \u003d new TripId(tripId);\n        TrainType trainType \u003d null;\n        Trip trip \u003d repository.findByTripId(tripId1);\n        if (trip !\u003d null) {\n            trainType \u003d getTrainType(trip.getTrainTypeId(), headers);\n        }\n        if (trainType !\u003d null) {\n            return new Response\u003c\u003e(1, success, trainType);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"getTrainTypeByTripId","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.getTrainTypeByTripId","classId":"travel.service.TravelServiceImpl","line":68,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(tripId1)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"getTrainTypeByTripId","parentClassId":"travel.service.TravelServiceImpl","lineNumber":72,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(tripId1)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/routes/{tripId}\")\n    public HttpEntity getRouteByTripId(@PathVariable String tripId,\n                                       @RequestHeader HttpHeaders headers) {\n        TravelController.LOGGER.info(\"[Get Route By Trip ID] TripId: {}\", tripId);\n        //Route\n        return ok(travelService.getRouteByTripId(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getRouteByTripId","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.getRouteByTripId","classId":"travel.controller.TravelController","line":43,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/routes/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.getRouteByTripId(tripId, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"getRouteByTripId","parentClassId":"travel.controller.TravelController","lineNumber":48,"calledMethodName":"getRouteByTripId","calledServiceId":"travelService","statementDeclaration":"travelService.getRouteByTripId(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getRouteByTripId(String tripId, HttpHeaders headers) {\n        Route route \u003d null;\n        if (null !\u003d tripId \u0026\u0026 tripId.length() \u003e\u003d 2) {\n            TripId tripId1 \u003d new TripId(tripId);\n            Trip trip \u003d repository.findByTripId(tripId1);\n            if (trip !\u003d null) {\n                route \u003d getRouteByRouteId(trip.getRouteId(), headers);\n            }\n        }\n        if (route !\u003d null) {\n            return new Response\u003c\u003e(1, success, route);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"getRouteByTripId","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.getRouteByTripId","classId":"travel.service.TravelServiceImpl","line":51,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(tripId1)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"getRouteByTripId","parentClassId":"travel.service.TravelServiceImpl","lineNumber":56,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(tripId1)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/trips/routes\")\n    public HttpEntity getTripsByRouteId(@RequestBody ArrayList\u003cString\u003e routeIds,\n                                        @RequestHeader HttpHeaders headers) {\n        // ArrayList\u003cArrayList\u003cTrip\u003e\u003e\n        return ok(travelService.getTripByRoute(routeIds, headers));\n    }","returnType":"HttpEntity","methodName":"getTripsByRouteId","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.getTripsByRouteId","classId":"travel.controller.TravelController","line":51,"msArgumentList":[{"returnType":"ArrayList\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips/routes\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.getTripByRoute(routeIds, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"getTripsByRouteId","parentClassId":"travel.controller.TravelController","lineNumber":55,"calledMethodName":"getTripByRoute","calledServiceId":"travelService","statementDeclaration":"travelService.getTripByRoute(routeIds, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTripByRoute(ArrayList\u003cString\u003e routeIds, HttpHeaders headers) {\n        ArrayList\u003cArrayList\u003cTrip\u003e\u003e tripList \u003d new ArrayList\u003c\u003e();\n        for (String routeId : routeIds) {\n            ArrayList\u003cTrip\u003e tempTripList \u003d repository.findByRouteId(routeId);\n            if (tempTripList \u003d\u003d null) {\n                tempTripList \u003d new ArrayList\u003c\u003e();\n            }\n            tripList.add(tempTripList);\n        }\n        if (!tripList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, tripList);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"getTripByRoute","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.getTripByRoute","classId":"travel.service.TravelServiceImpl","line":83,"msArgumentList":[{"returnType":"ArrayList\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByRouteId(routeId)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"getTripByRoute","parentClassId":"travel.service.TravelServiceImpl","lineNumber":87,"calledMethodName":"findByRouteId","calledServiceId":"repository","statementDeclaration":"repository.findByRouteId(routeId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"ArrayList\u003cTrip\u003e findByRouteId(String routeId);","returnType":"ArrayList\u003cTrip\u003e","methodName":"findByRouteId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByRouteId","classId":"travel.repository.TripRepository","line":21,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trips\")\n    public HttpEntity\u003c?\u003e createTrip(@RequestBody TravelInfo routeIds, @RequestHeader HttpHeaders headers) {\n        // null\n        return new ResponseEntity\u003c\u003e(travelService.create(routeIds, headers), HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003c?\u003e","methodName":"createTrip","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.createTrip","classId":"travel.controller.TravelController","line":58,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.create(routeIds, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"createTrip","parentClassId":"travel.controller.TravelController","lineNumber":62,"calledMethodName":"create","calledServiceId":"travelService","statementDeclaration":"travelService.create(routeIds, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(TravelInfo info, HttpHeaders headers) {\n        TripId ti \u003d new TripId(info.getTripId());\n        if (repository.findByTripId(ti) \u003d\u003d null) {\n            Trip trip \u003d new Trip(ti, info.getTrainTypeId(), info.getStartingStationId(),\n                    info.getStationsId(), info.getTerminalStationId(), info.getStartingTime(), info.getEndTime());\n            trip.setRouteId(info.getRouteId());\n            repository.save(trip);\n            return new Response\u003c\u003e(1, \"Create trip:\" + ti.toString() + \".\", null);\n        } else {\n            return new Response\u003c\u003e(1, \"Trip \" + info.getTripId().toString() + \" already exists\", null);\n        }\n    }","returnType":"Response","methodName":"create","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.create","classId":"travel.service.TravelServiceImpl","line":37,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"create","parentClassId":"travel.service.TravelServiceImpl","lineNumber":40,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trips/{tripId}\")\n    public HttpEntity retrieve(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        // Trip\n        return ok(travelService.retrieve(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"retrieve","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.retrieve","classId":"travel.controller.TravelController","line":72,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trips/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.retrieve(tripId, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"retrieve","parentClassId":"travel.controller.TravelController","lineNumber":76,"calledMethodName":"retrieve","calledServiceId":"travelService","statementDeclaration":"travelService.retrieve(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response retrieve(String tripId, HttpHeaders headers) {\n        TripId ti \u003d new TripId(tripId);\n        Trip trip \u003d repository.findByTripId(ti);\n        if (trip !\u003d null) {\n            return new Response\u003c\u003e(1, \"Search Trip Success by Trip Id \" + tripId, trip);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content according to tripId\" + tripId, null);\n        }\n    }","returnType":"Response","methodName":"retrieve","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.retrieve","classId":"travel.service.TravelServiceImpl","line":101,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"retrieve","parentClassId":"travel.service.TravelServiceImpl","lineNumber":104,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(value \u003d \"/trips\")\n    public HttpEntity updateTrip(@RequestBody TravelInfo info, @RequestHeader HttpHeaders headers) {\n        // Trip\n        return ok(travelService.update(info, headers));\n    }","returnType":"HttpEntity","methodName":"updateTrip","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.updateTrip","classId":"travel.controller.TravelController","line":79,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.update(info, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"updateTrip","parentClassId":"travel.controller.TravelController","lineNumber":83,"calledMethodName":"update","calledServiceId":"travelService","statementDeclaration":"travelService.update(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response update(TravelInfo info, HttpHeaders headers) {\n        TripId ti \u003d new TripId(info.getTripId());\n        if (repository.findByTripId(ti) !\u003d null) {\n            Trip trip \u003d new Trip(ti, info.getTrainTypeId(), info.getStartingStationId(),\n                    info.getStationsId(), info.getTerminalStationId(), info.getStartingTime(), info.getEndTime());\n            trip.setRouteId(info.getRouteId());\n            repository.save(trip);\n            return new Response\u003c\u003e(1, \"Update trip:\" + ti.toString(), trip);\n        } else {\n            return new Response\u003c\u003e(1, \"Trip\" + info.getTripId().toString() + \"doesn \u0027t exists\", null);\n        }\n    }","returnType":"Response","methodName":"update","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.update","classId":"travel.service.TravelServiceImpl","line":112,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"update","parentClassId":"travel.service.TravelServiceImpl","lineNumber":115,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(value \u003d \"/trips/{tripId}\")\n    public HttpEntity deleteTrip(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        // string\n        return ok(travelService.delete(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteTrip","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.deleteTrip","classId":"travel.controller.TravelController","line":86,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/trips/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.delete(tripId, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"deleteTrip","parentClassId":"travel.controller.TravelController","lineNumber":90,"calledMethodName":"delete","calledServiceId":"travelService","statementDeclaration":"travelService.delete(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response delete(String tripId, HttpHeaders headers) {\n        TripId ti \u003d new TripId(tripId);\n        if (repository.findByTripId(ti) !\u003d null) {\n            repository.deleteByTripId(ti);\n            return new Response\u003c\u003e(1, \"Delete trip:\" + tripId + \".\", tripId);\n        } else {\n            return new Response\u003c\u003e(0, \"Trip \" + tripId + \" doesn\u0027t exist.\", null);\n        }\n    }","returnType":"Response","methodName":"delete","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.delete","classId":"travel.service.TravelServiceImpl","line":126,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"delete","parentClassId":"travel.service.TravelServiceImpl","lineNumber":129,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trips/left\")\n    public HttpEntity queryInfo(@RequestBody TripInfo info, @RequestHeader HttpHeaders headers) {\n        if (info.getStartingPlace() \u003d\u003d null || info.getStartingPlace().length() \u003d\u003d 0 ||\n                info.getEndPlace() \u003d\u003d null || info.getEndPlace().length() \u003d\u003d 0 ||\n                info.getDepartureTime() \u003d\u003d null) {\n            TravelController.LOGGER.info(\"[Travel Service][Travel Query] Fail.Something null.\");\n            ArrayList\u003cTripResponse\u003e errorList \u003d new ArrayList\u003c\u003e();\n            return ok(errorList);\n        }\n        TravelController.LOGGER.info(\"[Travel Service] Query TripResponse\");\n        return ok(travelService.query(info, headers));\n    }","returnType":"HttpEntity","methodName":"queryInfo","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.queryInfo","classId":"travel.controller.TravelController","line":100,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips/left\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.query(info, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"queryInfo","parentClassId":"travel.controller.TravelController","lineNumber":111,"calledMethodName":"query","calledServiceId":"travelService","statementDeclaration":"travelService.query(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response query(TripInfo info, HttpHeaders headers) {\n\n        //Gets the start and arrival stations of the train number to query. The originating and arriving stations received here are both station names, so two requests need to be sent to convert to station ids\n        String startingPlaceName \u003d info.getStartingPlace();\n        String endPlaceName \u003d info.getEndPlace();\n        String startingPlaceId \u003d queryForStationId(startingPlaceName, headers);\n        String endPlaceId \u003d queryForStationId(endPlaceName, headers);\n\n        //This is the final result\n        List\u003cTripResponse\u003e list \u003d new ArrayList\u003c\u003e();\n\n        //Check all train info\n        List\u003cTrip\u003e allTripList \u003d repository.findAll();\n        for (Trip tempTrip : allTripList) {\n            //Get the detailed route list of this train\n            Route tempRoute \u003d getRouteByRouteId(tempTrip.getRouteId(), headers);\n            //Check the route list for this train. Check that the required start and arrival stations are in the list of stops that are not on the route, and check that the location of the start station is before the stop\n            //Trains that meet the above criteria are added to the return list\n            if (tempRoute.getStations().contains(startingPlaceId) \u0026\u0026\n                    tempRoute.getStations().contains(endPlaceId) \u0026\u0026\n                    tempRoute.getStations().indexOf(startingPlaceId) \u003c tempRoute.getStations().indexOf(endPlaceId)) {\n                TripResponse response \u003d getTickets(tempTrip, tempRoute, startingPlaceId, endPlaceId, startingPlaceName, endPlaceName, info.getDepartureTime(), headers);\n                if (response \u003d\u003d null) {\n                    return new Response\u003c\u003e(0, \"No Trip info content\", null);\n                }\n                list.add(response);\n            }\n        }\n        return new Response\u003c\u003e(1, success, list);\n    }","returnType":"Response","methodName":"query","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.query","classId":"travel.service.TravelServiceImpl","line":137,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"query","parentClassId":"travel.service.TravelServiceImpl","lineNumber":150,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trip_detail\")\n    public HttpEntity getTripAllDetailInfo(@RequestBody TripAllDetailInfo gtdi, @RequestHeader HttpHeaders headers) {\n        // TripAllDetailInfo\n        // TripAllDetail tripAllDetail\n        return ok(travelService.getTripAllDetailInfo(gtdi, headers));\n    }","returnType":"HttpEntity","methodName":"getTripAllDetailInfo","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.getTripAllDetailInfo","classId":"travel.controller.TravelController","line":121,"msArgumentList":[{"returnType":"TripAllDetailInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trip_detail\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.getTripAllDetailInfo(gtdi, headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"getTripAllDetailInfo","parentClassId":"travel.controller.TravelController","lineNumber":126,"calledMethodName":"getTripAllDetailInfo","calledServiceId":"travelService","statementDeclaration":"travelService.getTripAllDetailInfo(gtdi, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTripAllDetailInfo(TripAllDetailInfo gtdi, HttpHeaders headers) {\n        TripAllDetail gtdr \u003d new TripAllDetail();\n        TravelServiceImpl.LOGGER.info(\"[TravelService] [TripAllDetailInfo] TripId: {}\", gtdi.getTripId());\n        Trip trip \u003d repository.findByTripId(new TripId(gtdi.getTripId()));\n        if (trip \u003d\u003d null) {\n            gtdr.setTripResponse(null);\n            gtdr.setTrip(null);\n        } else {\n            String startingPlaceName \u003d gtdi.getFrom();\n            String endPlaceName \u003d gtdi.getTo();\n            String startingPlaceId \u003d queryForStationId(startingPlaceName, headers);\n            String endPlaceId \u003d queryForStationId(endPlaceName, headers);\n            Route tempRoute \u003d getRouteByRouteId(trip.getRouteId(), headers);\n\n            TripResponse tripResponse \u003d getTickets(trip, tempRoute, startingPlaceId, endPlaceId, gtdi.getFrom(), gtdi.getTo(), gtdi.getTravelDate(), headers);\n            if (tripResponse \u003d\u003d null) {\n                gtdr.setTripResponse(null);\n                gtdr.setTrip(null);\n            } else {\n                gtdr.setTripResponse(tripResponse);\n                gtdr.setTrip(repository.findByTripId(new TripId(gtdi.getTripId())));\n            }\n        }\n        return new Response\u003c\u003e(1, success, gtdr);\n    }","returnType":"Response","methodName":"getTripAllDetailInfo","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.getTripAllDetailInfo","classId":"travel.service.TravelServiceImpl","line":169,"msArgumentList":[{"returnType":"TripAllDetailInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findByTripId(new TripId(gtdi.getTripId()))","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"getTripAllDetailInfo","parentClassId":"travel.service.TravelServiceImpl","lineNumber":173,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(new TripId(gtdi.getTripId()))"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trips\")\n    public HttpEntity queryAll(@RequestHeader HttpHeaders headers) {\n        // List\u003cTrip\u003e\n        return ok(travelService.queryAll(headers));\n    }","returnType":"HttpEntity","methodName":"queryAll","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.queryAll","classId":"travel.controller.TravelController","line":129,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.queryAll(headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"queryAll","parentClassId":"travel.controller.TravelController","lineNumber":133,"calledMethodName":"queryAll","calledServiceId":"travelService","statementDeclaration":"travelService.queryAll(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAll(HttpHeaders headers) {\n        List\u003cTrip\u003e tripList \u003d repository.findAll();\n        if (tripList !\u003d null \u0026\u0026 !tripList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, tripList);\n        }\n        return new Response\u003c\u003e(0, noContent, null);\n    }","returnType":"Response","methodName":"queryAll","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.queryAll","classId":"travel.service.TravelServiceImpl","line":277,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"queryAll","parentClassId":"travel.service.TravelServiceImpl","lineNumber":279,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"classId":"travel.controller.TravelController","packageName":"travel.controller","className":"TravelController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/admin_trip\")\n    public HttpEntity adminQueryAll(@RequestHeader HttpHeaders headers) {\n        // ArrayList\u003cAdminTrip\u003e\n        return ok(travelService.adminQueryAll(headers));\n    }","returnType":"HttpEntity","methodName":"adminQueryAll","className":"TravelController","packageName":"travel.controller","methodId":"travel.controller.TravelController.adminQueryAll","classId":"travel.controller.TravelController","line":136,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/admin_trip\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"travelService.adminQueryAll(headers)","parentPackageName":"travel.controller","parentClassName":"TravelController","parentMethodName":"adminQueryAll","parentClassId":"travel.controller.TravelController","lineNumber":140,"calledMethodName":"adminQueryAll","calledServiceId":"travelService","statementDeclaration":"travelService.adminQueryAll(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/controller/TravelController.java","directoryName":""},"code":"@Autowired\n    private TravelService travelService;","fieldClass":"TravelService","fieldVariable":"travelService","parentMethod":{"parentClassName":"TravelController","parentPackageName":"travel.controller"},"line":26},"msService":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"classId":"travel.service.TravelServiceImpl","packageName":"travel.service","className":"TravelServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Override\n    public Response adminQueryAll(HttpHeaders headers) {\n        List\u003cTrip\u003e trips \u003d repository.findAll();\n        ArrayList\u003cAdminTrip\u003e adminTrips \u003d new ArrayList\u003c\u003e();\n        for (Trip trip : trips) {\n            AdminTrip adminTrip \u003d new AdminTrip();\n            adminTrip.setTrip(trip);\n            adminTrip.setRoute(getRouteByRouteId(trip.getRouteId(), headers));\n            adminTrip.setTrainType(getTrainType(trip.getTrainTypeId(), headers));\n            adminTrips.add(adminTrip);\n        }\n        if (!adminTrips.isEmpty()) {\n            return new Response\u003c\u003e(1, success, adminTrips);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"adminQueryAll","className":"TravelServiceImpl","packageName":"travel.service","methodId":"travel.service.TravelServiceImpl.adminQueryAll","classId":"travel.service.TravelServiceImpl","line":379,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel.service","parentClassName":"TravelServiceImpl","parentMethodName":"adminQueryAll","parentClassId":"travel.service.TravelServiceImpl","lineNumber":381,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel-service/src/main/java/travel/service/TravelServiceImpl.java","directoryName":""},"code":"@Autowired\n    private TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"TravelServiceImpl","parentPackageName":"travel.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"classId":"preserve.controller.PreserveController","packageName":"preserve.controller","className":"PreserveController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Preserve Service ] !\";\n    }","returnType":"String","methodName":"home","className":"PreserveController","packageName":"preserve.controller","methodId":"preserve.controller.PreserveController.home","classId":"preserve.controller.PreserveController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"classId":"preserve.controller.PreserveController","packageName":"preserve.controller","className":"PreserveController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/preserve\")\n    public HttpEntity preserve(@RequestBody OrderTicketsInfo oti,\n                               @RequestHeader HttpHeaders headers) {\n        PreserveController.LOGGER.info(\"[Preserve Service][Preserve] Account  order from {} -----\u003e {} at {}\", oti.getFrom(), oti.getTo(), oti.getDate());\n        return ok(preserveService.preserve(oti, headers));\n    }","returnType":"HttpEntity","methodName":"preserve","className":"PreserveController","packageName":"preserve.controller","methodId":"preserve.controller.PreserveController.preserve","classId":"preserve.controller.PreserveController","line":31,"msArgumentList":[{"returnType":"OrderTicketsInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/preserve\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"code":"preserveService.preserve(oti, headers)","parentPackageName":"preserve.controller","parentClassName":"PreserveController","parentMethodName":"preserve","parentClassId":"preserve.controller.PreserveController","lineNumber":36,"calledMethodName":"preserve","calledServiceId":"preserveService","statementDeclaration":"preserveService.preserve(oti, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/controller/PreserveController.java","directoryName":""},"code":"@Autowired\n    private PreserveService preserveService;","fieldClass":"PreserveService","fieldVariable":"preserveService","parentMethod":{"parentClassName":"PreserveController","parentPackageName":"preserve.controller"},"line":21},"msService":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/service/PreserveServiceImpl.java","directoryName":""},"classId":"preserve.service.PreserveServiceImpl","packageName":"preserve.service","className":"PreserveServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-preserve-service/src/main/java/preserve/service/PreserveServiceImpl.java","directoryName":""},"code":"@Override\n    public Response preserve(OrderTicketsInfo oti, HttpHeaders headers) {\n        //1.detect ticket scalper\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 1] Check Security\");\n\n        Response result \u003d checkSecurity(oti.getAccountId(), headers);\n        if (result.getStatus() \u003d\u003d 0) {\n            return new Response\u003c\u003e(0, result.getMsg(), null);\n        }\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 1] Check Security Complete\");\n        //2.Querying contact information -- modification, mediated by the underlying information micro service\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 2] Find contacts\");\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 2] Contacts Id: {}\", oti.getContactsId());\n\n        Response\u003cContacts\u003e gcr \u003d getContactsById(oti.getContactsId(), headers);\n        if (gcr.getStatus() \u003d\u003d 0) {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Get Contacts] Fail. {}\", gcr.getMsg());\n            return new Response\u003c\u003e(0, gcr.getMsg(), null);\n        }\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 2] Complete\");\n        //3.Check the info of train and the number of remaining tickets\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 3] Check tickets num\");\n        TripAllDetailInfo gtdi \u003d new TripAllDetailInfo();\n\n        gtdi.setFrom(oti.getFrom());\n        gtdi.setTo(oti.getTo());\n\n        gtdi.setTravelDate(oti.getDate());\n        gtdi.setTripId(oti.getTripId());\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 3] TripId: {}\", oti.getTripId());\n        Response\u003cTripAllDetail\u003e response \u003d getTripAllDetailInformation(gtdi, headers);\n        TripAllDetail gtdr \u003d response.getData();\n        LOGGER.info(\"TripAllDetail:\" + gtdr.toString());\n        if (response.getStatus() \u003d\u003d 0) {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Search For Trip Detail Information] {}\", response.getMsg());\n            return new Response\u003c\u003e(0, response.getMsg(), null);\n        } else {\n            TripResponse tripResponse \u003d gtdr.getTripResponse();\n            LOGGER.info(\"TripResponse:\" + tripResponse.toString());\n            if (oti.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n                if (tripResponse.getConfortClass() \u003d\u003d 0) {\n                    PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Check seat is enough] \");\n                    return new Response\u003c\u003e(0, \"Seat Not Enough\", null);\n                }\n            } else {\n                if (tripResponse.getEconomyClass() \u003d\u003d SeatClass.SECONDCLASS.getCode() \u0026\u0026 tripResponse.getConfortClass() \u003d\u003d 0) {\n                    PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Check seat is enough] \");\n                    return new Response\u003c\u003e(0, \"Seat Not Enough\", null);\n                }\n            }\n        }\n        Trip trip \u003d gtdr.getTrip();\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 3] Tickets Enough\");\n        //4.send the order request and set the order information\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 4] Do Order\");\n        Contacts contacts \u003d gcr.getData();\n        Order order \u003d new Order();\n        UUID orderId \u003d UUID.randomUUID();\n        order.setId(orderId);\n        order.setTrainNumber(oti.getTripId());\n        order.setAccountId(UUID.fromString(oti.getAccountId()));\n\n        String fromStationId \u003d queryForStationId(oti.getFrom(), headers);\n        String toStationId \u003d queryForStationId(oti.getTo(), headers);\n\n        order.setFrom(fromStationId);\n        order.setTo(toStationId);\n        order.setBoughtDate(new Date());\n        order.setStatus(OrderStatus.NOTPAID.getCode());\n        order.setContactsDocumentNumber(contacts.getDocumentNumber());\n        order.setContactsName(contacts.getName());\n        order.setDocumentType(contacts.getDocumentType());\n\n        Travel query \u003d new Travel();\n        query.setTrip(trip);\n        query.setStartingPlace(oti.getFrom());\n        query.setEndPlace(oti.getTo());\n        query.setDepartureTime(new Date());\n\n        HttpEntity requestEntity \u003d new HttpEntity(query, headers);\n        ResponseEntity\u003cResponse\u003cTravelResult\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n                });\n        TravelResult resultForTravel \u003d re.getBody().getData();\n\n        order.setSeatClass(oti.getSeatType());\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Order] Order Travel Date: {}\", oti.getDate().toString());\n        order.setTravelDate(oti.getDate());\n        order.setTravelTime(gtdr.getTripResponse().getStartingTime());\n\n        //Dispatch the seat\n        if (oti.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            Ticket ticket \u003d\n                    dipatchSeat(oti.getDate(),\n                            order.getTrainNumber(), fromStationId, toStationId,\n                            SeatClass.FIRSTCLASS.getCode(), headers);\n            order.setSeatNumber(\"\" + ticket.getSeatNo());\n            order.setSeatClass(SeatClass.FIRSTCLASS.getCode());\n            order.setPrice(resultForTravel.getPrices().get(\"confortClass\"));\n        } else {\n            Ticket ticket \u003d\n                    dipatchSeat(oti.getDate(),\n                            order.getTrainNumber(), fromStationId, toStationId,\n                            SeatClass.SECONDCLASS.getCode(), headers);\n            order.setSeatClass(SeatClass.SECONDCLASS.getCode());\n            order.setSeatNumber(\"\" + ticket.getSeatNo());\n            order.setPrice(resultForTravel.getPrices().get(\"economyClass\"));\n        }\n\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Order Price] Price is: {}\", order.getPrice());\n\n        Response\u003cOrder\u003e cor \u003d createOrder(order, headers);\n        if (cor.getStatus() \u003d\u003d 0) {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Create Order Fail] Create Order Fail.  Reason: {}\", cor.getMsg());\n            return new Response\u003c\u003e(0, cor.getMsg(), null);\n        }\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service] [Step 4] Do Order Complete\");\n\n        Response returnResponse \u003d new Response\u003c\u003e(1, \"Success.\", cor.getMsg());\n        //5.Check insurance options\n        if (oti.getAssurance() \u003d\u003d 0) {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Do not need to buy assurance\");\n        } else {\n            Response addAssuranceResult \u003d addAssuranceForOrder(\n                    oti.getAssurance(), cor.getData().getId().toString(), headers);\n            if (addAssuranceResult.getStatus() \u003d\u003d 1) {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Buy Assurance Success\");\n            } else {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 5] Buy Assurance Fail.\");\n                returnResponse.setMsg(\"Success.But Buy Assurance Fail.\");\n            }\n        }\n\n        //6.Increase the food order\n        if (oti.getFoodType() !\u003d 0) {\n\n            FoodOrder foodOrder \u003d new FoodOrder();\n            foodOrder.setOrderId(cor.getData().getId());\n            foodOrder.setFoodType(oti.getFoodType());\n            foodOrder.setFoodName(oti.getFoodName());\n            foodOrder.setPrice(oti.getFoodPrice());\n\n            if (oti.getFoodType() \u003d\u003d 2) {\n                foodOrder.setStationName(oti.getStationName());\n                foodOrder.setStoreName(oti.getStoreName());\n                PreserveServiceImpl.LOGGER.info(\"[Food Service]!!!!!!!!!!!!!!!foodstore\u003d {}   {}   {}\", foodOrder.getFoodType(), foodOrder.getStationName(), foodOrder.getStoreName());\n            }\n            Response afor \u003d createFoodOrder(foodOrder, headers);\n            if (afor.getStatus() \u003d\u003d 1) {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Buy Food Success\");\n            } else {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Buy Food Fail.\");\n                returnResponse.setMsg(\"Success.But Buy Food Fail.\");\n            }\n        } else {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 6] Do not need to buy food\");\n        }\n\n        //7.add consign\n        if (null !\u003d oti.getConsigneeName() \u0026\u0026 !\"\".equals(oti.getConsigneeName())) {\n\n            Consign consignRequest \u003d new Consign();\n            consignRequest.setOrderId(cor.getData().getId());\n            consignRequest.setAccountId(cor.getData().getAccountId());\n            consignRequest.setHandleDate(oti.getHandleDate());\n            consignRequest.setTargetDate(cor.getData().getTravelDate().toString());\n            consignRequest.setFrom(cor.getData().getFrom());\n            consignRequest.setTo(cor.getData().getTo());\n            consignRequest.setConsignee(oti.getConsigneeName());\n            consignRequest.setPhone(oti.getConsigneePhone());\n            consignRequest.setWeight(oti.getConsigneeWeight());\n            consignRequest.setWithin(oti.isWithin());\n            LOGGER.info(\"CONSIGN INFO : \" +consignRequest.toString());\n            Response icresult \u003d createConsign(consignRequest, headers);\n            if (icresult.getStatus() \u003d\u003d 1) {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Consign Success\");\n            } else {\n                PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Consign Fail.\");\n                returnResponse.setMsg(\"Consign Fail.\");\n            }\n        } else {\n            PreserveServiceImpl.LOGGER.info(\"[Preserve Service][Step 7] Do not need to consign\");\n        }\n\n        //8.send notification\n        PreserveServiceImpl.LOGGER.info(\"[Preserve Service]\");\n\n        User getUser \u003d getAccount(order.getAccountId().toString(), headers);\n\n        NotifyInfo notifyInfo \u003d new NotifyInfo();\n        notifyInfo.setDate(new Date().toString());\n\n        notifyInfo.setEmail(getUser.getEmail());\n        notifyInfo.setStartingPlace(order.getFrom());\n        notifyInfo.setEndPlace(order.getTo());\n        notifyInfo.setUsername(getUser.getUserName());\n        notifyInfo.setSeatNumber(order.getSeatNumber());\n        notifyInfo.setOrderNumber(order.getId().toString());\n        notifyInfo.setPrice(order.getPrice());\n        notifyInfo.setSeatClass(SeatClass.getNameByCode(order.getSeatClass()));\n        notifyInfo.setStartingTime(order.getTravelTime().toString());\n\n        sendEmail(notifyInfo, headers);\n\n        return returnResponse;\n    }","returnType":"Response","methodName":"preserve","className":"PreserveServiceImpl","packageName":"preserve.service","methodId":"preserve.service.PreserveServiceImpl.preserve","classId":"preserve.service.PreserveServiceImpl","line":30,"msArgumentList":[{"returnType":"OrderTicketsInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\"","httpMethod":"POST","returnType":"TravelResult","msId":{"path":"/ts-preserve-service/src/main/java/preserve/service/PreserveServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n                })","parentPackageName":"preserve.service","parentClassName":"PreserveServiceImpl","parentMethodName":"preserve","parentClassId":"preserve.service.PreserveServiceImpl","lineNumber":110,"statementDeclaration":"restTemplate.exchange(\"http://ts-ticketinfo-service:15681/api/v1/ticketinfoservice/ticketinfo\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTravelResult\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/contacts/welcome\")\n    public String home() {\n        return \"Welcome to [ Contacts Service ] !\";\n    }","returnType":"String","methodName":"home","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.home","classId":"contacts.controller.ContactsController","line":29,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/contacts/welcome\""}]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/contacts\")\n    public HttpEntity getAllContacts(@RequestHeader HttpHeaders headers) {\n        ContactsController.LOGGER.info(\"[Contacts Service][Get All Contacts]\");\n        return ok(contactsService.getAllContacts(headers));\n    }","returnType":"HttpEntity","methodName":"getAllContacts","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.getAllContacts","classId":"contacts.controller.ContactsController","line":34,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.getAllContacts(headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"getAllContacts","parentClassId":"contacts.controller.ContactsController","lineNumber":38,"calledMethodName":"getAllContacts","calledServiceId":"contactsService","statementDeclaration":"contactsService.getAllContacts(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllContacts(HttpHeaders headers) {\n        ArrayList\u003cContacts\u003e contacts \u003d contactsRepository.findAll();\n        if (contacts !\u003d null \u0026\u0026 !contacts.isEmpty()) {\n            return new Response\u003c\u003e(1, success, contacts);\n        } else {\n            return new Response\u003c\u003e(0, \"No content\", null);\n        }\n    }","returnType":"Response","methodName":"getAllContacts","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.getAllContacts","classId":"contacts.service.ContactsServiceImpl","line":113,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.findAll()","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"getAllContacts","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":115,"calledMethodName":"findAll","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cContacts\u003e findAll();","returnType":"ArrayList\u003cContacts\u003e","methodName":"findAll","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.findAll","classId":"contacts.repository.ContactsRepository","line":46,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/contacts\")\n    public ResponseEntity\u003cResponse\u003e createNewContacts(@RequestBody Contacts aci,\n                                                      @RequestHeader HttpHeaders headers) {\n        ContactsController.LOGGER.info(\"[ContactsService][VerifyLogin] Success\");\n        return new ResponseEntity\u003c\u003e(contactsService.create(aci, headers), HttpStatus.CREATED);\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"createNewContacts","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.createNewContacts","classId":"contacts.controller.ContactsController","line":41,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.create(aci, headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"createNewContacts","parentClassId":"contacts.controller.ContactsController","lineNumber":46,"calledMethodName":"create","calledServiceId":"contactsService","statementDeclaration":"contactsService.create(aci, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(Contacts addContacts, HttpHeaders headers) {\n        Contacts contacts \u003d new Contacts();\n        contacts.setId(UUID.randomUUID());\n        contacts.setName(addContacts.getName());\n        contacts.setPhoneNumber(addContacts.getPhoneNumber());\n        contacts.setDocumentNumber(addContacts.getDocumentNumber());\n        contacts.setAccountId(addContacts.getAccountId());\n        contacts.setDocumentType(addContacts.getDocumentType());\n\n        ArrayList\u003cContacts\u003e accountContacts \u003d contactsRepository.findByAccountId(addContacts.getAccountId());\n\n        if (accountContacts.contains(contacts)) {\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Add\u0026Delete-Service][AddContacts] Fail.Contacts already exists\");\n            return new Response\u003c\u003e(0, \"Contacts already exists\", null);\n        } else {\n            contactsRepository.save(contacts);\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Add\u0026Delete-Service][AddContacts] Success.\");\n            return new Response\u003c\u003e(1, \"Create contacts success\", contacts);\n        }\n    }","returnType":"Response","methodName":"create","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.create","classId":"contacts.service.ContactsServiceImpl","line":59,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.findByAccountId(addContacts.getAccountId())","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"create","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":69,"calledMethodName":"findByAccountId","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.findByAccountId(addContacts.getAccountId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cContacts\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cContacts\u003e","methodName":"findByAccountId","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.findByAccountId","classId":"contacts.repository.ContactsRepository","line":30,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/contacts/admin\")\n    public HttpEntity\u003c?\u003e createNewContactsAdmin(@RequestBody Contacts aci, @RequestHeader HttpHeaders headers) {\n        aci.setId(UUID.randomUUID());\n        ContactsController.LOGGER.info(\"[ContactsService][Create Contacts In Admin]\");\n        return new ResponseEntity\u003c\u003e(contactsService.createContacts(aci, headers), HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003c?\u003e","methodName":"createNewContactsAdmin","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.createNewContactsAdmin","classId":"contacts.controller.ContactsController","line":49,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/contacts/admin\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.createContacts(aci, headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"createNewContactsAdmin","parentClassId":"contacts.controller.ContactsController","lineNumber":54,"calledMethodName":"createContacts","calledServiceId":"contactsService","statementDeclaration":"contactsService.createContacts(aci, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createContacts(Contacts contacts, HttpHeaders headers) {\n        Contacts contactsTemp \u003d contactsRepository.findById(contacts.getId());\n        if (contactsTemp !\u003d null) {\n            ContactsServiceImpl.LOGGER.info(\"[Contacts Service][Init Contacts] Already Exists Id: {}\", contacts.getId());\n            return new Response\u003c\u003e(0, \"Already Exists\", contactsTemp);\n        } else {\n            contactsRepository.save(contacts);\n            return new Response\u003c\u003e(1, \"Create Success\", null);\n        }\n    }","returnType":"Response","methodName":"createContacts","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.createContacts","classId":"contacts.service.ContactsServiceImpl","line":47,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.findById(contacts.getId())","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"createContacts","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":49,"calledMethodName":"findById","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.findById(contacts.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"Contacts findById(UUID id);","returnType":"Contacts","methodName":"findById","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.findById","classId":"contacts.repository.ContactsRepository","line":22,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/contacts/{contactsId}\")\n    public HttpEntity deleteContacts(@PathVariable String contactsId, @RequestHeader HttpHeaders headers) {\n        return ok(contactsService.delete(UUID.fromString(contactsId), headers));\n    }","returnType":"HttpEntity","methodName":"deleteContacts","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.deleteContacts","classId":"contacts.controller.ContactsController","line":58,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/contacts/{contactsId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.delete(UUID.fromString(contactsId), headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"deleteContacts","parentClassId":"contacts.controller.ContactsController","lineNumber":61,"calledMethodName":"delete","calledServiceId":"contactsService","statementDeclaration":"contactsService.delete(UUID.fromString(contactsId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response delete(UUID contactsId, HttpHeaders headers) {\n        contactsRepository.deleteById(contactsId);\n        Contacts contacts \u003d contactsRepository.findById(contactsId);\n        if (contacts \u003d\u003d null) {\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Add\u0026Delete-Service][DeleteContacts] Success.\");\n            return new Response\u003c\u003e(1, \"Delete success\", contactsId);\n        } else {\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Add\u0026Delete-Service][DeleteContacts] Fail.Reason not clear.\");\n            return new Response\u003c\u003e(0, \"Delete failed\", contactsId);\n        }\n    }","returnType":"Response","methodName":"delete","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.delete","classId":"contacts.service.ContactsServiceImpl","line":81,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.deleteById(contactsId)","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"delete","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":83,"calledMethodName":"deleteById","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.deleteById(contactsId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"void deleteById(UUID id);","returnType":"void","methodName":"deleteById","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.deleteById","classId":"contacts.repository.ContactsRepository","line":39,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/contacts\")\n    public HttpEntity modifyContacts(@RequestBody Contacts info, @RequestHeader HttpHeaders headers) {\n        ContactsController.LOGGER.info(\"[Contacts Service][Modify Contacts] ContactsId: {}\", info.getId());\n        return ok(contactsService.modify(info, headers));\n    }","returnType":"HttpEntity","methodName":"modifyContacts","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.modifyContacts","classId":"contacts.controller.ContactsController","line":65,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.modify(info, headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"modifyContacts","parentClassId":"contacts.controller.ContactsController","lineNumber":69,"calledMethodName":"modify","calledServiceId":"contactsService","statementDeclaration":"contactsService.modify(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modify(Contacts contacts, HttpHeaders headers) {\n        Response oldContactResponse \u003d findContactsById(contacts.getId(), headers);\n        LOGGER.info(oldContactResponse.toString());\n        Contacts oldContacts \u003d (Contacts) oldContactResponse.getData();\n        if (oldContacts \u003d\u003d null) {\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Modify-Service][ModifyContacts] Fail.Contacts not found.\");\n            return new Response\u003c\u003e(0, \"Contacts not found\", null);\n        } else {\n            oldContacts.setName(contacts.getName());\n            oldContacts.setDocumentType(contacts.getDocumentType());\n            oldContacts.setDocumentNumber(contacts.getDocumentNumber());\n            oldContacts.setPhoneNumber(contacts.getPhoneNumber());\n            contactsRepository.save(oldContacts);\n            ContactsServiceImpl.LOGGER.info(\"[Contacts-Modify-Service][ModifyContacts] Success.\");\n            return new Response\u003c\u003e(1, \"Modify success\", oldContacts);\n        }\n    }","returnType":"Response","methodName":"modify","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.modify","classId":"contacts.service.ContactsServiceImpl","line":94,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.save(oldContacts)","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"modify","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":107,"calledMethodName":"save","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.save(oldContacts)"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/contacts/account/{accountId}\")\n    public HttpEntity findContactsByAccountId(@PathVariable String accountId, @RequestHeader HttpHeaders headers) {\n        ContactsController.LOGGER.info(\"[Contacts Service][Find Contacts By Account Id: {}\", accountId);\n        ContactsController.LOGGER.info(\"[ContactsService][VerifyLogin] Success\");\n        return ok(contactsService.findContactsByAccountId(UUID.fromString(accountId), headers));\n    }","returnType":"HttpEntity","methodName":"findContactsByAccountId","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.findContactsByAccountId","classId":"contacts.controller.ContactsController","line":72,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/contacts/account/{accountId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.findContactsByAccountId(UUID.fromString(accountId), headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"findContactsByAccountId","parentClassId":"contacts.controller.ContactsController","lineNumber":77,"calledMethodName":"findContactsByAccountId","calledServiceId":"contactsService","statementDeclaration":"contactsService.findContactsByAccountId(UUID.fromString(accountId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findContactsByAccountId(UUID accountId, HttpHeaders headers) {\n        ArrayList\u003cContacts\u003e arr \u003d contactsRepository.findByAccountId(accountId);\n        ContactsServiceImpl.LOGGER.info(\"[Contacts-Query-Service][Query-Contacts] Result Size: {}\", arr.size());\n        return new Response\u003c\u003e(1, success, arr);\n    }","returnType":"Response","methodName":"findContactsByAccountId","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.findContactsByAccountId","classId":"contacts.service.ContactsServiceImpl","line":40,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.findByAccountId(accountId)","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"findContactsByAccountId","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":42,"calledMethodName":"findByAccountId","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.findByAccountId(accountId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cContacts\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cContacts\u003e","methodName":"findByAccountId","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.findByAccountId","classId":"contacts.repository.ContactsRepository","line":30,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"classId":"contacts.controller.ContactsController","packageName":"contacts.controller","className":"ContactsController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/contacts/{id}\")\n    public HttpEntity getContactsByContactsId(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        ContactsController.LOGGER.info(\"[ContactsService][Contacts Id Print] {}\", id);\n        ContactsController.LOGGER.info(\"[ContactsService][VerifyLogin] Success.\");\n        return ok(contactsService.findContactsById(UUID.fromString(id), headers));\n    }","returnType":"HttpEntity","methodName":"getContactsByContactsId","className":"ContactsController","packageName":"contacts.controller","methodId":"contacts.controller.ContactsController.getContactsByContactsId","classId":"contacts.controller.ContactsController","line":80,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/contacts/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"contactsService.findContactsById(UUID.fromString(id), headers)","parentPackageName":"contacts.controller","parentClassName":"ContactsController","parentMethodName":"getContactsByContactsId","parentClassId":"contacts.controller.ContactsController","lineNumber":85,"calledMethodName":"findContactsById","calledServiceId":"contactsService","statementDeclaration":"contactsService.findContactsById(UUID.fromString(id), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/controller/ContactsController.java","directoryName":""},"code":"@Autowired\n    private ContactsService contactsService;","fieldClass":"ContactsService","fieldVariable":"contactsService","parentMethod":{"parentClassName":"ContactsController","parentPackageName":"contacts.controller"},"line":24},"msService":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"classId":"contacts.service.ContactsServiceImpl","packageName":"contacts.service","className":"ContactsServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findContactsById(UUID id, HttpHeaders headers) {\n        LOGGER.info(\"FIND CONTACTS BY ID: \" + id);\n        Contacts contacts \u003d contactsRepository.findById(id);\n        if (contacts !\u003d null) {\n            return new Response\u003c\u003e(1, success, contacts);\n        } else {\n            return new Response\u003c\u003e(0, \"No contacts according to contacts id\", null);\n        }\n    }","returnType":"Response","methodName":"findContactsById","className":"ContactsServiceImpl","packageName":"contacts.service","methodId":"contacts.service.ContactsServiceImpl.findContactsById","classId":"contacts.service.ContactsServiceImpl","line":29,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"contactsRepository.findById(id)","parentPackageName":"contacts.service","parentClassName":"ContactsServiceImpl","parentMethodName":"findContactsById","parentClassId":"contacts.service.ContactsServiceImpl","lineNumber":32,"calledMethodName":"findById","calledServiceId":"contactsRepository","statementDeclaration":"contactsRepository.findById(id)"},"msServiceRepositoryField":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/service/ContactsServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ContactsRepository contactsRepository;","fieldClass":"ContactsRepository","fieldVariable":"contactsRepository","parentMethod":{"parentClassName":"ContactsServiceImpl","parentPackageName":"contacts.service"},"line":22},"msRepository":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"classId":"contacts.repository.ContactsRepository","packageName":"contacts.repository","className":"ContactsRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-contacts-service/src/main/java/contacts/repository/ContactsRepository.java","directoryName":""},"code":"Contacts findById(UUID id);","returnType":"Contacts","methodName":"findById","className":"ContactsRepository","packageName":"contacts.repository","methodId":"contacts.repository.ContactsRepository.findById","classId":"contacts.repository.ContactsRepository","line":22,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"classId":"adminuser.controller.AdminUserController","packageName":"adminuser.controller","className":"AdminUserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ AdminUser Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AdminUserController","packageName":"adminuser.controller","methodId":"adminuser.controller.AdminUserController.home","classId":"adminuser.controller.AdminUserController","line":22,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"classId":"adminuser.controller.AdminUserController","packageName":"adminuser.controller","className":"AdminUserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping\n    public HttpEntity getAllUsers(@RequestHeader HttpHeaders headers) {\n        return ok(adminUserService.getAllUsers(headers));\n    }","returnType":"HttpEntity","methodName":"getAllUsers","className":"AdminUserController","packageName":"adminuser.controller","methodId":"adminuser.controller.AdminUserController.getAllUsers","classId":"adminuser.controller.AdminUserController","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"adminUserService.getAllUsers(headers)","parentPackageName":"adminuser.controller","parentClassName":"AdminUserController","parentMethodName":"getAllUsers","parentClassId":"adminuser.controller.AdminUserController","lineNumber":30,"calledMethodName":"getAllUsers","calledServiceId":"adminUserService","statementDeclaration":"adminUserService.getAllUsers(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@Autowired\n    AdminUserService adminUserService;","fieldClass":"AdminUserService","fieldVariable":"adminUserService","parentMethod":{"parentClassName":"AdminUserController","parentPackageName":"adminuser.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"classId":"adminuser.service.AdminUserServiceImpl","packageName":"adminuser.service","className":"AdminUserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllUsers(HttpHeaders headers) {\n        AdminUserServiceImpl.LOGGER.info(\"[Admin User Service][Get All Users]\");\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cList\u003cUser\u003e\u003e\u003e re \u003d restTemplate.exchange(\n                USER_SERVICE_IP_URI,\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cList\u003cUser\u003e\u003e\u003e() {\n                });\n\n        return re.getBody();\n    }","returnType":"Response","methodName":"getAllUsers","className":"AdminUserServiceImpl","packageName":"adminuser.service","methodId":"adminuser.service.AdminUserServiceImpl.getAllUsers","classId":"adminuser.service.AdminUserServiceImpl","line":32,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"GET","returnType":"List\u003cUser\u003e","msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                USER_SERVICE_IP_URI,\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cList\u003cUser\u003e\u003e\u003e() {\n                })","parentPackageName":"adminuser.service","parentClassName":"AdminUserServiceImpl","parentMethodName":"getAllUsers","parentClassId":"adminuser.service.AdminUserServiceImpl","lineNumber":36,"statementDeclaration":"restTemplate.exchange(USER_SERVICE_IP_URI, HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cList\u003cUser\u003e\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"classId":"adminuser.controller.AdminUserController","packageName":"adminuser.controller","className":"AdminUserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@PutMapping\n    public HttpEntity updateUser(@RequestBody UserDto userDto, @RequestHeader HttpHeaders headers) {\n        return ok(adminUserService.updateUser(userDto, headers));\n    }","returnType":"HttpEntity","methodName":"updateUser","className":"AdminUserController","packageName":"adminuser.controller","methodId":"adminuser.controller.AdminUserController.updateUser","classId":"adminuser.controller.AdminUserController","line":33,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PutMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"adminUserService.updateUser(userDto, headers)","parentPackageName":"adminuser.controller","parentClassName":"AdminUserController","parentMethodName":"updateUser","parentClassId":"adminuser.controller.AdminUserController","lineNumber":35,"calledMethodName":"updateUser","calledServiceId":"adminUserService","statementDeclaration":"adminUserService.updateUser(userDto, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@Autowired\n    AdminUserService adminUserService;","fieldClass":"AdminUserService","fieldVariable":"adminUserService","parentMethod":{"parentClassName":"AdminUserController","parentPackageName":"adminuser.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"classId":"adminuser.service.AdminUserServiceImpl","packageName":"adminuser.service","className":"AdminUserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateUser(UserDto userDto, HttpHeaders headers) {\n        LOGGER.info(\"UPDATE USER: \" + userDto.toString());\n        HttpEntity requestEntity \u003d new HttpEntity(userDto, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                USER_SERVICE_IP_URI,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"updateUser","className":"AdminUserServiceImpl","packageName":"adminuser.service","methodId":"adminuser.service.AdminUserServiceImpl.updateUser","classId":"adminuser.service.AdminUserServiceImpl","line":58,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                USER_SERVICE_IP_URI,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminuser.service","parentClassName":"AdminUserServiceImpl","parentMethodName":"updateUser","parentClassId":"adminuser.service.AdminUserServiceImpl","lineNumber":62,"statementDeclaration":"restTemplate.exchange(USER_SERVICE_IP_URI, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"classId":"adminuser.controller.AdminUserController","packageName":"adminuser.controller","className":"AdminUserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@PostMapping\n    public HttpEntity addUser(@RequestBody UserDto userDto, @RequestHeader HttpHeaders headers) {\n        return ok(adminUserService.addUser(userDto, headers));\n    }","returnType":"HttpEntity","methodName":"addUser","className":"AdminUserController","packageName":"adminuser.controller","methodId":"adminuser.controller.AdminUserController.addUser","classId":"adminuser.controller.AdminUserController","line":39,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PostMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"adminUserService.addUser(userDto, headers)","parentPackageName":"adminuser.controller","parentClassName":"AdminUserController","parentMethodName":"addUser","parentClassId":"adminuser.controller.AdminUserController","lineNumber":41,"calledMethodName":"addUser","calledServiceId":"adminUserService","statementDeclaration":"adminUserService.addUser(userDto, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@Autowired\n    AdminUserService adminUserService;","fieldClass":"AdminUserService","fieldVariable":"adminUserService","parentMethod":{"parentClassName":"AdminUserController","parentPackageName":"adminuser.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"classId":"adminuser.service.AdminUserServiceImpl","packageName":"adminuser.service","className":"AdminUserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addUser(UserDto userDto, HttpHeaders headers) {\n        LOGGER.info(\"ADD USER INFO : \"+userDto.toString());\n        HttpEntity requestEntity \u003d new HttpEntity(userDto, headers);\n        ResponseEntity\u003cResponse\u003cUser\u003e\u003e re \u003d restTemplate.exchange(\n                USER_SERVICE_IP_URI + \"/register\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cUser\u003e\u003e() {\n                });\n\n        return re.getBody();\n    }","returnType":"Response","methodName":"addUser","className":"AdminUserServiceImpl","packageName":"adminuser.service","methodId":"adminuser.service.AdminUserServiceImpl.addUser","classId":"adminuser.service.AdminUserServiceImpl","line":70,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"USER_SERVICE_IP_URI + \"/register\"","httpMethod":"POST","returnType":"User","msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                USER_SERVICE_IP_URI + \"/register\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cUser\u003e\u003e() {\n                })","parentPackageName":"adminuser.service","parentClassName":"AdminUserServiceImpl","parentMethodName":"addUser","parentClassId":"adminuser.service.AdminUserServiceImpl","lineNumber":74,"statementDeclaration":"restTemplate.exchange(USER_SERVICE_IP_URI + \"/register\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cUser\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"classId":"adminuser.controller.AdminUserController","packageName":"adminuser.controller","className":"AdminUserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/{userId}\")\n    public HttpEntity deleteUser(@PathVariable String userId, @RequestHeader HttpHeaders headers) {\n        return ok(adminUserService.deleteUser(userId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteUser","className":"AdminUserController","packageName":"adminuser.controller","methodId":"adminuser.controller.AdminUserController.deleteUser","classId":"adminuser.controller.AdminUserController","line":44,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/{userId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"adminUserService.deleteUser(userId, headers)","parentPackageName":"adminuser.controller","parentClassName":"AdminUserController","parentMethodName":"deleteUser","parentClassId":"adminuser.controller.AdminUserController","lineNumber":46,"calledMethodName":"deleteUser","calledServiceId":"adminUserService","statementDeclaration":"adminUserService.deleteUser(userId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/controller/AdminUserController.java","directoryName":""},"code":"@Autowired\n    AdminUserService adminUserService;","fieldClass":"AdminUserService","fieldVariable":"adminUserService","parentMethod":{"parentClassName":"AdminUserController","parentPackageName":"adminuser.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"classId":"adminuser.service.AdminUserServiceImpl","packageName":"adminuser.service","className":"AdminUserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteUser(String userId, HttpHeaders headers) {\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                USER_SERVICE_IP_URI + \"/\" + userId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"deleteUser","className":"AdminUserServiceImpl","packageName":"adminuser.service","methodId":"adminuser.service.AdminUserServiceImpl.deleteUser","classId":"adminuser.service.AdminUserServiceImpl","line":47,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"USER_SERVICE_IP_URI + \"/\" + userId","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-user-service/src/main/java/adminuser/service/AdminUserServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                USER_SERVICE_IP_URI + \"/\" + userId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminuser.service","parentClassName":"AdminUserServiceImpl","parentMethodName":"deleteUser","parentClassId":"adminuser.service.AdminUserServiceImpl","lineNumber":50,"statementDeclaration":"restTemplate.exchange(USER_SERVICE_IP_URI + \"/\" + userId, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"classId":"consignprice.controller.ConsignPriceController","packageName":"consignprice.controller","className":"ConsignPriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ ConsignPrice Service ] !\";\n    }","returnType":"String","methodName":"home","className":"ConsignPriceController","packageName":"consignprice.controller","methodId":"consignprice.controller.ConsignPriceController.home","classId":"consignprice.controller.ConsignPriceController","line":22,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"classId":"consignprice.controller.ConsignPriceController","packageName":"consignprice.controller","className":"ConsignPriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consignprice/{weight}/{isWithinRegion}\")\n    public HttpEntity getPriceByWeightAndRegion(@PathVariable String weight, @PathVariable String isWithinRegion,\n                                                @RequestHeader HttpHeaders headers) {\n        return ok(service.getPriceByWeightAndRegion(Double.parseDouble(weight),\n                Boolean.parseBoolean(isWithinRegion), headers));\n    }","returnType":"HttpEntity","methodName":"getPriceByWeightAndRegion","className":"ConsignPriceController","packageName":"consignprice.controller","methodId":"consignprice.controller.ConsignPriceController.getPriceByWeightAndRegion","classId":"consignprice.controller.ConsignPriceController","line":27,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consignprice/{weight}/{isWithinRegion}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"service.getPriceByWeightAndRegion(Double.parseDouble(weight),\n                Boolean.parseBoolean(isWithinRegion), headers)","parentPackageName":"consignprice.controller","parentClassName":"ConsignPriceController","parentMethodName":"getPriceByWeightAndRegion","parentClassId":"consignprice.controller.ConsignPriceController","lineNumber":30,"calledMethodName":"getPriceByWeightAndRegion","calledServiceId":"service","statementDeclaration":"service.getPriceByWeightAndRegion(Double.parseDouble(weight), Boolean.parseBoolean(isWithinRegion), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@Autowired\n    ConsignPriceService service;","fieldClass":"ConsignPriceService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignPriceController","parentPackageName":"consignprice.controller"},"line":19},"msService":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"classId":"consignprice.service.ConsignPriceServiceImpl","packageName":"consignprice.service","className":"ConsignPriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getPriceByWeightAndRegion(double weight, boolean isWithinRegion, HttpHeaders headers) {\n        ConsignPrice priceConfig \u003d repository.findByIndex(0);\n        double price \u003d 0;\n        double initialPrice \u003d priceConfig.getInitialPrice();\n        if (weight \u003c\u003d priceConfig.getInitialWeight()) {\n            price \u003d initialPrice;\n        } else {\n            double extraWeight \u003d weight - priceConfig.getInitialWeight();\n            if (isWithinRegion) {\n                price \u003d initialPrice + extraWeight * priceConfig.getWithinPrice();\n            }else {\n                price \u003d initialPrice + extraWeight * priceConfig.getBeyondPrice();\n            }\n        }\n        return new Response\u003c\u003e(1, success, price);\n    }","returnType":"Response","methodName":"getPriceByWeightAndRegion","className":"ConsignPriceServiceImpl","packageName":"consignprice.service","methodId":"consignprice.service.ConsignPriceServiceImpl.getPriceByWeightAndRegion","classId":"consignprice.service.ConsignPriceServiceImpl","line":25,"msArgumentList":[{"returnType":"double"},{"returnType":"boolean"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"repository.findByIndex(0)","parentPackageName":"consignprice.service","parentClassName":"ConsignPriceServiceImpl","parentMethodName":"getPriceByWeightAndRegion","parentClassId":"consignprice.service.ConsignPriceServiceImpl","lineNumber":27,"calledMethodName":"findByIndex","calledServiceId":"repository","statementDeclaration":"repository.findByIndex(0)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ConsignPriceConfigRepository repository;","fieldClass":"ConsignPriceConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignPriceServiceImpl","parentPackageName":"consignprice.service"},"line":18},"msRepository":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"classId":"consignprice.repository.ConsignPriceConfigRepository","packageName":"consignprice.repository","className":"ConsignPriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027index\u0027: ?0 }\")\n    ConsignPrice findByIndex(int index);","returnType":"ConsignPrice","methodName":"findByIndex","className":"ConsignPriceConfigRepository","packageName":"consignprice.repository","methodId":"consignprice.repository.ConsignPriceConfigRepository.findByIndex","classId":"consignprice.repository.ConsignPriceConfigRepository","line":20,"msArgumentList":[{"returnType":"int"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"classId":"consignprice.controller.ConsignPriceController","packageName":"consignprice.controller","className":"ConsignPriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consignprice/price\")\n    public HttpEntity getPriceInfo(@RequestHeader HttpHeaders headers) {\n        return ok(service.queryPriceInformation(headers));\n    }","returnType":"HttpEntity","methodName":"getPriceInfo","className":"ConsignPriceController","packageName":"consignprice.controller","methodId":"consignprice.controller.ConsignPriceController.getPriceInfo","classId":"consignprice.controller.ConsignPriceController","line":34,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consignprice/price\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"service.queryPriceInformation(headers)","parentPackageName":"consignprice.controller","parentClassName":"ConsignPriceController","parentMethodName":"getPriceInfo","parentClassId":"consignprice.controller.ConsignPriceController","lineNumber":36,"calledMethodName":"queryPriceInformation","calledServiceId":"service","statementDeclaration":"service.queryPriceInformation(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@Autowired\n    ConsignPriceService service;","fieldClass":"ConsignPriceService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignPriceController","parentPackageName":"consignprice.controller"},"line":19},"msService":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"classId":"consignprice.service.ConsignPriceServiceImpl","packageName":"consignprice.service","className":"ConsignPriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryPriceInformation(HttpHeaders headers) {\n        StringBuilder sb \u003d new StringBuilder();\n        ConsignPrice price \u003d repository.findByIndex(0);\n        sb.append(\"The price of weight within \");\n        sb.append(price.getInitialWeight());\n        sb.append(\" is \");\n        sb.append(price.getInitialPrice());\n        sb.append(\". The price of extra weight within the region is \");\n        sb.append(price.getWithinPrice());\n        sb.append(\" and beyond the region is \");\n        sb.append(price.getBeyondPrice());\n        sb.append(\"\\n\");\n        return new Response\u003c\u003e(1, success, sb.toString());\n    }","returnType":"Response","methodName":"queryPriceInformation","className":"ConsignPriceServiceImpl","packageName":"consignprice.service","methodId":"consignprice.service.ConsignPriceServiceImpl.queryPriceInformation","classId":"consignprice.service.ConsignPriceServiceImpl","line":43,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"repository.findByIndex(0)","parentPackageName":"consignprice.service","parentClassName":"ConsignPriceServiceImpl","parentMethodName":"queryPriceInformation","parentClassId":"consignprice.service.ConsignPriceServiceImpl","lineNumber":46,"calledMethodName":"findByIndex","calledServiceId":"repository","statementDeclaration":"repository.findByIndex(0)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ConsignPriceConfigRepository repository;","fieldClass":"ConsignPriceConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignPriceServiceImpl","parentPackageName":"consignprice.service"},"line":18},"msRepository":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"classId":"consignprice.repository.ConsignPriceConfigRepository","packageName":"consignprice.repository","className":"ConsignPriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027index\u0027: ?0 }\")\n    ConsignPrice findByIndex(int index);","returnType":"ConsignPrice","methodName":"findByIndex","className":"ConsignPriceConfigRepository","packageName":"consignprice.repository","methodId":"consignprice.repository.ConsignPriceConfigRepository.findByIndex","classId":"consignprice.repository.ConsignPriceConfigRepository","line":20,"msArgumentList":[{"returnType":"int"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"classId":"consignprice.controller.ConsignPriceController","packageName":"consignprice.controller","className":"ConsignPriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consignprice/config\")\n    public HttpEntity getPriceConfig(@RequestHeader HttpHeaders headers) {\n        return ok(service.getPriceConfig(headers));\n    }","returnType":"HttpEntity","methodName":"getPriceConfig","className":"ConsignPriceController","packageName":"consignprice.controller","methodId":"consignprice.controller.ConsignPriceController.getPriceConfig","classId":"consignprice.controller.ConsignPriceController","line":39,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consignprice/config\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"service.getPriceConfig(headers)","parentPackageName":"consignprice.controller","parentClassName":"ConsignPriceController","parentMethodName":"getPriceConfig","parentClassId":"consignprice.controller.ConsignPriceController","lineNumber":41,"calledMethodName":"getPriceConfig","calledServiceId":"service","statementDeclaration":"service.getPriceConfig(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@Autowired\n    ConsignPriceService service;","fieldClass":"ConsignPriceService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignPriceController","parentPackageName":"consignprice.controller"},"line":19},"msService":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"classId":"consignprice.service.ConsignPriceServiceImpl","packageName":"consignprice.service","className":"ConsignPriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getPriceConfig(HttpHeaders headers) {\n        return new Response\u003c\u003e(1, success, repository.findByIndex(0));\n    }","returnType":"Response","methodName":"getPriceConfig","className":"ConsignPriceServiceImpl","packageName":"consignprice.service","methodId":"consignprice.service.ConsignPriceServiceImpl.getPriceConfig","classId":"consignprice.service.ConsignPriceServiceImpl","line":79,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"repository.findByIndex(0)","parentPackageName":"consignprice.service","parentClassName":"ConsignPriceServiceImpl","parentMethodName":"getPriceConfig","parentClassId":"consignprice.service.ConsignPriceServiceImpl","lineNumber":81,"calledMethodName":"findByIndex","calledServiceId":"repository","statementDeclaration":"repository.findByIndex(0)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ConsignPriceConfigRepository repository;","fieldClass":"ConsignPriceConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignPriceServiceImpl","parentPackageName":"consignprice.service"},"line":18},"msRepository":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"classId":"consignprice.repository.ConsignPriceConfigRepository","packageName":"consignprice.repository","className":"ConsignPriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027index\u0027: ?0 }\")\n    ConsignPrice findByIndex(int index);","returnType":"ConsignPrice","methodName":"findByIndex","className":"ConsignPriceConfigRepository","packageName":"consignprice.repository","methodId":"consignprice.repository.ConsignPriceConfigRepository.findByIndex","classId":"consignprice.repository.ConsignPriceConfigRepository","line":20,"msArgumentList":[{"returnType":"int"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"classId":"consignprice.controller.ConsignPriceController","packageName":"consignprice.controller","className":"ConsignPriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/consignprice\")\n    public HttpEntity modifyPriceConfig(@RequestBody ConsignPrice priceConfig,\n                                        @RequestHeader HttpHeaders headers) {\n        return ok(service.createAndModifyPrice(priceConfig, headers));\n    }","returnType":"HttpEntity","methodName":"modifyPriceConfig","className":"ConsignPriceController","packageName":"consignprice.controller","methodId":"consignprice.controller.ConsignPriceController.modifyPriceConfig","classId":"consignprice.controller.ConsignPriceController","line":44,"msArgumentList":[{"returnType":"ConsignPrice"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/consignprice\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"service.createAndModifyPrice(priceConfig, headers)","parentPackageName":"consignprice.controller","parentClassName":"ConsignPriceController","parentMethodName":"modifyPriceConfig","parentClassId":"consignprice.controller.ConsignPriceController","lineNumber":47,"calledMethodName":"createAndModifyPrice","calledServiceId":"service","statementDeclaration":"service.createAndModifyPrice(priceConfig, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/controller/ConsignPriceController.java","directoryName":""},"code":"@Autowired\n    ConsignPriceService service;","fieldClass":"ConsignPriceService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignPriceController","parentPackageName":"consignprice.controller"},"line":19},"msService":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"classId":"consignprice.service.ConsignPriceServiceImpl","packageName":"consignprice.service","className":"ConsignPriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createAndModifyPrice(ConsignPrice config, HttpHeaders headers) {\n        ConsignPriceServiceImpl.LOGGER.info(\"[Consign Price Service][Create New Price Config]\");\n        //update price\n        ConsignPrice originalConfig;\n        if (repository.findByIndex(0) !\u003d null) {\n            originalConfig \u003d repository.findByIndex(0);\n        } else {\n            originalConfig \u003d new ConsignPrice();\n        }\n        originalConfig.setId(config.getId());\n        originalConfig.setIndex(0);\n        originalConfig.setInitialPrice(config.getInitialPrice());\n        originalConfig.setInitialWeight(config.getInitialWeight());\n        originalConfig.setWithinPrice(config.getWithinPrice());\n        originalConfig.setBeyondPrice(config.getBeyondPrice());\n        repository.save(originalConfig);\n        return new Response\u003c\u003e(1, success, originalConfig);\n    }","returnType":"Response","methodName":"createAndModifyPrice","className":"ConsignPriceServiceImpl","packageName":"consignprice.service","methodId":"consignprice.service.ConsignPriceServiceImpl.createAndModifyPrice","classId":"consignprice.service.ConsignPriceServiceImpl","line":59,"msArgumentList":[{"returnType":"ConsignPrice"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"repository.findByIndex(0)","parentPackageName":"consignprice.service","parentClassName":"ConsignPriceServiceImpl","parentMethodName":"createAndModifyPrice","parentClassId":"consignprice.service.ConsignPriceServiceImpl","lineNumber":64,"calledMethodName":"findByIndex","calledServiceId":"repository","statementDeclaration":"repository.findByIndex(0)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/service/ConsignPriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private ConsignPriceConfigRepository repository;","fieldClass":"ConsignPriceConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignPriceServiceImpl","parentPackageName":"consignprice.service"},"line":18},"msRepository":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"classId":"consignprice.repository.ConsignPriceConfigRepository","packageName":"consignprice.repository","className":"ConsignPriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-price-service/src/main/java/consignprice/repository/ConsignPriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027index\u0027: ?0 }\")\n    ConsignPrice findByIndex(int index);","returnType":"ConsignPrice","methodName":"findByIndex","className":"ConsignPriceConfigRepository","packageName":"consignprice.repository","methodId":"consignprice.repository.ConsignPriceConfigRepository.findByIndex","classId":"consignprice.repository.ConsignPriceConfigRepository","line":20,"msArgumentList":[{"returnType":"int"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"classId":"com.trainticket.controller.PaymentController","packageName":"com.trainticket.controller","className":"PaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Payment Service ] !\";\n    }","returnType":"String","methodName":"home","className":"PaymentController","packageName":"com.trainticket.controller","methodId":"com.trainticket.controller.PaymentController.home","classId":"com.trainticket.controller.PaymentController","line":23,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"classId":"com.trainticket.controller.PaymentController","packageName":"com.trainticket.controller","className":"PaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@PostMapping(path \u003d \"/payment\")\n    public HttpEntity pay(@RequestBody Payment info, @RequestHeader HttpHeaders headers) {\n        return ok(service.pay(info, headers));\n    }","returnType":"HttpEntity","methodName":"pay","className":"PaymentController","packageName":"com.trainticket.controller","methodId":"com.trainticket.controller.PaymentController.pay","classId":"com.trainticket.controller.PaymentController","line":28,"msArgumentList":[{"returnType":"Payment"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/payment\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"service.pay(info, headers)","parentPackageName":"com.trainticket.controller","parentClassName":"PaymentController","parentMethodName":"pay","parentClassId":"com.trainticket.controller.PaymentController","lineNumber":30,"calledMethodName":"pay","calledServiceId":"service","statementDeclaration":"service.pay(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@Autowired\n    PaymentService service;","fieldClass":"PaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"PaymentController","parentPackageName":"com.trainticket.controller"},"line":20},"msService":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"classId":"com.trainticket.service.PaymentServiceImpl","packageName":"com.trainticket.service","className":"PaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response pay(Payment info, HttpHeaders headers){\n\n        if(paymentRepository.findByOrderId(info.getOrderId()) \u003d\u003d null){\n            Payment payment \u003d new Payment();\n            payment.setOrderId(info.getOrderId());\n            payment.setPrice(info.getPrice());\n            payment.setUserId(info.getUserId());\n            paymentRepository.save(payment);\n            return new Response\u003c\u003e(1, \"Pay Success\", null);\n        }else{\n            return new Response\u003c\u003e(0, \"Pay Failed, order not found with order id\" +info.getOrderId(), null);\n        }\n    }","returnType":"Response","methodName":"pay","className":"PaymentServiceImpl","packageName":"com.trainticket.service","methodId":"com.trainticket.service.PaymentServiceImpl.pay","classId":"com.trainticket.service.PaymentServiceImpl","line":31,"msArgumentList":[{"returnType":"Payment"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"paymentRepository.findByOrderId(info.getOrderId())","parentPackageName":"com.trainticket.service","parentClassName":"PaymentServiceImpl","parentMethodName":"pay","parentClassId":"com.trainticket.service.PaymentServiceImpl","lineNumber":34,"calledMethodName":"findByOrderId","calledServiceId":"paymentRepository","statementDeclaration":"paymentRepository.findByOrderId(info.getOrderId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    PaymentRepository paymentRepository;","fieldClass":"PaymentRepository","fieldVariable":"paymentRepository","parentMethod":{"parentClassName":"PaymentServiceImpl","parentPackageName":"com.trainticket.service"},"line":23},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"classId":"inside_payment.repository.PaymentRepository","packageName":"inside_payment.repository","className":"PaymentRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"code":"List\u003cPayment\u003e findByOrderId(String orderId);","returnType":"List\u003cPayment\u003e","methodName":"findByOrderId","className":"PaymentRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.PaymentRepository.findByOrderId","classId":"inside_payment.repository.PaymentRepository","line":27,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"classId":"com.trainticket.controller.PaymentController","packageName":"com.trainticket.controller","className":"PaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@PostMapping(path \u003d \"/payment/money\")\n    public HttpEntity addMoney(@RequestBody Payment info, @RequestHeader HttpHeaders headers) {\n        return ok(service.addMoney(info, headers));\n    }","returnType":"HttpEntity","methodName":"addMoney","className":"PaymentController","packageName":"com.trainticket.controller","methodId":"com.trainticket.controller.PaymentController.addMoney","classId":"com.trainticket.controller.PaymentController","line":33,"msArgumentList":[{"returnType":"Payment"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/payment/money\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"service.addMoney(info, headers)","parentPackageName":"com.trainticket.controller","parentClassName":"PaymentController","parentMethodName":"addMoney","parentClassId":"com.trainticket.controller.PaymentController","lineNumber":35,"calledMethodName":"addMoney","calledServiceId":"service","statementDeclaration":"service.addMoney(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@Autowired\n    PaymentService service;","fieldClass":"PaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"PaymentController","parentPackageName":"com.trainticket.controller"},"line":20},"msService":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"classId":"com.trainticket.service.PaymentServiceImpl","packageName":"com.trainticket.service","className":"PaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addMoney(Payment info, HttpHeaders headers){\n        Money addMoney \u003d new Money();\n        addMoney.setUserId(info.getUserId());\n        addMoney.setMoney(info.getPrice());\n        addMoneyRepository.save(addMoney);\n        return new Response\u003c\u003e(1,\"Add Money Success\", addMoney);\n    }","returnType":"Response","methodName":"addMoney","className":"PaymentServiceImpl","packageName":"com.trainticket.service","methodId":"com.trainticket.service.PaymentServiceImpl.addMoney","classId":"com.trainticket.service.PaymentServiceImpl","line":46,"msArgumentList":[{"returnType":"Payment"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"addMoneyRepository.save(addMoney)","parentPackageName":"com.trainticket.service","parentClassName":"PaymentServiceImpl","parentMethodName":"addMoney","parentClassId":"com.trainticket.service.PaymentServiceImpl","lineNumber":51,"calledMethodName":"save","calledServiceId":"addMoneyRepository","statementDeclaration":"addMoneyRepository.save(addMoney)"},"msServiceRepositoryField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    AddMoneyRepository addMoneyRepository;","fieldClass":"AddMoneyRepository","fieldVariable":"addMoneyRepository","parentMethod":{"parentClassName":"PaymentServiceImpl","parentPackageName":"com.trainticket.service"},"line":26},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/AddMoneyRepository.java","directoryName":""},"classId":"inside_payment.repository.AddMoneyRepository","packageName":"inside_payment.repository","className":"AddMoneyRepository","role":"REPOSITORY","code":""},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"classId":"com.trainticket.controller.PaymentController","packageName":"com.trainticket.controller","className":"PaymentController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/payment\")\n    public HttpEntity query(@RequestHeader HttpHeaders headers) {\n        return ok(service.query(headers));\n    }","returnType":"HttpEntity","methodName":"query","className":"PaymentController","packageName":"com.trainticket.controller","methodId":"com.trainticket.controller.PaymentController.query","classId":"com.trainticket.controller.PaymentController","line":38,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/payment\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"service.query(headers)","parentPackageName":"com.trainticket.controller","parentClassName":"PaymentController","parentMethodName":"query","parentClassId":"com.trainticket.controller.PaymentController","lineNumber":40,"calledMethodName":"query","calledServiceId":"service","statementDeclaration":"service.query(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/controller/PaymentController.java","directoryName":""},"code":"@Autowired\n    PaymentService service;","fieldClass":"PaymentService","fieldVariable":"service","parentMethod":{"parentClassName":"PaymentController","parentPackageName":"com.trainticket.controller"},"line":20},"msService":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"classId":"com.trainticket.service.PaymentServiceImpl","packageName":"com.trainticket.service","className":"PaymentServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Override\n    public Response query(HttpHeaders headers){\n        List\u003cPayment\u003e payments \u003d paymentRepository.findAll();\n        if(payments!\u003d null \u0026\u0026 !payments.isEmpty()){\n            return new Response\u003c\u003e(1,\"Query Success\",  payments);\n        }else {\n            return new Response\u003c\u003e(0, \"No Content\", null);\n        }\n    }","returnType":"Response","methodName":"query","className":"PaymentServiceImpl","packageName":"com.trainticket.service","methodId":"com.trainticket.service.PaymentServiceImpl.query","classId":"com.trainticket.service.PaymentServiceImpl","line":55,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"paymentRepository.findAll()","parentPackageName":"com.trainticket.service","parentClassName":"PaymentServiceImpl","parentMethodName":"query","parentClassId":"com.trainticket.service.PaymentServiceImpl","lineNumber":57,"calledMethodName":"findAll","calledServiceId":"paymentRepository","statementDeclaration":"paymentRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-payment-service/src/main/java/com/trainticket/service/PaymentServiceImpl.java","directoryName":""},"code":"@Autowired\n    PaymentRepository paymentRepository;","fieldClass":"PaymentRepository","fieldVariable":"paymentRepository","parentMethod":{"parentClassName":"PaymentServiceImpl","parentPackageName":"com.trainticket.service"},"line":23},"msRepository":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"classId":"inside_payment.repository.PaymentRepository","packageName":"inside_payment.repository","className":"PaymentRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-inside-payment-service/src/main/java/inside_payment/repository/PaymentRepository.java","directoryName":""},"code":"@Override\n    List\u003cPayment\u003e findAll();","returnType":"List\u003cPayment\u003e","methodName":"findAll","className":"PaymentRepository","packageName":"inside_payment.repository","methodId":"inside_payment.repository.PaymentRepository.findAll","classId":"inside_payment.repository.PaymentRepository","line":34,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/prices/welcome\")\n    public String home() {\n        return \"Welcome to [ Price Service ] !\";\n    }","returnType":"String","methodName":"home","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.home","classId":"price.controller.PriceController","line":23,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/prices/welcome\""}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/prices/{routeId}/{trainType}\")\n    public HttpEntity query(@PathVariable String routeId, @PathVariable String trainType,\n                            @RequestHeader HttpHeaders headers) {\n        return ok(service.findByRouteIdAndTrainType(routeId, trainType, headers));\n    }","returnType":"HttpEntity","methodName":"query","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.query","classId":"price.controller.PriceController","line":28,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/prices/{routeId}/{trainType}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"service.findByRouteIdAndTrainType(routeId, trainType, headers)","parentPackageName":"price.controller","parentClassName":"PriceController","parentMethodName":"query","parentClassId":"price.controller.PriceController","lineNumber":31,"calledMethodName":"findByRouteIdAndTrainType","calledServiceId":"service","statementDeclaration":"service.findByRouteIdAndTrainType(routeId, trainType, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@Autowired\n    PriceService service;","fieldClass":"PriceService","fieldVariable":"service","parentMethod":{"parentClassName":"PriceController","parentPackageName":"price.controller"},"line":20},"msService":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"classId":"price.service.PriceServiceImpl","packageName":"price.service","className":"PriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findByRouteIdAndTrainType(String routeId, String trainType, HttpHeaders headers) {\n        PriceServiceImpl.LOGGER.info(\"[Price Service][Find By Route And Train Type] Rote: {}   Train Type: {}\", routeId, trainType);\n        PriceConfig priceConfig \u003d priceConfigRepository.findByRouteIdAndTrainType(routeId, trainType);\n        PriceServiceImpl.LOGGER.info(\"[Price Service][Find By Route Id And Train Type]\");\n\n        if (priceConfig \u003d\u003d null) {\n            return new Response\u003c\u003e(0, noThatConfig, null);\n        } else {\n            return new Response\u003c\u003e(1, \"Success\", priceConfig);\n        }\n    }","returnType":"Response","methodName":"findByRouteIdAndTrainType","className":"PriceServiceImpl","packageName":"price.service","methodId":"price.service.PriceServiceImpl.findByRouteIdAndTrainType","classId":"price.service.PriceServiceImpl","line":65,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"priceConfigRepository.findByRouteIdAndTrainType(routeId, trainType)","parentPackageName":"price.service","parentClassName":"PriceServiceImpl","parentMethodName":"findByRouteIdAndTrainType","parentClassId":"price.service.PriceServiceImpl","lineNumber":68,"calledMethodName":"findByRouteIdAndTrainType","calledServiceId":"priceConfigRepository","statementDeclaration":"priceConfigRepository.findByRouteIdAndTrainType(routeId, trainType)"},"msServiceRepositoryField":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private PriceConfigRepository priceConfigRepository;","fieldClass":"PriceConfigRepository","fieldVariable":"priceConfigRepository","parentMethod":{"parentClassName":"PriceServiceImpl","parentPackageName":"price.service"},"line":23},"msRepository":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"classId":"price.repository.PriceConfigRepository","packageName":"price.repository","className":"PriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027routeId\u0027: ?0 , \u0027trainType\u0027: ?1 }\")\n    PriceConfig findByRouteIdAndTrainType(String routeId,String trainType);","returnType":"PriceConfig","methodName":"findByRouteIdAndTrainType","className":"PriceConfigRepository","packageName":"price.repository","methodId":"price.repository.PriceConfigRepository.findByRouteIdAndTrainType","classId":"price.repository.PriceConfigRepository","line":19,"msArgumentList":[{"returnType":"String"},{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/prices\")\n    public HttpEntity queryAll(@RequestHeader HttpHeaders headers) {\n        return ok(service.findAllPriceConfig(headers));\n    }","returnType":"HttpEntity","methodName":"queryAll","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.queryAll","classId":"price.controller.PriceController","line":34,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"service.findAllPriceConfig(headers)","parentPackageName":"price.controller","parentClassName":"PriceController","parentMethodName":"queryAll","parentClassId":"price.controller.PriceController","lineNumber":36,"calledMethodName":"findAllPriceConfig","calledServiceId":"service","statementDeclaration":"service.findAllPriceConfig(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@Autowired\n    PriceService service;","fieldClass":"PriceService","fieldVariable":"service","parentMethod":{"parentClassName":"PriceController","parentPackageName":"price.controller"},"line":20},"msService":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"classId":"price.service.PriceServiceImpl","packageName":"price.service","className":"PriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findAllPriceConfig(HttpHeaders headers) {\n        List\u003cPriceConfig\u003e list \u003d priceConfigRepository.findAll();\n        if (list \u003d\u003d null) {\n            list \u003d new ArrayList\u003c\u003e();\n        }\n\n        if (!list.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Success\", list);\n        } else {\n            return new Response\u003c\u003e(0, \"No price config\", null);\n        }\n\n    }","returnType":"Response","methodName":"findAllPriceConfig","className":"PriceServiceImpl","packageName":"price.service","methodId":"price.service.PriceServiceImpl.findAllPriceConfig","classId":"price.service.PriceServiceImpl","line":79,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"priceConfigRepository.findAll()","parentPackageName":"price.service","parentClassName":"PriceServiceImpl","parentMethodName":"findAllPriceConfig","parentClassId":"price.service.PriceServiceImpl","lineNumber":81,"calledMethodName":"findAll","calledServiceId":"priceConfigRepository","statementDeclaration":"priceConfigRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private PriceConfigRepository priceConfigRepository;","fieldClass":"PriceConfigRepository","fieldVariable":"priceConfigRepository","parentMethod":{"parentClassName":"PriceServiceImpl","parentPackageName":"price.service"},"line":23},"msRepository":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"classId":"price.repository.PriceConfigRepository","packageName":"price.repository","className":"PriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"code":"@Override\n    List\u003cPriceConfig\u003e findAll();","returnType":"List\u003cPriceConfig\u003e","methodName":"findAll","className":"PriceConfigRepository","packageName":"price.repository","methodId":"price.repository.PriceConfigRepository.findAll","classId":"price.repository.PriceConfigRepository","line":22,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/prices\")\n    public HttpEntity\u003c?\u003e create(@RequestBody PriceConfig info,\n                                @RequestHeader HttpHeaders headers) {\n        return new ResponseEntity\u003c\u003e(service.createNewPriceConfig(info, headers), HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003c?\u003e","methodName":"create","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.create","classId":"price.controller.PriceController","line":39,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"service.createNewPriceConfig(info, headers)","parentPackageName":"price.controller","parentClassName":"PriceController","parentMethodName":"create","parentClassId":"price.controller.PriceController","lineNumber":42,"calledMethodName":"createNewPriceConfig","calledServiceId":"service","statementDeclaration":"service.createNewPriceConfig(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@Autowired\n    PriceService service;","fieldClass":"PriceService","fieldVariable":"service","parentMethod":{"parentClassName":"PriceController","parentPackageName":"price.controller"},"line":20},"msService":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"classId":"price.service.PriceServiceImpl","packageName":"price.service","className":"PriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createNewPriceConfig(PriceConfig createAndModifyPriceConfig, HttpHeaders headers) {\n        PriceServiceImpl.LOGGER.info(\"[Price Service][Create New Price Config]\");\n        PriceConfig priceConfig \u003d null;\n        // create\n        if (createAndModifyPriceConfig.getId() \u003d\u003d null || createAndModifyPriceConfig.getId().toString().length() \u003c 10) {\n            priceConfig \u003d new PriceConfig();\n            priceConfig.setId(UUID.randomUUID());\n            priceConfig.setBasicPriceRate(createAndModifyPriceConfig.getBasicPriceRate());\n            priceConfig.setFirstClassPriceRate(createAndModifyPriceConfig.getFirstClassPriceRate());\n            priceConfig.setRouteId(createAndModifyPriceConfig.getRouteId());\n            priceConfig.setTrainType(createAndModifyPriceConfig.getTrainType());\n            priceConfigRepository.save(priceConfig);\n        } else {\n            // modify\n            priceConfig \u003d priceConfigRepository.findById(createAndModifyPriceConfig.getId());\n            if (priceConfig \u003d\u003d null) {\n                priceConfig \u003d new PriceConfig();\n                priceConfig.setId(createAndModifyPriceConfig.getId());\n            }\n            priceConfig.setBasicPriceRate(createAndModifyPriceConfig.getBasicPriceRate());\n            priceConfig.setFirstClassPriceRate(createAndModifyPriceConfig.getFirstClassPriceRate());\n            priceConfig.setRouteId(createAndModifyPriceConfig.getRouteId());\n            priceConfig.setTrainType(createAndModifyPriceConfig.getTrainType());\n            priceConfigRepository.save(priceConfig);\n        }\n        return new Response\u003c\u003e(1, \"Create success\", priceConfig);\n    }","returnType":"Response","methodName":"createNewPriceConfig","className":"PriceServiceImpl","packageName":"price.service","methodId":"price.service.PriceServiceImpl.createNewPriceConfig","classId":"price.service.PriceServiceImpl","line":30,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"priceConfigRepository.findById(createAndModifyPriceConfig.getId())","parentPackageName":"price.service","parentClassName":"PriceServiceImpl","parentMethodName":"createNewPriceConfig","parentClassId":"price.service.PriceServiceImpl","lineNumber":45,"calledMethodName":"findById","calledServiceId":"priceConfigRepository","statementDeclaration":"priceConfigRepository.findById(createAndModifyPriceConfig.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private PriceConfigRepository priceConfigRepository;","fieldClass":"PriceConfigRepository","fieldVariable":"priceConfigRepository","parentMethod":{"parentClassName":"PriceServiceImpl","parentPackageName":"price.service"},"line":23},"msRepository":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"classId":"price.repository.PriceConfigRepository","packageName":"price.repository","className":"PriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    PriceConfig findById(UUID id);","returnType":"PriceConfig","methodName":"findById","className":"PriceConfigRepository","packageName":"price.repository","methodId":"price.repository.PriceConfigRepository.findById","classId":"price.repository.PriceConfigRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/prices\")\n    public HttpEntity delete(@RequestBody PriceConfig info, @RequestHeader HttpHeaders headers) {\n        return ok(service.deletePriceConfig(info, headers));\n    }","returnType":"HttpEntity","methodName":"delete","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.delete","classId":"price.controller.PriceController","line":45,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"service.deletePriceConfig(info, headers)","parentPackageName":"price.controller","parentClassName":"PriceController","parentMethodName":"delete","parentClassId":"price.controller.PriceController","lineNumber":47,"calledMethodName":"deletePriceConfig","calledServiceId":"service","statementDeclaration":"service.deletePriceConfig(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@Autowired\n    PriceService service;","fieldClass":"PriceService","fieldVariable":"service","parentMethod":{"parentClassName":"PriceController","parentPackageName":"price.controller"},"line":20},"msService":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"classId":"price.service.PriceServiceImpl","packageName":"price.service","className":"PriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deletePriceConfig(PriceConfig c, HttpHeaders headers) {\n        PriceConfig priceConfig \u003d priceConfigRepository.findById(c.getId());\n        if (priceConfig \u003d\u003d null) {\n            return new Response\u003c\u003e(0, noThatConfig, null);\n        } else {\n            PriceConfig pc \u003d new PriceConfig();\n            pc.setId(c.getId());\n            pc.setRouteId(c.getRouteId());\n            pc.setTrainType(c.getTrainType());\n            pc.setBasicPriceRate(c.getBasicPriceRate());\n            pc.setFirstClassPriceRate(c.getFirstClassPriceRate());\n            priceConfigRepository.delete(pc);\n            return new Response\u003c\u003e(1, \"Delete success\", pc);\n        }\n    }","returnType":"Response","methodName":"deletePriceConfig","className":"PriceServiceImpl","packageName":"price.service","methodId":"price.service.PriceServiceImpl.deletePriceConfig","classId":"price.service.PriceServiceImpl","line":94,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"priceConfigRepository.findById(c.getId())","parentPackageName":"price.service","parentClassName":"PriceServiceImpl","parentMethodName":"deletePriceConfig","parentClassId":"price.service.PriceServiceImpl","lineNumber":96,"calledMethodName":"findById","calledServiceId":"priceConfigRepository","statementDeclaration":"priceConfigRepository.findById(c.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private PriceConfigRepository priceConfigRepository;","fieldClass":"PriceConfigRepository","fieldVariable":"priceConfigRepository","parentMethod":{"parentClassName":"PriceServiceImpl","parentPackageName":"price.service"},"line":23},"msRepository":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"classId":"price.repository.PriceConfigRepository","packageName":"price.repository","className":"PriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    PriceConfig findById(UUID id);","returnType":"PriceConfig","methodName":"findById","className":"PriceConfigRepository","packageName":"price.repository","methodId":"price.repository.PriceConfigRepository.findById","classId":"price.repository.PriceConfigRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"classId":"price.controller.PriceController","packageName":"price.controller","className":"PriceController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@PutMapping(value \u003d \"/prices\")\n    public HttpEntity update(@RequestBody PriceConfig info, @RequestHeader HttpHeaders headers) {\n        return ok(service.updatePriceConfig(info, headers));\n    }","returnType":"HttpEntity","methodName":"update","className":"PriceController","packageName":"price.controller","methodId":"price.controller.PriceController.update","classId":"price.controller.PriceController","line":50,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"service.updatePriceConfig(info, headers)","parentPackageName":"price.controller","parentClassName":"PriceController","parentMethodName":"update","parentClassId":"price.controller.PriceController","lineNumber":52,"calledMethodName":"updatePriceConfig","calledServiceId":"service","statementDeclaration":"service.updatePriceConfig(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-price-service/src/main/java/price/controller/PriceController.java","directoryName":""},"code":"@Autowired\n    PriceService service;","fieldClass":"PriceService","fieldVariable":"service","parentMethod":{"parentClassName":"PriceController","parentPackageName":"price.controller"},"line":20},"msService":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"classId":"price.service.PriceServiceImpl","packageName":"price.service","className":"PriceServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updatePriceConfig(PriceConfig c, HttpHeaders headers) {\n        PriceConfig priceConfig \u003d priceConfigRepository.findById(c.getId());\n        if (priceConfig \u003d\u003d null) {\n            return new Response\u003c\u003e(0, noThatConfig, null);\n        } else {\n            priceConfig.setId(c.getId());\n            priceConfig.setBasicPriceRate(c.getBasicPriceRate());\n            priceConfig.setFirstClassPriceRate(c.getFirstClassPriceRate());\n            priceConfig.setRouteId(c.getRouteId());\n            priceConfig.setTrainType(c.getTrainType());\n            priceConfigRepository.save(priceConfig);\n            return new Response\u003c\u003e(1, \"Update success\", priceConfig);\n        }\n    }","returnType":"Response","methodName":"updatePriceConfig","className":"PriceServiceImpl","packageName":"price.service","methodId":"price.service.PriceServiceImpl.updatePriceConfig","classId":"price.service.PriceServiceImpl","line":111,"msArgumentList":[{"returnType":"PriceConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"priceConfigRepository.findById(c.getId())","parentPackageName":"price.service","parentClassName":"PriceServiceImpl","parentMethodName":"updatePriceConfig","parentClassId":"price.service.PriceServiceImpl","lineNumber":113,"calledMethodName":"findById","calledServiceId":"priceConfigRepository","statementDeclaration":"priceConfigRepository.findById(c.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-price-service/src/main/java/price/service/PriceServiceImpl.java","directoryName":""},"code":"@Autowired\n    private PriceConfigRepository priceConfigRepository;","fieldClass":"PriceConfigRepository","fieldVariable":"priceConfigRepository","parentMethod":{"parentClassName":"PriceServiceImpl","parentPackageName":"price.service"},"line":23},"msRepository":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"classId":"price.repository.PriceConfigRepository","packageName":"price.repository","className":"PriceConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-price-service/src/main/java/price/repository/PriceConfigRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    PriceConfig findById(UUID id);","returnType":"PriceConfig","methodName":"findById","className":"PriceConfigRepository","packageName":"price.repository","methodId":"price.repository.PriceConfigRepository.findById","classId":"price.repository.PriceConfigRepository","line":16,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Order Service ] !\";\n    }","returnType":"String","methodName":"home","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.home","classId":"order.controller.OrderController","line":28,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/order/tickets\")\n    public HttpEntity getTicketListByDateAndTripId(@RequestBody Seat seatRequest, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Service][Get Sold Ticket] Date: {}\", seatRequest.getTravelDate().toString());\n        return ok(orderService.getSoldTickets(seatRequest, headers));\n    }","returnType":"HttpEntity","methodName":"getTicketListByDateAndTripId","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.getTicketListByDateAndTripId","classId":"order.controller.OrderController","line":35,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/order/tickets\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.getSoldTickets(seatRequest, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"getTicketListByDateAndTripId","parentClassId":"order.controller.OrderController","lineNumber":38,"calledMethodName":"getSoldTickets","calledServiceId":"orderService","statementDeclaration":"orderService.getSoldTickets(seatRequest, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getSoldTickets(Seat seatRequest, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e list \u003d orderRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(),\n                seatRequest.getTrainNumber());\n        if (list !\u003d null \u0026\u0026 !list.isEmpty()) {\n            Set ticketSet \u003d new HashSet();\n            for (Order tempOrder : list) {\n                ticketSet.add(new Ticket(Integer.parseInt(tempOrder.getSeatNumber()),\n                        tempOrder.getFrom(), tempOrder.getTo()));\n            }\n            LeftTicketInfo leftTicketInfo \u003d new LeftTicketInfo();\n            leftTicketInfo.setSoldTickets(ticketSet);\n            OrderServiceImpl.LOGGER.info(\"Left ticket info is: {}\", leftTicketInfo.toString());\n            return new Response\u003c\u003e(1, success, leftTicketInfo);\n        } else {\n            OrderServiceImpl.LOGGER.info(\"Left ticket info is empty\");\n            return new Response\u003c\u003e(0, \"Order is Null.\", null);\n        }\n    }","returnType":"Response","methodName":"getSoldTickets","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.getSoldTickets","classId":"order.service.OrderServiceImpl","line":36,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(),\n                seatRequest.getTrainNumber())","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"getSoldTickets","parentClassId":"order.service.OrderServiceImpl","lineNumber":38,"calledMethodName":"findByTravelDateAndTrainNumber","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(), seatRequest.getTrainNumber())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027travelDate\u0027 : ?0 , trainNumber : ?1 }\")\n    ArrayList\u003cOrder\u003e findByTravelDateAndTrainNumber(Date travelDate,String trainNumber);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByTravelDateAndTrainNumber","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByTravelDateAndTrainNumber","classId":"order.repository.OrderRepository","line":26,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/order\")\n    public HttpEntity createNewOrder(@RequestBody Order createOrder, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Service][Create Order] Create Order form {} ---\u003e {} at {}\", createOrder.getFrom(), createOrder.getTo(), createOrder.getTravelDate());\n        OrderController.LOGGER.info(\"[Order Service][Verify Login] Success\");\n        return ok(orderService.create(createOrder, headers));\n    }","returnType":"HttpEntity","methodName":"createNewOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.createNewOrder","classId":"order.controller.OrderController","line":41,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/order\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.create(createOrder, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"createNewOrder","parentClassId":"order.controller.OrderController","lineNumber":46,"calledMethodName":"create","calledServiceId":"orderService","statementDeclaration":"orderService.create(createOrder, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(Order order, HttpHeaders headers) {\n        OrderServiceImpl.LOGGER.info(\"[Order Service][Create Order] Ready Create Order.\");\n        ArrayList\u003cOrder\u003e accountOrders \u003d orderRepository.findByAccountId(order.getAccountId());\n        if (accountOrders.contains(order)) {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Order Create] Fail.Order already exists.\");\n            return new Response\u003c\u003e(0, \"Order already exist\", null);\n        } else {\n            order.setId(UUID.randomUUID());\n            orderRepository.save(order);\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Order Create] Success.\");\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Order Create] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"create","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.create","classId":"order.service.OrderServiceImpl","line":66,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByAccountId(order.getAccountId())","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"create","parentClassId":"order.service.OrderServiceImpl","lineNumber":69,"calledMethodName":"findByAccountId","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByAccountId(order.getAccountId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByAccountId","classId":"order.repository.OrderRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/order/admin\")\n    public HttpEntity addcreateNewOrder(@RequestBody Order order, @RequestHeader HttpHeaders headers) {\n        return ok(orderService.addNewOrder(order, headers));\n    }","returnType":"HttpEntity","methodName":"addcreateNewOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.addcreateNewOrder","classId":"order.controller.OrderController","line":49,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/order/admin\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.addNewOrder(order, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"addcreateNewOrder","parentClassId":"order.controller.OrderController","lineNumber":52,"calledMethodName":"addNewOrder","calledServiceId":"orderService","statementDeclaration":"orderService.addNewOrder(order, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addNewOrder(Order order, HttpHeaders headers) {\n        OrderServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Ready Add Order.\");\n        ArrayList\u003cOrder\u003e accountOrders \u003d orderRepository.findByAccountId(order.getAccountId());\n        if (accountOrders.contains(order)) {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Fail.Order already exists.\");\n            return new Response\u003c\u003e(0, \"Order already exist\", null);\n        } else {\n            order.setId(UUID.randomUUID());\n            orderRepository.save(order);\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Success.\");\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, \"Add new Order Success\", order);\n        }\n    }","returnType":"Response","methodName":"addNewOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.addNewOrder","classId":"order.service.OrderServiceImpl","line":378,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByAccountId(order.getAccountId())","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"addNewOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":381,"calledMethodName":"findByAccountId","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByAccountId(order.getAccountId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByAccountId","classId":"order.repository.OrderRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/order/query\")\n    public HttpEntity queryOrders(@RequestBody OrderInfo qi,\n                                  @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Query Orders] Query Orders for {}\", qi.getLoginId());\n        OrderController.LOGGER.info(\"[Order Other Service][Verify Login] Success\");\n        return ok(orderService.queryOrders(qi, qi.getLoginId(), headers));\n    }","returnType":"HttpEntity","methodName":"queryOrders","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.queryOrders","classId":"order.controller.OrderController","line":55,"msArgumentList":[{"returnType":"OrderInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/order/query\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.queryOrders(qi, qi.getLoginId(), headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"queryOrders","parentClassId":"order.controller.OrderController","lineNumber":61,"calledMethodName":"queryOrders","calledServiceId":"orderService","statementDeclaration":"orderService.queryOrders(qi, qi.getLoginId(), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response\u003cArrayList\u003cOrder\u003e\u003e queryOrders(OrderInfo qi, String accountId, HttpHeaders headers) {\n        //1.Get all orders of the user\n        ArrayList\u003cOrder\u003e list \u003d orderRepository.findByAccountId(UUID.fromString(accountId));\n        OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order][Step 1] Get Orders Number of Account: {}\", list.size());\n        //2.Check is these orders fit the requirement/\n        if (qi.isEnableStateQuery() || qi.isEnableBoughtDateQuery() || qi.isEnableTravelDateQuery()) {\n            ArrayList\u003cOrder\u003e finalList \u003d new ArrayList\u003c\u003e();\n            for (Order tempOrder : list) {\n                boolean statePassFlag \u003d false;\n                boolean boughtDatePassFlag \u003d false;\n                boolean travelDatePassFlag \u003d false;\n                //3.Check order state requirement.\n                if (qi.isEnableStateQuery()) {\n                    if (tempOrder.getStatus() !\u003d qi.getState()) {\n                        statePassFlag \u003d false;\n                    } else {\n                        statePassFlag \u003d true;\n                    }\n                } else {\n                    statePassFlag \u003d true;\n                }\n                OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order][Step 2][Check Status Fits End]\");\n                //4.Check order travel date requirement.\n                if (qi.isEnableTravelDateQuery()) {\n                    if (tempOrder.getTravelDate().before(qi.getTravelDateEnd()) \u0026\u0026\n                            tempOrder.getTravelDate().after(qi.getBoughtDateStart())) {\n                        travelDatePassFlag \u003d true;\n                    } else {\n                        travelDatePassFlag \u003d false;\n                    }\n                } else {\n                    travelDatePassFlag \u003d true;\n                }\n                OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order][Step 2][Check Travel Date End]\");\n                //5.Check order bought date requirement.\n                if (qi.isEnableBoughtDateQuery()) {\n                    if (tempOrder.getBoughtDate().before(qi.getBoughtDateEnd()) \u0026\u0026\n                            tempOrder.getBoughtDate().after(qi.getBoughtDateStart())) {\n                        boughtDatePassFlag \u003d true;\n                    } else {\n                        boughtDatePassFlag \u003d false;\n                    }\n                } else {\n                    boughtDatePassFlag \u003d true;\n                }\n                OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order][Step 2][Check Bought Date End]\");\n                //6.check if all requirement fits.\n                if (statePassFlag \u0026\u0026 boughtDatePassFlag \u0026\u0026 travelDatePassFlag) {\n                    finalList.add(tempOrder);\n                }\n                OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order][Step 2][Check All Requirement End]\");\n            }\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order] Get order num: {}\", finalList.size());\n            return new Response\u003c\u003e(1, \"Get order num\", finalList);\n        } else {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Query Order] Get order num: {}\", list.size());\n            return new Response\u003c\u003e(1, \"Get order num\", list);\n        }\n    }","returnType":"Response\u003cArrayList\u003cOrder\u003e\u003e","methodName":"queryOrders","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.queryOrders","classId":"order.service.OrderServiceImpl","line":104,"msArgumentList":[{"returnType":"OrderInfo"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByAccountId(UUID.fromString(accountId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"queryOrders","parentClassId":"order.service.OrderServiceImpl","lineNumber":107,"calledMethodName":"findByAccountId","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByAccountId(UUID.fromString(accountId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByAccountId","classId":"order.repository.OrderRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/order/refresh\")\n    public HttpEntity queryOrdersForRefresh(@RequestBody OrderInfo qi,\n                                            @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Query Orders] Query Orders for {}\", qi.getLoginId());\n        return ok(orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers));\n    }","returnType":"HttpEntity","methodName":"queryOrdersForRefresh","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.queryOrdersForRefresh","classId":"order.controller.OrderController","line":64,"msArgumentList":[{"returnType":"OrderInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/order/refresh\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"queryOrdersForRefresh","parentClassId":"order.controller.OrderController","lineNumber":69,"calledMethodName":"queryOrdersForRefresh","calledServiceId":"orderService","statementDeclaration":"orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryOrdersForRefresh(OrderInfo qi, String accountId, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d   queryOrders(qi, accountId, headers).getData();\n        ArrayList\u003cString\u003e stationIds \u003d new ArrayList\u003c\u003e();\n        for (Order order : orders) {\n            stationIds.add(order.getFrom());\n            stationIds.add(order.getTo());\n        }\n\n        List\u003cString\u003e names \u003d queryForStationId(stationIds, headers);\n        for (int i \u003d 0; i \u003c orders.size(); i++) {\n            orders.get(i).setFrom(names.get(i * 2));\n            orders.get(i).setTo(names.get(i * 2 + 1));\n        }\n        return new Response\u003c\u003e(1, \"Query Orders For Refresh Success\", orders);\n    }","returnType":"Response","methodName":"queryOrdersForRefresh","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.queryOrdersForRefresh","classId":"order.service.OrderServiceImpl","line":165,"msArgumentList":[{"returnType":"OrderInfo"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/{travelDate}/{trainNumber}\")\n    public HttpEntity calculateSoldTicket(@PathVariable Date travelDate, @PathVariable String trainNumber,\n                                          @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Calculate Sold Tickets] Date: {} TrainNumber: {}\", travelDate, trainNumber);\n        return ok(orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers));\n    }","returnType":"HttpEntity","methodName":"calculateSoldTicket","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.calculateSoldTicket","classId":"order.controller.OrderController","line":72,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/{travelDate}/{trainNumber}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"calculateSoldTicket","parentClassId":"order.controller.OrderController","lineNumber":77,"calledMethodName":"queryAlreadySoldOrders","calledServiceId":"orderService","statementDeclaration":"orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAlreadySoldOrders(Date travelDate, String trainNumber, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d orderRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber);\n        SoldTicket cstr \u003d new SoldTicket();\n        cstr.setTravelDate(travelDate);\n        cstr.setTrainNumber(trainNumber);\n        OrderServiceImpl.LOGGER.info(\"[Order Service][Calculate Sold Ticket] Get Orders Number: {}\", orders.size());\n        for (Order order : orders) {\n            if (order.getStatus() \u003e\u003d OrderStatus.CHANGE.getCode()) {\n                continue;\n            }\n            if (order.getSeatClass() \u003d\u003d SeatClass.NONE.getCode()) {\n                cstr.setNoSeat(cstr.getNoSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.BUSINESS.getCode()) {\n                cstr.setBusinessSeat(cstr.getBusinessSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n                cstr.setFirstClassSeat(cstr.getFirstClassSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SECONDCLASS.getCode()) {\n                cstr.setSecondClassSeat(cstr.getSecondClassSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HARDSEAT.getCode()) {\n                cstr.setHardSeat(cstr.getHardSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SOFTSEAT.getCode()) {\n                cstr.setSoftSeat(cstr.getSoftSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HARDBED.getCode()) {\n                cstr.setHardBed(cstr.getHardBed() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SOFTBED.getCode()) {\n                cstr.setSoftBed(cstr.getSoftBed() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HIGHSOFTBED.getCode()) {\n                cstr.setHighSoftBed(cstr.getHighSoftBed() + 1);\n            } else {\n                OrderServiceImpl.LOGGER.info(\"[Order Service][Calculate Sold Tickets] Seat class not exists. Order ID: {}\", order.getId());\n            }\n        }\n        return new Response\u003c\u003e(1, success, cstr);\n    }","returnType":"Response","methodName":"queryAlreadySoldOrders","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.queryAlreadySoldOrders","classId":"order.service.OrderServiceImpl","line":238,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber)","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"queryAlreadySoldOrders","parentClassId":"order.service.OrderServiceImpl","lineNumber":240,"calledMethodName":"findByTravelDateAndTrainNumber","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber)"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027travelDate\u0027 : ?0 , trainNumber : ?1 }\")\n    ArrayList\u003cOrder\u003e findByTravelDateAndTrainNumber(Date travelDate,String trainNumber);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByTravelDateAndTrainNumber","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByTravelDateAndTrainNumber","classId":"order.repository.OrderRepository","line":26,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/price/{orderId}\")\n    public HttpEntity getOrderPrice(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Get Order Price] Order Id: {}\", orderId);\n        // String\n        return ok(orderService.getOrderPrice(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"getOrderPrice","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.getOrderPrice","classId":"order.controller.OrderController","line":80,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/price/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.getOrderPrice(orderId, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"getOrderPrice","parentClassId":"order.controller.OrderController","lineNumber":85,"calledMethodName":"getOrderPrice","calledServiceId":"orderService","statementDeclaration":"orderService.getOrderPrice(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getOrderPrice(String orderId, HttpHeaders headers) {\n        Order order \u003d orderRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            OrderServiceImpl.LOGGER.info(\"[Other Service][Get Order Price] Order Not Found.\");\n            return new Response\u003c\u003e(0, orderNotFound, \"-1.0\");\n        } else {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Get Order Price] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, success, order.getPrice());\n        }\n    }","returnType":"Response","methodName":"getOrderPrice","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.getOrderPrice","classId":"order.service.OrderServiceImpl","line":296,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(UUID.fromString(orderId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"getOrderPrice","parentClassId":"order.service.OrderServiceImpl","lineNumber":298,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/orderPay/{orderId}\")\n    public HttpEntity payOrder(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Pay Order] Order Id: {}\", orderId);\n        // Order\n        return ok(orderService.payOrder(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"payOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.payOrder","classId":"order.controller.OrderController","line":89,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/orderPay/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.payOrder(orderId, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"payOrder","parentClassId":"order.controller.OrderController","lineNumber":94,"calledMethodName":"payOrder","calledServiceId":"orderService","statementDeclaration":"orderService.payOrder(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response payOrder(String orderId, HttpHeaders headers) {\n        Order order \u003d orderRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            order.setStatus(OrderStatus.PAID.getCode());\n            orderRepository.save(order);\n            return new Response\u003c\u003e(1, \"Pay Order Success.\", order);\n        }\n    }","returnType":"Response","methodName":"payOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.payOrder","classId":"order.service.OrderServiceImpl","line":308,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(UUID.fromString(orderId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"payOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":310,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/{orderId}\")\n    public HttpEntity getOrderById(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Get Order By Id] Order Id: {}\", orderId);\n        // Order\n        return ok(orderService.getOrderById(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"getOrderById","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.getOrderById","classId":"order.controller.OrderController","line":97,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.getOrderById(orderId, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"getOrderById","parentClassId":"order.controller.OrderController","lineNumber":102,"calledMethodName":"getOrderById","calledServiceId":"orderService","statementDeclaration":"orderService.getOrderById(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getOrderById(String orderId, HttpHeaders headers) {\n        Order order \u003d orderRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            return new Response\u003c\u003e(1, \"Success.\", order);\n        }\n    }","returnType":"Response","methodName":"getOrderById","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.getOrderById","classId":"order.service.OrderServiceImpl","line":320,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(UUID.fromString(orderId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"getOrderById","parentClassId":"order.service.OrderServiceImpl","lineNumber":322,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/status/{orderId}/{status}\")\n    public HttpEntity modifyOrder(@PathVariable String orderId, @PathVariable int status, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Modify Order Status] Order Id: {}\", orderId);\n        // Order\n        return ok(orderService.modifyOrder(orderId, status, headers));\n    }","returnType":"HttpEntity","methodName":"modifyOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.modifyOrder","classId":"order.controller.OrderController","line":105,"msArgumentList":[{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/status/{orderId}/{status}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.modifyOrder(orderId, status, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"modifyOrder","parentClassId":"order.controller.OrderController","lineNumber":110,"calledMethodName":"modifyOrder","calledServiceId":"orderService","statementDeclaration":"orderService.modifyOrder(orderId, status, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyOrder(String orderId, int status, HttpHeaders headers) {\n        Order order \u003d orderRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            order.setStatus(status);\n            orderRepository.save(order);\n            return new Response\u003c\u003e(1, \"Modify Order Success\", order);\n        }\n    }","returnType":"Response","methodName":"modifyOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.modifyOrder","classId":"order.service.OrderServiceImpl","line":284,"msArgumentList":[{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(UUID.fromString(orderId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"modifyOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":286,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order/security/{checkDate}/{accountId}\")\n    public HttpEntity securityInfoCheck(@PathVariable Date checkDate, @PathVariable String accountId,\n                                        @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Security Info Get] {}\", accountId);\n        return ok(orderService.checkSecurityAboutOrder(checkDate, accountId, headers));\n    }","returnType":"HttpEntity","methodName":"securityInfoCheck","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.securityInfoCheck","classId":"order.controller.OrderController","line":114,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order/security/{checkDate}/{accountId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.checkSecurityAboutOrder(checkDate, accountId, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"securityInfoCheck","parentClassId":"order.controller.OrderController","lineNumber":119,"calledMethodName":"checkSecurityAboutOrder","calledServiceId":"orderService","statementDeclaration":"orderService.checkSecurityAboutOrder(checkDate, accountId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response checkSecurityAboutOrder(Date dateFrom, String accountId, HttpHeaders headers) {\n        OrderSecurity result \u003d new OrderSecurity();\n        ArrayList\u003cOrder\u003e orders \u003d orderRepository.findByAccountId(UUID.fromString(accountId));\n        int countOrderInOneHour \u003d 0;\n        int countTotalValidOrder \u003d 0;\n        Calendar ca \u003d Calendar.getInstance();\n        ca.setTime(dateFrom);\n        ca.add(Calendar.HOUR_OF_DAY, -1);\n        dateFrom \u003d ca.getTime();\n        for (Order order : orders) {\n            if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode() ||\n                    order.getStatus() \u003d\u003d OrderStatus.PAID.getCode() ||\n                    order.getStatus() \u003d\u003d OrderStatus.COLLECTED.getCode()) {\n                countTotalValidOrder +\u003d 1;\n            }\n            if (order.getBoughtDate().after(dateFrom)) {\n                countOrderInOneHour +\u003d 1;\n            }\n        }\n        result.setOrderNumInLastOneHour(countOrderInOneHour);\n        result.setOrderNumOfValidOrder(countTotalValidOrder);\n        return new Response\u003c\u003e(1, \"Check Security Success . \", result);\n    }","returnType":"Response","methodName":"checkSecurityAboutOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.checkSecurityAboutOrder","classId":"order.service.OrderServiceImpl","line":340,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findByAccountId(UUID.fromString(accountId))","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"checkSecurityAboutOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":343,"calledMethodName":"findByAccountId","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findByAccountId(UUID.fromString(accountId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findByAccountId","classId":"order.repository.OrderRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/order\")\n    public HttpEntity saveOrderInfo(@RequestBody Order orderInfo,\n                                    @RequestHeader HttpHeaders headers) {\n\n        OrderController.LOGGER.info(\"[Order Other Service][Verify Login] Success\");\n        return ok(orderService.saveChanges(orderInfo, headers));\n    }","returnType":"HttpEntity","methodName":"saveOrderInfo","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.saveOrderInfo","classId":"order.controller.OrderController","line":123,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/order\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.saveChanges(orderInfo, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"saveOrderInfo","parentClassId":"order.controller.OrderController","lineNumber":129,"calledMethodName":"saveChanges","calledServiceId":"orderService","statementDeclaration":"orderService.saveChanges(orderInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response saveChanges(Order order, HttpHeaders headers) {\n\n        Order oldOrder \u003d orderRepository.findById(order.getId());\n        if (oldOrder \u003d\u003d null) {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Modify Order] Fail.Order not found.\");\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            oldOrder.setAccountId(order.getAccountId());\n            oldOrder.setBoughtDate(order.getBoughtDate());\n            oldOrder.setTravelDate(order.getTravelDate());\n            oldOrder.setTravelTime(order.getTravelTime());\n            oldOrder.setCoachNumber(order.getCoachNumber());\n            oldOrder.setSeatClass(order.getSeatClass());\n            oldOrder.setSeatNumber(order.getSeatNumber());\n            oldOrder.setFrom(order.getFrom());\n            oldOrder.setTo(order.getTo());\n            oldOrder.setStatus(order.getStatus());\n            oldOrder.setTrainNumber(order.getTrainNumber());\n            oldOrder.setPrice(order.getPrice());\n            oldOrder.setContactsName(order.getContactsName());\n            oldOrder.setContactsDocumentNumber(order.getContactsDocumentNumber());\n            oldOrder.setDocumentType(order.getDocumentType());\n            orderRepository.save(oldOrder);\n            OrderServiceImpl.LOGGER.info(\"[Order Service] Success.\");\n            return new Response\u003c\u003e(1, success, oldOrder);\n        }\n    }","returnType":"Response","methodName":"saveChanges","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.saveChanges","classId":"order.service.OrderServiceImpl","line":195,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(order.getId())","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"saveChanges","parentClassId":"order.service.OrderServiceImpl","lineNumber":198,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(order.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/order/admin\")\n    public HttpEntity updateOrder(@RequestBody Order order, @RequestHeader HttpHeaders headers) {\n        // Order\n        return ok(orderService.updateOrder(order, headers));\n    }","returnType":"HttpEntity","methodName":"updateOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.updateOrder","classId":"order.controller.OrderController","line":132,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/order/admin\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.updateOrder(order, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"updateOrder","parentClassId":"order.controller.OrderController","lineNumber":136,"calledMethodName":"updateOrder","calledServiceId":"orderService","statementDeclaration":"orderService.updateOrder(order, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateOrder(Order order, HttpHeaders headers) {\n        LOGGER.info(\"UPDATE ORDER INFO: \" + order.toString());\n        Order oldOrder \u003d orderRepository.findById(order.getId());\n        if (oldOrder \u003d\u003d null) {\n            OrderServiceImpl.LOGGER.info(\"[Order Service][Admin Update Order] Fail.Order not found.\");\n            return new Response\u003c\u003e(0, \"Order Not Found, Can\u0027t update\", null);\n        } else {\n            OrderServiceImpl.LOGGER.info(\"{}\", oldOrder.toString());\n            oldOrder.setAccountId(order.getAccountId());\n            oldOrder.setBoughtDate(order.getBoughtDate());\n            oldOrder.setTravelDate(order.getTravelDate());\n            oldOrder.setTravelTime(order.getTravelTime());\n            oldOrder.setCoachNumber(order.getCoachNumber());\n            oldOrder.setSeatClass(order.getSeatClass());\n            oldOrder.setSeatNumber(order.getSeatNumber());\n            oldOrder.setFrom(order.getFrom());\n            oldOrder.setTo(order.getTo());\n            oldOrder.setStatus(order.getStatus());\n            oldOrder.setTrainNumber(order.getTrainNumber());\n            oldOrder.setPrice(order.getPrice());\n            oldOrder.setContactsName(order.getContactsName());\n            oldOrder.setContactsDocumentNumber(order.getContactsDocumentNumber());\n            oldOrder.setDocumentType(order.getDocumentType());\n            orderRepository.save(oldOrder);\n            OrderServiceImpl.LOGGER.info(\"[Order Service] [Admin Update Order] Success.\");\n            return new Response\u003c\u003e(1, \"Admin Update Order Success\", oldOrder);\n        }\n    }","returnType":"Response","methodName":"updateOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.updateOrder","classId":"order.service.OrderServiceImpl","line":394,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(order.getId())","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"updateOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":397,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(order.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/order/{orderId}\")\n    public HttpEntity deleteOrder(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Delete Order] Order Id: {}\", orderId);\n        // Order\n        return ok(orderService.deleteOrder(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.deleteOrder","classId":"order.controller.OrderController","line":140,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/order/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.deleteOrder(orderId, headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"deleteOrder","parentClassId":"order.controller.OrderController","lineNumber":145,"calledMethodName":"deleteOrder","calledServiceId":"orderService","statementDeclaration":"orderService.deleteOrder(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteOrder(String orderId, HttpHeaders headers) {\n        UUID orderUuid \u003d UUID.fromString(orderId);\n        Order order \u003d orderRepository.findById(orderUuid);\n\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"Order Not Exist.\", null);\n        } else {\n            orderRepository.deleteById(orderUuid);\n            return new Response\u003c\u003e(1, \"Delete Order Success\", order);\n        }\n    }","returnType":"Response","methodName":"deleteOrder","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.deleteOrder","classId":"order.service.OrderServiceImpl","line":365,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findById(orderUuid)","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"deleteOrder","parentClassId":"order.service.OrderServiceImpl","lineNumber":368,"calledMethodName":"findById","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findById(orderUuid)"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findById","classId":"order.repository.OrderRepository","line":17,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"classId":"order.controller.OrderController","packageName":"order.controller","className":"OrderController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/order\")\n    public HttpEntity findAllOrder(@RequestHeader HttpHeaders headers) {\n        OrderController.LOGGER.info(\"[Order Other Service][Find All Order]\");\n        // ArrayList\u003cOrder\u003e\n        return ok(orderService.getAllOrders(headers));\n    }","returnType":"HttpEntity","methodName":"findAllOrder","className":"OrderController","packageName":"order.controller","methodId":"order.controller.OrderController.findAllOrder","classId":"order.controller.OrderController","line":150,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/order\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"orderService.getAllOrders(headers)","parentPackageName":"order.controller","parentClassName":"OrderController","parentMethodName":"findAllOrder","parentClassId":"order.controller.OrderController","lineNumber":155,"calledMethodName":"getAllOrders","calledServiceId":"orderService","statementDeclaration":"orderService.getAllOrders(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-service/src/main/java/order/controller/OrderController.java","directoryName":""},"code":"@Autowired\n    private OrderService orderService;","fieldClass":"OrderService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderController","parentPackageName":"order.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"classId":"order.service.OrderServiceImpl","packageName":"order.service","className":"OrderServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllOrders(HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d orderRepository.findAll();\n        if (orders !\u003d null \u0026\u0026 !orders.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Success.\", orders);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content.\", null);\n        }\n    }","returnType":"Response","methodName":"getAllOrders","className":"OrderServiceImpl","packageName":"order.service","methodId":"order.service.OrderServiceImpl.getAllOrders","classId":"order.service.OrderServiceImpl","line":274,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"orderRepository.findAll()","parentPackageName":"order.service","parentClassName":"OrderServiceImpl","parentMethodName":"getAllOrders","parentClassId":"order.service.OrderServiceImpl","lineNumber":276,"calledMethodName":"findAll","calledServiceId":"orderRepository","statementDeclaration":"orderRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-service/src/main/java/order/service/OrderServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderRepository orderRepository;","fieldClass":"OrderRepository","fieldVariable":"orderRepository","parentMethod":{"parentClassName":"OrderServiceImpl","parentPackageName":"order.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"classId":"order.repository.OrderRepository","packageName":"order.repository","className":"OrderRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-service/src/main/java/order/repository/OrderRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cOrder\u003e findAll();","returnType":"ArrayList\u003cOrder\u003e","methodName":"findAll","className":"OrderRepository","packageName":"order.repository","methodId":"order.repository.OrderRepository.findAll","classId":"order.repository.OrderRepository","line":20,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Route Service ] !\";\n    }","returnType":"String","methodName":"home","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.home","classId":"route.controller.RouteController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@PostMapping(path \u003d \"/routes\")\n    public ResponseEntity\u003cResponse\u003e createAndModifyRoute(@RequestBody RouteInfo createAndModifyRouteInfo, @RequestHeader HttpHeaders headers) {\n        RouteController.LOGGER.info(\"Create Route id: {}\", createAndModifyRouteInfo.getId());\n        return ok(routeService.createAndModify(createAndModifyRouteInfo, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"createAndModifyRoute","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.createAndModifyRoute","classId":"route.controller.RouteController","line":31,"msArgumentList":[{"returnType":"RouteInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/routes\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"routeService.createAndModify(createAndModifyRouteInfo, headers)","parentPackageName":"route.controller","parentClassName":"RouteController","parentMethodName":"createAndModifyRoute","parentClassId":"route.controller.RouteController","lineNumber":34,"calledMethodName":"createAndModify","calledServiceId":"routeService","statementDeclaration":"routeService.createAndModify(createAndModifyRouteInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@Autowired\n    private RouteService routeService;","fieldClass":"RouteService","fieldVariable":"routeService","parentMethod":{"parentClassName":"RouteController","parentPackageName":"route.controller"},"line":23},"msService":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"classId":"route.service.RouteServiceImpl","packageName":"route.service","className":"RouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createAndModify(RouteInfo info, HttpHeaders headers) {\n        RouteServiceImpl.LOGGER.info(\"Create And Modify Start: {} End: {}\", info.getStartStation(), info.getEndStation());\n\n        String[] stations \u003d info.getStationList().split(\",\");\n        String[] distances \u003d info.getDistanceList().split(\",\");\n        List\u003cString\u003e stationList \u003d new ArrayList\u003c\u003e();\n        List\u003cInteger\u003e distanceList \u003d new ArrayList\u003c\u003e();\n        if (stations.length !\u003d distances.length) {\n            RouteServiceImpl.LOGGER.info(\"Station Number Not Equal To Distance Number\");\n\n            return new Response\u003c\u003e(0, \"Station Number Not Equal To Distance Number\", null);\n        }\n        for (int i \u003d 0; i \u003c stations.length; i++) {\n            stationList.add(stations[i]);\n            distanceList.add(Integer.parseInt(distances[i]));\n        }\n        int maxIdArrayLen \u003d 10;\n        if (info.getId() \u003d\u003d null || info.getId().length() \u003c maxIdArrayLen) {\n            Route route \u003d new Route();\n            route.setId(UUID.randomUUID().toString());\n            route.setStartStationId(info.getStartStation());\n            route.setTerminalStationId(info.getEndStation());\n            route.setStations(stationList);\n            route.setDistances(distanceList);\n            routeRepository.save(route);\n            RouteServiceImpl.LOGGER.info(\"Save success\");\n\n            return new Response\u003c\u003e(1, \"Save Success\", route);\n        } else {\n            Route route \u003d routeRepository.findById(info.getId());\n            if (route \u003d\u003d null) {\n                route \u003d new Route();\n                route.setId(info.getId());\n            }\n\n            route.setStartStationId(info.getStartStation());\n            route.setTerminalStationId(info.getEndStation());\n            route.setStations(stationList);\n            route.setDistances(distanceList);\n            routeRepository.save(route);\n            RouteServiceImpl.LOGGER.info(\"Modify success\");\n            return new Response\u003c\u003e(1, \"Modify success\", route);\n        }\n    }","returnType":"Response","methodName":"createAndModify","className":"RouteServiceImpl","packageName":"route.service","methodId":"route.service.RouteServiceImpl.createAndModify","classId":"route.service.RouteServiceImpl","line":29,"msArgumentList":[{"returnType":"RouteInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"routeRepository.findById(info.getId())","parentPackageName":"route.service","parentClassName":"RouteServiceImpl","parentMethodName":"createAndModify","parentClassId":"route.service.RouteServiceImpl","lineNumber":59,"calledMethodName":"findById","calledServiceId":"routeRepository","statementDeclaration":"routeRepository.findById(info.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Autowired\n    private RouteRepository routeRepository;","fieldClass":"RouteRepository","fieldVariable":"routeRepository","parentMethod":{"parentClassName":"RouteServiceImpl","parentPackageName":"route.service"},"line":23},"msRepository":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"classId":"route.repository.RouteRepository","packageName":"route.repository","className":"RouteRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Route findById(String id);","returnType":"Route","methodName":"findById","className":"RouteRepository","packageName":"route.repository","methodId":"route.repository.RouteRepository.findById","classId":"route.repository.RouteRepository","line":21,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@DeleteMapping(path \u003d \"/routes/{routeId}\")\n    public HttpEntity deleteRoute(@PathVariable String routeId, @RequestHeader HttpHeaders headers) {\n        RouteController.LOGGER.info(\"Route id: {}\", routeId);\n        return ok(routeService.deleteRoute(routeId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteRoute","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.deleteRoute","classId":"route.controller.RouteController","line":37,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/routes/{routeId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"routeService.deleteRoute(routeId, headers)","parentPackageName":"route.controller","parentClassName":"RouteController","parentMethodName":"deleteRoute","parentClassId":"route.controller.RouteController","lineNumber":40,"calledMethodName":"deleteRoute","calledServiceId":"routeService","statementDeclaration":"routeService.deleteRoute(routeId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@Autowired\n    private RouteService routeService;","fieldClass":"RouteService","fieldVariable":"routeService","parentMethod":{"parentClassName":"RouteController","parentPackageName":"route.controller"},"line":23},"msService":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"classId":"route.service.RouteServiceImpl","packageName":"route.service","className":"RouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteRoute(String routeId, HttpHeaders headers) {\n        routeRepository.removeRouteById(routeId);\n        Route route \u003d routeRepository.findById(routeId);\n        if (route \u003d\u003d null) {\n            return new Response\u003c\u003e(1, \"Delete Success\", routeId);\n        } else {\n            return new Response\u003c\u003e(0, \"Delete failed, Reason unKnown with this routeId\", routeId);\n        }\n    }","returnType":"Response","methodName":"deleteRoute","className":"RouteServiceImpl","packageName":"route.service","methodId":"route.service.RouteServiceImpl.deleteRoute","classId":"route.service.RouteServiceImpl","line":75,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"routeRepository.removeRouteById(routeId)","parentPackageName":"route.service","parentClassName":"RouteServiceImpl","parentMethodName":"deleteRoute","parentClassId":"route.service.RouteServiceImpl","lineNumber":77,"calledMethodName":"removeRouteById","calledServiceId":"routeRepository","statementDeclaration":"routeRepository.removeRouteById(routeId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Autowired\n    private RouteRepository routeRepository;","fieldClass":"RouteRepository","fieldVariable":"routeRepository","parentMethod":{"parentClassName":"RouteServiceImpl","parentPackageName":"route.service"},"line":23},"msRepository":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"classId":"route.repository.RouteRepository","packageName":"route.repository","className":"RouteRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"code":"void removeRouteById(String id);","returnType":"void","methodName":"removeRouteById","className":"RouteRepository","packageName":"route.repository","methodId":"route.repository.RouteRepository.removeRouteById","classId":"route.repository.RouteRepository","line":37,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/routes/{routeId}\")\n    public HttpEntity queryById(@PathVariable String routeId, @RequestHeader HttpHeaders headers) {\n        RouteController.LOGGER.info(\"Route id: {}\", routeId);\n        return ok(routeService.getRouteById(routeId, headers));\n    }","returnType":"HttpEntity","methodName":"queryById","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.queryById","classId":"route.controller.RouteController","line":43,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/routes/{routeId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"routeService.getRouteById(routeId, headers)","parentPackageName":"route.controller","parentClassName":"RouteController","parentMethodName":"queryById","parentClassId":"route.controller.RouteController","lineNumber":46,"calledMethodName":"getRouteById","calledServiceId":"routeService","statementDeclaration":"routeService.getRouteById(routeId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@Autowired\n    private RouteService routeService;","fieldClass":"RouteService","fieldVariable":"routeService","parentMethod":{"parentClassName":"RouteController","parentPackageName":"route.controller"},"line":23},"msService":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"classId":"route.service.RouteServiceImpl","packageName":"route.service","className":"RouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getRouteById(String routeId, HttpHeaders headers) {\n        Route route \u003d routeRepository.findById(routeId);\n        if (route \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"No content with the routeId\", null);\n        } else {\n            return new Response\u003c\u003e(1, success, route);\n        }\n\n    }","returnType":"Response","methodName":"getRouteById","className":"RouteServiceImpl","packageName":"route.service","methodId":"route.service.RouteServiceImpl.getRouteById","classId":"route.service.RouteServiceImpl","line":86,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"routeRepository.findById(routeId)","parentPackageName":"route.service","parentClassName":"RouteServiceImpl","parentMethodName":"getRouteById","parentClassId":"route.service.RouteServiceImpl","lineNumber":88,"calledMethodName":"findById","calledServiceId":"routeRepository","statementDeclaration":"routeRepository.findById(routeId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Autowired\n    private RouteRepository routeRepository;","fieldClass":"RouteRepository","fieldVariable":"routeRepository","parentMethod":{"parentClassName":"RouteServiceImpl","parentPackageName":"route.service"},"line":23},"msRepository":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"classId":"route.repository.RouteRepository","packageName":"route.repository","className":"RouteRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Route findById(String id);","returnType":"Route","methodName":"findById","className":"RouteRepository","packageName":"route.repository","methodId":"route.repository.RouteRepository.findById","classId":"route.repository.RouteRepository","line":21,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/routes\")\n    public HttpEntity queryAll(@RequestHeader HttpHeaders headers) {\n        return ok(routeService.getAllRoutes(headers));\n    }","returnType":"HttpEntity","methodName":"queryAll","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.queryAll","classId":"route.controller.RouteController","line":49,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/routes\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"routeService.getAllRoutes(headers)","parentPackageName":"route.controller","parentClassName":"RouteController","parentMethodName":"queryAll","parentClassId":"route.controller.RouteController","lineNumber":51,"calledMethodName":"getAllRoutes","calledServiceId":"routeService","statementDeclaration":"routeService.getAllRoutes(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@Autowired\n    private RouteService routeService;","fieldClass":"RouteService","fieldVariable":"routeService","parentMethod":{"parentClassName":"RouteController","parentPackageName":"route.controller"},"line":23},"msService":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"classId":"route.service.RouteServiceImpl","packageName":"route.service","className":"RouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllRoutes(HttpHeaders headers) {\n        ArrayList\u003cRoute\u003e routes \u003d routeRepository.findAll();\n        if (routes !\u003d null \u0026\u0026 !routes.isEmpty()) {\n            return new Response\u003c\u003e(1, success, routes);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content\", null);\n        }\n    }","returnType":"Response","methodName":"getAllRoutes","className":"RouteServiceImpl","packageName":"route.service","methodId":"route.service.RouteServiceImpl.getAllRoutes","classId":"route.service.RouteServiceImpl","line":116,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"routeRepository.findAll()","parentPackageName":"route.service","parentClassName":"RouteServiceImpl","parentMethodName":"getAllRoutes","parentClassId":"route.service.RouteServiceImpl","lineNumber":118,"calledMethodName":"findAll","calledServiceId":"routeRepository","statementDeclaration":"routeRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Autowired\n    private RouteRepository routeRepository;","fieldClass":"RouteRepository","fieldVariable":"routeRepository","parentMethod":{"parentClassName":"RouteServiceImpl","parentPackageName":"route.service"},"line":23},"msRepository":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"classId":"route.repository.RouteRepository","packageName":"route.repository","className":"RouteRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cRoute\u003e findAll();","returnType":"ArrayList\u003cRoute\u003e","methodName":"findAll","className":"RouteRepository","packageName":"route.repository","methodId":"route.repository.RouteRepository.findAll","classId":"route.repository.RouteRepository","line":29,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"classId":"route.controller.RouteController","packageName":"route.controller","className":"RouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/routes/{startId}/{terminalId}\")\n    public HttpEntity queryByStartAndTerminal(@PathVariable String startId,\n                                              @PathVariable String terminalId,\n                                              @RequestHeader HttpHeaders headers) {\n        RouteController.LOGGER.info(\"startId : {}, terminalId: {}\", startId, terminalId);\n        return ok(routeService.getRouteByStartAndTerminal(startId, terminalId, headers));\n    }","returnType":"HttpEntity","methodName":"queryByStartAndTerminal","className":"RouteController","packageName":"route.controller","methodId":"route.controller.RouteController.queryByStartAndTerminal","classId":"route.controller.RouteController","line":54,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/routes/{startId}/{terminalId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"routeService.getRouteByStartAndTerminal(startId, terminalId, headers)","parentPackageName":"route.controller","parentClassName":"RouteController","parentMethodName":"queryByStartAndTerminal","parentClassId":"route.controller.RouteController","lineNumber":59,"calledMethodName":"getRouteByStartAndTerminal","calledServiceId":"routeService","statementDeclaration":"routeService.getRouteByStartAndTerminal(startId, terminalId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-service/src/main/java/route/controller/RouteController.java","directoryName":""},"code":"@Autowired\n    private RouteService routeService;","fieldClass":"RouteService","fieldVariable":"routeService","parentMethod":{"parentClassName":"RouteController","parentPackageName":"route.controller"},"line":23},"msService":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"classId":"route.service.RouteServiceImpl","packageName":"route.service","className":"RouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getRouteByStartAndTerminal(String startId, String terminalId, HttpHeaders headers) {\n        ArrayList\u003cRoute\u003e routes \u003d routeRepository.findAll();\n        RouteServiceImpl.LOGGER.info(\"[Route Service] Find All: {}\", routes.size());\n        List\u003cRoute\u003e resultList \u003d new ArrayList\u003c\u003e();\n        for (Route route : routes) {\n            if (route.getStations().contains(startId) \u0026\u0026\n                    route.getStations().contains(terminalId) \u0026\u0026\n                    route.getStations().indexOf(startId) \u003c route.getStations().indexOf(terminalId)) {\n                resultList.add(route);\n            }\n        }\n        if (!resultList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, resultList);\n        } else {\n            return new Response\u003c\u003e(0, \"No routes with the startId and terminalId\", null);\n        }\n    }","returnType":"Response","methodName":"getRouteByStartAndTerminal","className":"RouteServiceImpl","packageName":"route.service","methodId":"route.service.RouteServiceImpl.getRouteByStartAndTerminal","classId":"route.service.RouteServiceImpl","line":97,"msArgumentList":[{"returnType":"String"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"routeRepository.findAll()","parentPackageName":"route.service","parentClassName":"RouteServiceImpl","parentMethodName":"getRouteByStartAndTerminal","parentClassId":"route.service.RouteServiceImpl","lineNumber":99,"calledMethodName":"findAll","calledServiceId":"routeRepository","statementDeclaration":"routeRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-route-service/src/main/java/route/service/RouteServiceImpl.java","directoryName":""},"code":"@Autowired\n    private RouteRepository routeRepository;","fieldClass":"RouteRepository","fieldVariable":"routeRepository","parentMethod":{"parentClassName":"RouteServiceImpl","parentPackageName":"route.service"},"line":23},"msRepository":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"classId":"route.repository.RouteRepository","packageName":"route.repository","className":"RouteRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-route-service/src/main/java/route/repository/RouteRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cRoute\u003e findAll();","returnType":"ArrayList\u003cRoute\u003e","methodName":"findAll","className":"RouteRepository","packageName":"route.repository","methodId":"route.repository.RouteRepository.findAll","classId":"route.repository.RouteRepository","line":29,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"classId":"rebook.controller.RebookController","packageName":"rebook.controller","className":"RebookController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Rebook Service ] !\";\n    }","returnType":"String","methodName":"home","className":"RebookController","packageName":"rebook.controller","methodId":"rebook.controller.RebookController.home","classId":"rebook.controller.RebookController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"classId":"rebook.controller.RebookController","packageName":"rebook.controller","className":"RebookController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/rebook/difference\")\n    public HttpEntity payDifference(@RequestBody RebookInfo info,\n                                    @RequestHeader HttpHeaders headers) {\n        return ok(service.payDifference(info, headers));\n    }","returnType":"HttpEntity","methodName":"payDifference","className":"RebookController","packageName":"rebook.controller","methodId":"rebook.controller.RebookController.payDifference","classId":"rebook.controller.RebookController","line":31,"msArgumentList":[{"returnType":"RebookInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/rebook/difference\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"service.payDifference(info, headers)","parentPackageName":"rebook.controller","parentClassName":"RebookController","parentMethodName":"payDifference","parentClassId":"rebook.controller.RebookController","lineNumber":34,"calledMethodName":"payDifference","calledServiceId":"service","statementDeclaration":"service.payDifference(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"@Autowired\n    RebookService service;","fieldClass":"RebookService","fieldVariable":"service","parentMethod":{"parentClassName":"RebookController","parentPackageName":"rebook.controller"},"line":21},"msService":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/service/RebookServiceImpl.java","directoryName":""},"classId":"rebook.service.RebookServiceImpl","packageName":"rebook.service","className":"RebookServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/service/RebookServiceImpl.java","directoryName":""},"code":"@Override\n    public Response payDifference(RebookInfo info, HttpHeaders httpHeaders) {\n\n        Response queryOrderResult \u003d getOrderByRebookInfo(info, httpHeaders);\n\n        if (queryOrderResult.getStatus() \u003d\u003d 0) {\n            return new Response\u003c\u003e(0, queryOrderResult.getMsg(), null);\n        }\n        Order order \u003d (Order) queryOrderResult.getData();\n\n        TripAllDetailInfo gtdi \u003d new TripAllDetailInfo();\n        gtdi.setFrom(queryForStationName(order.getFrom(), httpHeaders));\n        gtdi.setTo(queryForStationName(order.getTo(), httpHeaders));\n        gtdi.setTravelDate(info.getDate());\n        gtdi.setTripId(info.getTripId());\n        // TripAllDetail\n        Response gtdrResposne \u003d getTripAllDetailInformation(gtdi, info.getTripId(), httpHeaders);\n        TripAllDetail gtdr \u003d (TripAllDetail) gtdrResposne.getData();\n\n        String ticketPrice \u003d \"0\";\n        if (info.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            ticketPrice \u003d gtdr.getTripResponse().getPriceForConfortClass();\n        } else if (info.getSeatType() \u003d\u003d SeatClass.SECONDCLASS.getCode()) {\n            ticketPrice \u003d gtdr.getTripResponse().getPriceForEconomyClass();\n        }\n        String oldPrice \u003d order.getPrice();\n        BigDecimal priceOld \u003d new BigDecimal(oldPrice);\n        BigDecimal priceNew \u003d new BigDecimal(ticketPrice);\n\n        if (payDifferentMoney(info.getOrderId(), info.getTripId(), info.getLoginId(), priceNew.subtract(priceOld).toString(), httpHeaders)) {\n            return updateOrder(order, info, gtdr, ticketPrice, httpHeaders);\n        } else {\n            return new Response\u003c\u003e(0, \"Can\u0027t pay the difference,please try again\", null);\n        }\n    }","returnType":"Response","methodName":"payDifference","className":"RebookServiceImpl","packageName":"rebook.service","methodId":"rebook.service.RebookServiceImpl.payDifference","classId":"rebook.service.RebookServiceImpl","line":115,"msArgumentList":[{"returnType":"RebookInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"classId":"rebook.controller.RebookController","packageName":"rebook.controller","className":"RebookController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/rebook\")\n    public HttpEntity rebook(@RequestBody RebookInfo info, @RequestHeader HttpHeaders headers) {\n        RebookController.LOGGER.info(\"[Rebook Service] OrderId: {}  Old Trip Id: {}  New Trip Id: {}  Date: {}  Seat Type: {}\", info.getOrderId(), info.getOldTripId(), info.getTripId(), info.getDate(), info.getSeatType());\n        return ok(service.rebook(info, headers));\n    }","returnType":"HttpEntity","methodName":"rebook","className":"RebookController","packageName":"rebook.controller","methodId":"rebook.controller.RebookController.rebook","classId":"rebook.controller.RebookController","line":37,"msArgumentList":[{"returnType":"RebookInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/rebook\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"service.rebook(info, headers)","parentPackageName":"rebook.controller","parentClassName":"RebookController","parentMethodName":"rebook","parentClassId":"rebook.controller.RebookController","lineNumber":40,"calledMethodName":"rebook","calledServiceId":"service","statementDeclaration":"service.rebook(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/controller/RebookController.java","directoryName":""},"code":"@Autowired\n    RebookService service;","fieldClass":"RebookService","fieldVariable":"service","parentMethod":{"parentClassName":"RebookController","parentPackageName":"rebook.controller"},"line":21},"msService":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/service/RebookServiceImpl.java","directoryName":""},"classId":"rebook.service.RebookServiceImpl","packageName":"rebook.service","className":"RebookServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-rebook-service/src/main/java/rebook/service/RebookServiceImpl.java","directoryName":""},"code":"@Override\n    public Response rebook(RebookInfo info, HttpHeaders httpHeaders) {\n\n        Response\u003cOrder\u003e queryOrderResult \u003d getOrderByRebookInfo(info, httpHeaders);\n\n        if (queryOrderResult.getStatus() \u003d\u003d 1) {\n            if (queryOrderResult.getData().getStatus() !\u003d 1) {\n                return new Response\u003c\u003e(0, \"you order not suitable to rebook!\", null);\n            }\n        } else {\n            return new Response(0, \"order not found\", null);\n        }\n\n        Order order \u003d queryOrderResult.getData();\n        int status \u003d order.getStatus();\n        if (status \u003d\u003d OrderStatus.NOTPAID.getCode()) {\n            return new Response\u003c\u003e(0, \"You haven\u0027t paid the original ticket!\", null);\n        } else if (status \u003d\u003d OrderStatus.PAID.getCode()) {\n            // do nothing\n        } else if (status \u003d\u003d OrderStatus.CHANGE.getCode()) {\n            return new Response\u003c\u003e(0, \"You have already changed your ticket and you can only change one time.\", null);\n        } else if (status \u003d\u003d OrderStatus.COLLECTED.getCode()) {\n            return new Response\u003c\u003e(0, \"You have already collected your ticket and you can change it now.\", null);\n        } else {\n            return new Response\u003c\u003e(0, \"You can\u0027t change your ticket.\", null);\n        }\n\n        //Check the current time and the bus time of the old order, and judge whether the ticket can be changed according to the time. The ticket cannot be changed after two hours.\n        if (!checkTime(order.getTravelDate(), order.getTravelTime())) {\n            return new Response\u003c\u003e(0, \"You can only change the ticket before the train start or within 2 hours after the train start.\", null);\n        }\n\n        //The departure and destination cannot be changed, only the train number, seat and time can be changed\n        //Check the info of seat availability and trains\n        TripAllDetailInfo gtdi \u003d new TripAllDetailInfo();\n        gtdi.setFrom(queryForStationName(order.getFrom(), httpHeaders));\n        gtdi.setTo(queryForStationName(order.getTo(), httpHeaders));\n        gtdi.setTravelDate(info.getDate());\n        gtdi.setTripId(info.getTripId());\n        Response\u003cTripAllDetail\u003e gtdr \u003d getTripAllDetailInformation(gtdi, info.getTripId(), httpHeaders);\n        if (gtdr.getStatus() \u003d\u003d 0) {\n            return new Response\u003c\u003e(0, gtdr.getMsg(), null);\n        } else {\n            TripResponse tripResponse \u003d gtdr.getData().getTripResponse();\n            if (info.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n                if (tripResponse.getConfortClass() \u003c\u003d 0) {\n                    return new Response\u003c\u003e(0, \"Seat Not Enough\", null);\n                }\n            } else {\n                if (tripResponse.getEconomyClass() \u003d\u003d SeatClass.SECONDCLASS.getCode() \u0026\u0026 tripResponse.getConfortClass() \u003c\u003d 0) {\n                    return new Response\u003c\u003e(0, \"Seat Not Enough\", null);\n                }\n            }\n        }\n\n        //Deal with the difference, more refund less compensation\n        //Return the original ticket so that someone else can book the corresponding seat\n\n        String ticketPrice \u003d \"0\";\n        if (info.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            ticketPrice \u003d ((TripAllDetail) gtdr.getData()).getTripResponse().getPriceForConfortClass();\n        } else if (info.getSeatType() \u003d\u003d SeatClass.SECONDCLASS.getCode()) {\n            ticketPrice \u003d ((TripAllDetail) gtdr.getData()).getTripResponse().getPriceForEconomyClass();\n        }\n        String oldPrice \u003d order.getPrice();\n        BigDecimal priceOld \u003d new BigDecimal(oldPrice);\n        BigDecimal priceNew \u003d new BigDecimal(ticketPrice);\n        if (priceOld.compareTo(priceNew) \u003e 0) {\n            //Refund the difference\n            String difference \u003d priceOld.subtract(priceNew).toString();\n            if (!drawBackMoney(info.getLoginId(), difference, httpHeaders)) {\n                return new Response\u003c\u003e(0, \"Can\u0027t draw back the difference money, please try again!\", null);\n            }\n            return updateOrder(order, info, (TripAllDetail) gtdr.getData(), ticketPrice, httpHeaders);\n\n        } else if (priceOld.compareTo(priceNew) \u003d\u003d 0) {\n            //do nothing\n            return updateOrder(order, info, (TripAllDetail) gtdr.getData(), ticketPrice, httpHeaders);\n        } else {\n            //make up the difference\n            String difference \u003d priceNew.subtract(priceOld).toString();\n            Order orderMoneyDifference \u003d new Order();\n            orderMoneyDifference.setDifferenceMoney(difference);\n            return new Response\u003c\u003e(2, \"Please pay the different money!\", orderMoneyDifference);\n        }\n    }","returnType":"Response","methodName":"rebook","className":"RebookServiceImpl","packageName":"rebook.service","methodId":"rebook.service.RebookServiceImpl.rebook","classId":"rebook.service.RebookServiceImpl","line":28,"msArgumentList":[{"returnType":"RebookInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"classId":"verifycode.controller.VerifyCodeController","packageName":"verifycode.controller","className":"VerifyCodeController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"@GetMapping(\"/generate\")\n    public void imageCode(@RequestHeader HttpHeaders headers,\n                          HttpServletRequest request,\n                          HttpServletResponse response) throws IOException {\n        OutputStream os \u003d response.getOutputStream();\n        Map\u003cString, Object\u003e map \u003d verifyCodeService.getImageCode(60, 20, os, request, response, headers);\n        String simpleCaptcha \u003d \"simpleCaptcha\";\n        request.getSession().setAttribute(simpleCaptcha, map.get(\"strEnsure\").toString().toLowerCase());\n        request.getSession().setAttribute(\"codeTime\", System.currentTimeMillis());\n        try {\n            ImageIO.write((BufferedImage) map.get(\"image\"), \"JPEG\", os);\n        } catch (IOException e) {\n            //error\n            String error \u003d \"Can\u0027t generate verification code\";\n            os.write(error.getBytes());\n        }\n    }","returnType":"void","methodName":"imageCode","className":"VerifyCodeController","packageName":"verifycode.controller","methodId":"verifycode.controller.VerifyCodeController.imageCode","classId":"verifycode.controller.VerifyCodeController","line":29,"msArgumentList":[{"returnType":"HttpHeaders"},{"returnType":"HttpServletRequest"},{"returnType":"HttpServletResponse"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"verifyCodeService.getImageCode(60, 20, os, request, response, headers)","parentPackageName":"verifycode.controller","parentClassName":"VerifyCodeController","parentMethodName":"imageCode","parentClassId":"verifycode.controller.VerifyCodeController","lineNumber":34,"calledMethodName":"getImageCode","calledServiceId":"verifyCodeService","statementDeclaration":"verifyCodeService.getImageCode(60, 20, os, request, response, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"@Autowired\n    private VerifyCodeService verifyCodeService;","fieldClass":"VerifyCodeService","fieldVariable":"verifyCodeService","parentMethod":{"parentClassName":"VerifyCodeController","parentPackageName":"verifycode.controller"},"line":26},"msService":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/service/impl/VerifyCodeServiceImpl.java","directoryName":""},"classId":"verifycode.service.impl.VerifyCodeServiceImpl","packageName":"verifycode.service.impl","className":"VerifyCodeServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/service/impl/VerifyCodeServiceImpl.java","directoryName":""},"code":"@Override\n    public Map\u003cString, Object\u003e getImageCode(int width, int height, OutputStream os, HttpServletRequest request, HttpServletResponse response, HttpHeaders headers) {\n        Map\u003cString, Object\u003e returnMap \u003d new HashMap\u003c\u003e();\n        if (width \u003c\u003d 0) {\n            width \u003d 60;\n        }\n        if (height \u003c\u003d 0) {\n            height \u003d 20;\n        }\n        BufferedImage image \u003d new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n\n        Graphics g \u003d image.getGraphics();\n\n        Random random \u003d new Random(); //NOSONAR\n\n        g.setColor(getRandColor(200, 250));\n        g.fillRect(0, 0, width, height);\n\n        g.setFont(new Font(\"Times New Roman\", Font.PLAIN, 18));\n\n        g.setColor(getRandColor(160, 200));\n        for (int i \u003d 0; i \u003c 168; i++) {\n            int x \u003d random.nextInt(width);\n            int y \u003d random.nextInt(height);\n            int xl \u003d random.nextInt(12);\n            int yl \u003d random.nextInt(12);\n            g.drawLine(x, y, x + xl, y + yl);\n        }\n\n        String strEnsure \u003d \"\";\n\n        for (int i \u003d 0; i \u003c 4; ++i) {\n            strEnsure +\u003d mapTable[(int) (mapTable.length * Math.random())];\n\n            g.setColor(new Color(20 + random.nextInt(110), 20 + random.nextInt(110), 20 + random.nextInt(110)));\n\n            String str \u003d strEnsure.substring(i, i + 1);\n            g.drawString(str, 13 * i + 6, 16);\n        }\n\n        g.dispose();\n        returnMap.put(\"image\", image);\n        returnMap.put(\"strEnsure\", strEnsure);\n\n        Cookie cookie \u003d CookieUtil.getCookieByName(request, ysbCaptcha);\n        String cookieId;\n        if (cookie \u003d\u003d null) {\n            cookieId \u003d UUID.randomUUID().toString().replace(\"-\", \"\").toUpperCase();\n            CookieUtil.addCookie(response, ysbCaptcha, cookieId, CAPTCHA_EXPIRED);\n        } else {\n            if (cookie.getValue() !\u003d null) {\n                cookieId \u003d UUID.randomUUID().toString().replace(\"-\", \"\").toUpperCase();\n                CookieUtil.addCookie(response, ysbCaptcha, cookieId, CAPTCHA_EXPIRED);\n            } else {\n                cookieId \u003d cookie.getValue();\n            }\n        }\n        VerifyCodeServiceImpl.LOGGER.info(\" {}  ___ st\", strEnsure);\n        cacheCode.put(cookieId, strEnsure);\n        return returnMap;\n    }","returnType":"Map\u003cString,Object\u003e","methodName":"getImageCode","className":"VerifyCodeServiceImpl","packageName":"verifycode.service.impl","methodId":"verifycode.service.impl.VerifyCodeServiceImpl.getImageCode","classId":"verifycode.service.impl.VerifyCodeServiceImpl","line":49,"msArgumentList":[{"returnType":"int"},{"returnType":"int"},{"returnType":"OutputStream"},{"returnType":"HttpServletRequest"},{"returnType":"HttpServletResponse"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"classId":"verifycode.controller.VerifyCodeController","packageName":"verifycode.controller","className":"VerifyCodeController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/verify/{verifyCode}\")\n    public boolean verifyCode(@PathVariable String verifyCode, HttpServletRequest request,\n                              HttpServletResponse response, @RequestHeader HttpHeaders headers) {\n        LOGGER.info(\"receivedCode  \" + verifyCode);\n        return verifyCodeService.verifyCode(request, response, verifyCode, headers);\n    }","returnType":"boolean","methodName":"verifyCode","className":"VerifyCodeController","packageName":"verifycode.controller","methodId":"verifycode.controller.VerifyCodeController.verifyCode","classId":"verifycode.controller.VerifyCodeController","line":47,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpServletRequest"},{"returnType":"HttpServletResponse"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/verify/{verifyCode}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"verifyCodeService.verifyCode(request, response, verifyCode, headers)","parentPackageName":"verifycode.controller","parentClassName":"VerifyCodeController","parentMethodName":"verifyCode","parentClassId":"verifycode.controller.VerifyCodeController","lineNumber":51,"calledMethodName":"verifyCode","calledServiceId":"verifyCodeService","statementDeclaration":"verifyCodeService.verifyCode(request, response, verifyCode, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/controller/VerifyCodeController.java","directoryName":""},"code":"@Autowired\n    private VerifyCodeService verifyCodeService;","fieldClass":"VerifyCodeService","fieldVariable":"verifyCodeService","parentMethod":{"parentClassName":"VerifyCodeController","parentPackageName":"verifycode.controller"},"line":26},"msService":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/service/impl/VerifyCodeServiceImpl.java","directoryName":""},"classId":"verifycode.service.impl.VerifyCodeServiceImpl","packageName":"verifycode.service.impl","className":"VerifyCodeServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-verification-code-service/src/main/java/verifycode/service/impl/VerifyCodeServiceImpl.java","directoryName":""},"code":"@Override\n    public boolean verifyCode(HttpServletRequest request, HttpServletResponse response, String receivedCode, HttpHeaders headers) {\n        boolean result \u003d false;\n        Cookie cookie \u003d CookieUtil.getCookieByName(request, ysbCaptcha);\n        String cookieId;\n        if (cookie \u003d\u003d null) {\n            cookieId \u003d UUID.randomUUID().toString().replace(\"-\", \"\").toUpperCase();\n            CookieUtil.addCookie(response, ysbCaptcha, cookieId, CAPTCHA_EXPIRED);\n        } else {\n            cookieId \u003d cookie.getValue();\n        }\n\n        String code \u003d cacheCode.getIfPresent(cookieId);\n        LOGGER.info(\"GET Code By cookieId \" + cookieId + \"   is :\" + code);\n        if (code \u003d\u003d null) {\n            return false;\n        }\n        if (code.equalsIgnoreCase(receivedCode)) {\n            result \u003d true;\n        }\n        return result;\n    }","returnType":"boolean","methodName":"verifyCode","className":"VerifyCodeServiceImpl","packageName":"verifycode.service.impl","methodId":"verifycode.service.impl.VerifyCodeServiceImpl.verifyCode","classId":"verifycode.service.impl.VerifyCodeServiceImpl","line":111,"msArgumentList":[{"returnType":"HttpServletRequest"},{"returnType":"HttpServletResponse"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"welcome to [Security Service]\";\n    }","returnType":"String","methodName":"home","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.home","classId":"security.controller.SecurityController","line":26,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/securityConfigs\")\n    public HttpEntity findAllSecurityConfig(@RequestHeader HttpHeaders headers) {\n        SecurityController.LOGGER.info(\"[Security Service][Find All]\");\n        return ok(securityService.findAllSecurityConfig(headers));\n    }","returnType":"HttpEntity","methodName":"findAllSecurityConfig","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.findAllSecurityConfig","classId":"security.controller.SecurityController","line":31,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/securityConfigs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"securityService.findAllSecurityConfig(headers)","parentPackageName":"security.controller","parentClassName":"SecurityController","parentMethodName":"findAllSecurityConfig","parentClassId":"security.controller.SecurityController","lineNumber":35,"calledMethodName":"findAllSecurityConfig","calledServiceId":"securityService","statementDeclaration":"securityService.findAllSecurityConfig(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@Autowired\n    private SecurityService securityService;","fieldClass":"SecurityService","fieldVariable":"securityService","parentMethod":{"parentClassName":"SecurityController","parentPackageName":"security.controller"},"line":21},"msService":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"classId":"security.service.SecurityServiceImpl","packageName":"security.service","className":"SecurityServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Override\n    public Response findAllSecurityConfig(HttpHeaders headers) {\n        ArrayList\u003cSecurityConfig\u003e securityConfigs \u003d securityRepository.findAll();\n        if (securityConfigs !\u003d null \u0026\u0026 !securityConfigs.isEmpty()) {\n            return new Response\u003c\u003e(1, success, securityConfigs);\n        }\n        return new Response\u003c\u003e(0, \"No Content\", null);\n    }","returnType":"Response","methodName":"findAllSecurityConfig","className":"SecurityServiceImpl","packageName":"security.service","methodId":"security.service.SecurityServiceImpl.findAllSecurityConfig","classId":"security.service.SecurityServiceImpl","line":38,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"securityRepository.findAll()","parentPackageName":"security.service","parentClassName":"SecurityServiceImpl","parentMethodName":"findAllSecurityConfig","parentClassId":"security.service.SecurityServiceImpl","lineNumber":40,"calledMethodName":"findAll","calledServiceId":"securityRepository","statementDeclaration":"securityRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Autowired\n    private SecurityRepository securityRepository;","fieldClass":"SecurityRepository","fieldVariable":"securityRepository","parentMethod":{"parentClassName":"SecurityServiceImpl","parentPackageName":"security.service"},"line":28},"msRepository":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"classId":"security.repository.SecurityRepository","packageName":"security.repository","className":"SecurityRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cSecurityConfig\u003e findAll();","returnType":"ArrayList\u003cSecurityConfig\u003e","methodName":"findAll","className":"SecurityRepository","packageName":"security.repository","methodId":"security.repository.SecurityRepository.findAll","classId":"security.repository.SecurityRepository","line":22,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/securityConfigs\")\n    public HttpEntity create(@RequestBody SecurityConfig info, @RequestHeader HttpHeaders headers) {\n        SecurityController.LOGGER.info(\"[Security Service][Create] Name: {}\", info.getName());\n        return ok(securityService.addNewSecurityConfig(info, headers));\n    }","returnType":"HttpEntity","methodName":"create","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.create","classId":"security.controller.SecurityController","line":38,"msArgumentList":[{"returnType":"SecurityConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/securityConfigs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"securityService.addNewSecurityConfig(info, headers)","parentPackageName":"security.controller","parentClassName":"SecurityController","parentMethodName":"create","parentClassId":"security.controller.SecurityController","lineNumber":42,"calledMethodName":"addNewSecurityConfig","calledServiceId":"securityService","statementDeclaration":"securityService.addNewSecurityConfig(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@Autowired\n    private SecurityService securityService;","fieldClass":"SecurityService","fieldVariable":"securityService","parentMethod":{"parentClassName":"SecurityController","parentPackageName":"security.controller"},"line":21},"msService":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"classId":"security.service.SecurityServiceImpl","packageName":"security.service","className":"SecurityServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addNewSecurityConfig(SecurityConfig info, HttpHeaders headers) {\n        SecurityConfig sc \u003d securityRepository.findByName(info.getName());\n        if (sc !\u003d null) {\n            return new Response\u003c\u003e(0, \"Security Config Already Exist\", null);\n        } else {\n            SecurityConfig config \u003d new SecurityConfig();\n            config.setId(UUID.randomUUID());\n            config.setName(info.getName());\n            config.setValue(info.getValue());\n            config.setDescription(info.getDescription());\n            securityRepository.save(config);\n            return new Response\u003c\u003e(1, success, config);\n        }\n    }","returnType":"Response","methodName":"addNewSecurityConfig","className":"SecurityServiceImpl","packageName":"security.service","methodId":"security.service.SecurityServiceImpl.addNewSecurityConfig","classId":"security.service.SecurityServiceImpl","line":47,"msArgumentList":[{"returnType":"SecurityConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"securityRepository.findByName(info.getName())","parentPackageName":"security.service","parentClassName":"SecurityServiceImpl","parentMethodName":"addNewSecurityConfig","parentClassId":"security.service.SecurityServiceImpl","lineNumber":49,"calledMethodName":"findByName","calledServiceId":"securityRepository","statementDeclaration":"securityRepository.findByName(info.getName())"},"msServiceRepositoryField":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Autowired\n    private SecurityRepository securityRepository;","fieldClass":"SecurityRepository","fieldVariable":"securityRepository","parentMethod":{"parentClassName":"SecurityServiceImpl","parentPackageName":"security.service"},"line":28},"msRepository":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"classId":"security.repository.SecurityRepository","packageName":"security.repository","className":"SecurityRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"code":"@Query(\"{ \u0027name\u0027: ?0 }\")\n    SecurityConfig findByName(String name);","returnType":"SecurityConfig","methodName":"findByName","className":"SecurityRepository","packageName":"security.repository","methodId":"security.repository.SecurityRepository.findByName","classId":"security.repository.SecurityRepository","line":16,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/securityConfigs\")\n    public HttpEntity update(@RequestBody SecurityConfig info, @RequestHeader HttpHeaders headers) {\n        SecurityController.LOGGER.info(\"[Security Service][Update] Name: {}\", info.getName());\n        return ok(securityService.modifySecurityConfig(info, headers));\n    }","returnType":"HttpEntity","methodName":"update","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.update","classId":"security.controller.SecurityController","line":45,"msArgumentList":[{"returnType":"SecurityConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/securityConfigs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"securityService.modifySecurityConfig(info, headers)","parentPackageName":"security.controller","parentClassName":"SecurityController","parentMethodName":"update","parentClassId":"security.controller.SecurityController","lineNumber":49,"calledMethodName":"modifySecurityConfig","calledServiceId":"securityService","statementDeclaration":"securityService.modifySecurityConfig(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@Autowired\n    private SecurityService securityService;","fieldClass":"SecurityService","fieldVariable":"securityService","parentMethod":{"parentClassName":"SecurityController","parentPackageName":"security.controller"},"line":21},"msService":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"classId":"security.service.SecurityServiceImpl","packageName":"security.service","className":"SecurityServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifySecurityConfig(SecurityConfig info, HttpHeaders headers) {\n        SecurityConfig sc \u003d securityRepository.findById(info.getId());\n        if (sc \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"Security Config Not Exist\", null);\n        } else {\n            sc.setName(info.getName());\n            sc.setValue(info.getValue());\n            sc.setDescription(info.getDescription());\n            securityRepository.save(sc);\n            return new Response\u003c\u003e(1, success, sc);\n        }\n    }","returnType":"Response","methodName":"modifySecurityConfig","className":"SecurityServiceImpl","packageName":"security.service","methodId":"security.service.SecurityServiceImpl.modifySecurityConfig","classId":"security.service.SecurityServiceImpl","line":63,"msArgumentList":[{"returnType":"SecurityConfig"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"securityRepository.findById(info.getId())","parentPackageName":"security.service","parentClassName":"SecurityServiceImpl","parentMethodName":"modifySecurityConfig","parentClassId":"security.service.SecurityServiceImpl","lineNumber":65,"calledMethodName":"findById","calledServiceId":"securityRepository","statementDeclaration":"securityRepository.findById(info.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Autowired\n    private SecurityRepository securityRepository;","fieldClass":"SecurityRepository","fieldVariable":"securityRepository","parentMethod":{"parentClassName":"SecurityServiceImpl","parentPackageName":"security.service"},"line":28},"msRepository":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"classId":"security.repository.SecurityRepository","packageName":"security.repository","className":"SecurityRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    SecurityConfig findById(UUID id);","returnType":"SecurityConfig","methodName":"findById","className":"SecurityRepository","packageName":"security.repository","methodId":"security.repository.SecurityRepository.findById","classId":"security.repository.SecurityRepository","line":19,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/securityConfigs/{id}\")\n    public HttpEntity delete(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        SecurityController.LOGGER.info(\"[Security Service][Delete] Id: {}\", id);\n        return ok(securityService.deleteSecurityConfig(id, headers));\n    }","returnType":"HttpEntity","methodName":"delete","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.delete","classId":"security.controller.SecurityController","line":52,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/securityConfigs/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"securityService.deleteSecurityConfig(id, headers)","parentPackageName":"security.controller","parentClassName":"SecurityController","parentMethodName":"delete","parentClassId":"security.controller.SecurityController","lineNumber":56,"calledMethodName":"deleteSecurityConfig","calledServiceId":"securityService","statementDeclaration":"securityService.deleteSecurityConfig(id, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@Autowired\n    private SecurityService securityService;","fieldClass":"SecurityService","fieldVariable":"securityService","parentMethod":{"parentClassName":"SecurityController","parentPackageName":"security.controller"},"line":21},"msService":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"classId":"security.service.SecurityServiceImpl","packageName":"security.service","className":"SecurityServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteSecurityConfig(String id, HttpHeaders headers) {\n        securityRepository.deleteById(UUID.fromString(id));\n        SecurityConfig sc \u003d securityRepository.findById(UUID.fromString(id));\n        if (sc \u003d\u003d null) {\n            return new Response\u003c\u003e(1, success, id);\n        } else {\n            return new Response\u003c\u003e(0, \"Reason Not clear\", id);\n        }\n    }","returnType":"Response","methodName":"deleteSecurityConfig","className":"SecurityServiceImpl","packageName":"security.service","methodId":"security.service.SecurityServiceImpl.deleteSecurityConfig","classId":"security.service.SecurityServiceImpl","line":77,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"securityRepository.deleteById(UUID.fromString(id))","parentPackageName":"security.service","parentClassName":"SecurityServiceImpl","parentMethodName":"deleteSecurityConfig","parentClassId":"security.service.SecurityServiceImpl","lineNumber":79,"calledMethodName":"deleteById","calledServiceId":"securityRepository","statementDeclaration":"securityRepository.deleteById(UUID.fromString(id))"},"msServiceRepositoryField":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Autowired\n    private SecurityRepository securityRepository;","fieldClass":"SecurityRepository","fieldVariable":"securityRepository","parentMethod":{"parentClassName":"SecurityServiceImpl","parentPackageName":"security.service"},"line":28},"msRepository":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"classId":"security.repository.SecurityRepository","packageName":"security.repository","className":"SecurityRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"code":"void deleteById(UUID id);","returnType":"void","methodName":"deleteById","className":"SecurityRepository","packageName":"security.repository","methodId":"security.repository.SecurityRepository.deleteById","classId":"security.repository.SecurityRepository","line":25,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"classId":"security.controller.SecurityController","packageName":"security.controller","className":"SecurityController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/securityConfigs/{accountId}\")\n    public HttpEntity check(@PathVariable String accountId, @RequestHeader HttpHeaders headers) {\n        SecurityController.LOGGER.info(\"[Security Service][Check Security] Check Account Id: {}\", accountId);\n        return ok(securityService.check(accountId, headers));\n    }","returnType":"HttpEntity","methodName":"check","className":"SecurityController","packageName":"security.controller","methodId":"security.controller.SecurityController.check","classId":"security.controller.SecurityController","line":59,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/securityConfigs/{accountId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"securityService.check(accountId, headers)","parentPackageName":"security.controller","parentClassName":"SecurityController","parentMethodName":"check","parentClassId":"security.controller.SecurityController","lineNumber":63,"calledMethodName":"check","calledServiceId":"securityService","statementDeclaration":"securityService.check(accountId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-security-service/src/main/java/security/controller/SecurityController.java","directoryName":""},"code":"@Autowired\n    private SecurityService securityService;","fieldClass":"SecurityService","fieldVariable":"securityService","parentMethod":{"parentClassName":"SecurityController","parentPackageName":"security.controller"},"line":21},"msService":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"classId":"security.service.SecurityServiceImpl","packageName":"security.service","className":"SecurityServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Override\n    public Response check(String accountId, HttpHeaders headers) {\n        //1.Get the orders in the past one hour and the total effective votes\n        SecurityServiceImpl.LOGGER.info(\"[Security Service][Get Order Num Info]\");\n        OrderSecurity orderResult \u003d getSecurityOrderInfoFromOrder(new Date(), accountId, headers);\n        OrderSecurity orderOtherResult \u003d getSecurityOrderOtherInfoFromOrder(new Date(), accountId, headers);\n        int orderInOneHour \u003d orderOtherResult.getOrderNumInLastOneHour() + orderResult.getOrderNumInLastOneHour();\n        int totalValidOrder \u003d orderOtherResult.getOrderNumOfValidOrder() + orderResult.getOrderNumOfValidOrder();\n        //2. get critical configuration information\n        SecurityServiceImpl.LOGGER.info(\"[Security Service][Get Security Config Info]\");\n        SecurityConfig configMaxInHour \u003d securityRepository.findByName(\"max_order_1_hour\");\n        SecurityConfig configMaxNotUse \u003d securityRepository.findByName(\"max_order_not_use\");\n        SecurityServiceImpl.LOGGER.info(\"[Security Service] Max In One Hour: {}  Max Not Use: {}\", configMaxInHour.getValue(), configMaxNotUse.getValue());\n        int oneHourLine \u003d Integer.parseInt(configMaxInHour.getValue());\n        int totalValidLine \u003d Integer.parseInt(configMaxNotUse.getValue());\n        if (orderInOneHour \u003e oneHourLine || totalValidOrder \u003e totalValidLine) {\n            return new Response\u003c\u003e(0, \"Too much order in last one hour or too much valid order\", accountId);\n        } else {\n            return new Response\u003c\u003e(1, \"Success.r\", accountId);\n        }\n    }","returnType":"Response","methodName":"check","className":"SecurityServiceImpl","packageName":"security.service","methodId":"security.service.SecurityServiceImpl.check","classId":"security.service.SecurityServiceImpl","line":88,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"securityRepository.findByName(\"max_order_1_hour\")","parentPackageName":"security.service","parentClassName":"SecurityServiceImpl","parentMethodName":"check","parentClassId":"security.service.SecurityServiceImpl","lineNumber":98,"calledMethodName":"findByName","calledServiceId":"securityRepository","statementDeclaration":"securityRepository.findByName(\"max_order_1_hour\")"},"msServiceRepositoryField":{"msId":{"path":"/ts-security-service/src/main/java/security/service/SecurityServiceImpl.java","directoryName":""},"code":"@Autowired\n    private SecurityRepository securityRepository;","fieldClass":"SecurityRepository","fieldVariable":"securityRepository","parentMethod":{"parentClassName":"SecurityServiceImpl","parentPackageName":"security.service"},"line":28},"msRepository":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"classId":"security.repository.SecurityRepository","packageName":"security.repository","className":"SecurityRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-security-service/src/main/java/security/repository/SecurityRepository.java","directoryName":""},"code":"@Query(\"{ \u0027name\u0027: ?0 }\")\n    SecurityConfig findByName(String name);","returnType":"SecurityConfig","methodName":"findByName","className":"SecurityRepository","packageName":"security.repository","methodId":"security.repository.SecurityRepository.findByName","classId":"security.repository.SecurityRepository","line":16,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ AdminBasicInfo Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.home","classId":"adminbasic.controller.AdminBasicInfoController","line":25,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminbasic/contacts\")\n    public HttpEntity getAllContacts(@RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Find All Contacts by admin \");\n        return ok(adminBasicInfoService.getAllContacts(headers));\n    }","returnType":"HttpEntity","methodName":"getAllContacts","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.getAllContacts","classId":"adminbasic.controller.AdminBasicInfoController","line":30,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminbasic/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.getAllContacts(headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"getAllContacts","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":34,"calledMethodName":"getAllContacts","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.getAllContacts(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllContacts(HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts\",\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n    }","returnType":"Response","methodName":"getAllContacts","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.getAllContacts","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":32,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-contacts-service:12347/api/v1/contactservice/contacts\"","httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts\",\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"getAllContacts","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":37,"statementDeclaration":"restTemplate.exchange(\"http://ts-contacts-service:12347/api/v1/contactservice/contacts\", HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/adminbasic/contacts/{contactsId}\")\n    public HttpEntity deleteContacts(@PathVariable String contactsId, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Delete Contacts by admin \");\n        return ok(adminBasicInfoService.deleteContact(contactsId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteContacts","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.deleteContacts","classId":"adminbasic.controller.AdminBasicInfoController","line":37,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/adminbasic/contacts/{contactsId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.deleteContact(contactsId, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"deleteContacts","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":41,"calledMethodName":"deleteContact","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.deleteContact(contactsId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteContact(String contactsId, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts/\" + contactsId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n    }","returnType":"Response","methodName":"deleteContact","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.deleteContact","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":47,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-contacts-service:12347/api/v1/contactservice/contacts/\" + contactsId","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts/\" + contactsId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"deleteContact","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":52,"statementDeclaration":"restTemplate.exchange(\"http://ts-contacts-service:12347/api/v1/contactservice/contacts/\" + contactsId, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/adminbasic/contacts\")\n    public HttpEntity modifyContacts(@RequestBody Contacts mci, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Contacts by admin: \");\n        return ok(adminBasicInfoService.modifyContact(mci, headers));\n    }","returnType":"HttpEntity","methodName":"modifyContacts","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.modifyContacts","classId":"adminbasic.controller.AdminBasicInfoController","line":44,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/adminbasic/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.modifyContact(mci, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"modifyContacts","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":48,"calledMethodName":"modifyContact","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.modifyContact(mci, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyContact(Contacts mci, HttpHeaders headers) {\n        Response result;\n        LOGGER.info(\"MODIFY CONTACTS: \" + mci.toString());\n        HttpEntity requestEntity \u003d new HttpEntity(mci, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts\",\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n    }","returnType":"Response","methodName":"modifyContact","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.modifyContact","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":62,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-contacts-service:12347/api/v1/contactservice/contacts\"","httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts\",\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"modifyContact","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":67,"statementDeclaration":"restTemplate.exchange(\"http://ts-contacts-service:12347/api/v1/contactservice/contacts\", HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/adminbasic/contacts\")\n    public HttpEntity addContacts(@RequestBody Contacts c, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Contacts by admin  \");\n        return ok(adminBasicInfoService.addContact(c, headers));\n    }","returnType":"HttpEntity","methodName":"addContacts","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.addContacts","classId":"adminbasic.controller.AdminBasicInfoController","line":51,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/adminbasic/contacts\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.addContact(c, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"addContacts","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":55,"calledMethodName":"addContact","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.addContact(c, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addContact(Contacts c, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(c, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts/admin\",\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n    }","returnType":"Response","methodName":"addContact","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.addContact","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":78,"msArgumentList":[{"returnType":"Contacts"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-contacts-service:12347/api/v1/contactservice/contacts/admin\"","httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-contacts-service:12347/api/v1/contactservice/contacts/admin\",\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"addContact","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":83,"statementDeclaration":"restTemplate.exchange(\"http://ts-contacts-service:12347/api/v1/contactservice/contacts/admin\", HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminbasic/stations\")\n    public HttpEntity getAllStations(@RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Find All Station by admin  \");\n        return ok(adminBasicInfoService.getAllStations(headers));\n    }","returnType":"HttpEntity","methodName":"getAllStations","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.getAllStations","classId":"adminbasic.controller.AdminBasicInfoController","line":58,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminbasic/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.getAllStations(headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"getAllStations","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":62,"calledMethodName":"getAllStations","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.getAllStations(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllStations(HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                stations,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n\n        return re.getBody();\n\n\n    }","returnType":"Response","methodName":"getAllStations","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.getAllStations","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":93,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                stations,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"getAllStations","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":97,"statementDeclaration":"restTemplate.exchange(stations, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/adminbasic/stations\")\n    public HttpEntity deleteStation(@RequestBody Station s, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Delete Station by admin \");\n        return ok(adminBasicInfoService.deleteStation(s, headers));\n    }","returnType":"HttpEntity","methodName":"deleteStation","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.deleteStation","classId":"adminbasic.controller.AdminBasicInfoController","line":65,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/adminbasic/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.deleteStation(s, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"deleteStation","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":69,"calledMethodName":"deleteStation","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.deleteStation(s, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteStation(Station s, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(s, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                stations,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        return result;\n\n    }","returnType":"Response","methodName":"deleteStation","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.deleteStation","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":122,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                stations,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"deleteStation","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":127,"statementDeclaration":"restTemplate.exchange(stations, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/adminbasic/stations\")\n    public HttpEntity modifyStation(@RequestBody Station s, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Station by admin \");\n        return ok(adminBasicInfoService.modifyStation(s, headers));\n    }","returnType":"HttpEntity","methodName":"modifyStation","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.modifyStation","classId":"adminbasic.controller.AdminBasicInfoController","line":72,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/adminbasic/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.modifyStation(s, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"modifyStation","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":76,"calledMethodName":"modifyStation","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.modifyStation(s, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyStation(Station s, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(s, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                stations,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n\n        return result;\n\n    }","returnType":"Response","methodName":"modifyStation","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.modifyStation","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":137,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                stations,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"modifyStation","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":142,"statementDeclaration":"restTemplate.exchange(stations, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/adminbasic/stations\")\n    public HttpEntity addStation(@RequestBody Station s, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Station by admin\");\n        return ok(adminBasicInfoService.addStation(s, headers));\n    }","returnType":"HttpEntity","methodName":"addStation","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.addStation","classId":"adminbasic.controller.AdminBasicInfoController","line":79,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/adminbasic/stations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.addStation(s, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"addStation","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":83,"calledMethodName":"addStation","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.addStation(s, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addStation(Station s, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(s, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                stations,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        return result;\n    }","returnType":"Response","methodName":"addStation","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.addStation","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":108,"msArgumentList":[{"returnType":"Station"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                stations,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"addStation","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":113,"statementDeclaration":"restTemplate.exchange(stations, HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminbasic/trains\")\n    public HttpEntity getAllTrains(@RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Find All Train by admin: \");\n        return ok(adminBasicInfoService.getAllTrains(headers));\n    }","returnType":"HttpEntity","methodName":"getAllTrains","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.getAllTrains","classId":"adminbasic.controller.AdminBasicInfoController","line":86,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminbasic/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.getAllTrains(headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"getAllTrains","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":90,"calledMethodName":"getAllTrains","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.getAllTrains(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllTrains(HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                trains,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n\n        return re.getBody();\n\n    }","returnType":"Response","methodName":"getAllTrains","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.getAllTrains","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":153,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                trains,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"getAllTrains","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":157,"statementDeclaration":"restTemplate.exchange(trains, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/adminbasic/trains/{id}\")\n    public HttpEntity deleteTrain(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Delete Train by admin\");\n        return ok(adminBasicInfoService.deleteTrain(id, headers));\n    }","returnType":"HttpEntity","methodName":"deleteTrain","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.deleteTrain","classId":"adminbasic.controller.AdminBasicInfoController","line":93,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/adminbasic/trains/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.deleteTrain(id, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"deleteTrain","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":97,"calledMethodName":"deleteTrain","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.deleteTrain(id, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteTrain(String id, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-train-service:14567/api/v1/trainservice/trains/\" + id,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        return result;\n    }","returnType":"Response","methodName":"deleteTrain","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.deleteTrain","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":182,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-train-service:14567/api/v1/trainservice/trains/\" + id","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-train-service:14567/api/v1/trainservice/trains/\" + id,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"deleteTrain","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":187,"statementDeclaration":"restTemplate.exchange(\"http://ts-train-service:14567/api/v1/trainservice/trains/\" + id, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/adminbasic/trains\")\n    public HttpEntity modifyTrain(@RequestBody TrainType t, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Train by admin  \");\n        return ok(adminBasicInfoService.modifyTrain(t, headers));\n    }","returnType":"HttpEntity","methodName":"modifyTrain","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.modifyTrain","classId":"adminbasic.controller.AdminBasicInfoController","line":100,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/adminbasic/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.modifyTrain(t, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"modifyTrain","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":104,"calledMethodName":"modifyTrain","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.modifyTrain(t, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyTrain(TrainType t, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(t, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                trains,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        return result;\n    }","returnType":"Response","methodName":"modifyTrain","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.modifyTrain","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":196,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                trains,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"modifyTrain","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":201,"statementDeclaration":"restTemplate.exchange(trains, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/adminbasic/trains\")\n    public HttpEntity addTrain(@RequestBody TrainType t, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Train by admin \");\n        return ok(adminBasicInfoService.addTrain(t, headers));\n    }","returnType":"HttpEntity","methodName":"addTrain","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.addTrain","classId":"adminbasic.controller.AdminBasicInfoController","line":107,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/adminbasic/trains\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.addTrain(t, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"addTrain","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":111,"calledMethodName":"addTrain","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.addTrain(t, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addTrain(TrainType t, HttpHeaders headers) {\n        Response result;\n\n        HttpEntity requestEntity \u003d new HttpEntity(t, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                trains,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        result \u003d re.getBody();\n        return result;\n\n    }","returnType":"Response","methodName":"addTrain","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.addTrain","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":167,"msArgumentList":[{"returnType":"TrainType"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                trains,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"addTrain","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":172,"statementDeclaration":"restTemplate.exchange(trains, HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminbasic/configs\")\n    public HttpEntity getAllConfigs(@RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Find All Config by admin  \");\n        return ok(adminBasicInfoService.getAllConfigs(headers));\n    }","returnType":"HttpEntity","methodName":"getAllConfigs","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.getAllConfigs","classId":"adminbasic.controller.AdminBasicInfoController","line":114,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminbasic/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.getAllConfigs(headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"getAllConfigs","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":118,"calledMethodName":"getAllConfigs","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.getAllConfigs(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllConfigs(HttpHeaders headers) {\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                configs,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n\n        return re.getBody();\n    }","returnType":"Response","methodName":"getAllConfigs","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.getAllConfigs","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":210,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                configs,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"getAllConfigs","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":215,"statementDeclaration":"restTemplate.exchange(configs, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/adminbasic/configs/{name}\")\n    public HttpEntity deleteConfig(@PathVariable String name, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Delete Config by admin \");\n        return ok(adminBasicInfoService.deleteConfig(name, headers));\n    }","returnType":"HttpEntity","methodName":"deleteConfig","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.deleteConfig","classId":"adminbasic.controller.AdminBasicInfoController","line":121,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/adminbasic/configs/{name}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.deleteConfig(name, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"deleteConfig","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":125,"calledMethodName":"deleteConfig","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.deleteConfig(name, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteConfig(String name, HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-config-service:15679/api/v1/configservice/configs/\" + name,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"deleteConfig","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.deleteConfig","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":237,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-config-service:15679/api/v1/configservice/configs/\" + name","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-config-service:15679/api/v1/configservice/configs/\" + name,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"deleteConfig","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":241,"statementDeclaration":"restTemplate.exchange(\"http://ts-config-service:15679/api/v1/configservice/configs/\" + name, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/adminbasic/configs\")\n    public HttpEntity modifyConfig(@RequestBody Config c, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Config by admin \");\n        return ok(adminBasicInfoService.modifyConfig(c, headers));\n    }","returnType":"HttpEntity","methodName":"modifyConfig","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.modifyConfig","classId":"adminbasic.controller.AdminBasicInfoController","line":128,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/adminbasic/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.modifyConfig(c, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"modifyConfig","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":132,"calledMethodName":"modifyConfig","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.modifyConfig(c, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyConfig(Config c, HttpHeaders headers) {\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(c, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                configs,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"modifyConfig","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.modifyConfig","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":249,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                configs,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"modifyConfig","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":254,"statementDeclaration":"restTemplate.exchange(configs, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/adminbasic/configs\")\n    public HttpEntity addConfig(@RequestBody Config c, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Config by admin  \");\n        return ok(adminBasicInfoService.addConfig(c, headers));\n    }","returnType":"HttpEntity","methodName":"addConfig","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.addConfig","classId":"adminbasic.controller.AdminBasicInfoController","line":135,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/adminbasic/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.addConfig(c, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"addConfig","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":139,"calledMethodName":"addConfig","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.addConfig(c, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addConfig(Config c, HttpHeaders headers) {\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(c, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                configs,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"addConfig","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.addConfig","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":224,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                configs,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"addConfig","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":229,"statementDeclaration":"restTemplate.exchange(configs, HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminbasic/prices\")\n    public HttpEntity getAllPrices(@RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Find All Price by admin \");\n        return ok(adminBasicInfoService.getAllPrices(headers));\n    }","returnType":"HttpEntity","methodName":"getAllPrices","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.getAllPrices","classId":"adminbasic.controller.AdminBasicInfoController","line":142,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminbasic/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.getAllPrices(headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"getAllPrices","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":146,"calledMethodName":"getAllPrices","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.getAllPrices(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllPrices(HttpHeaders headers) {\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                prices,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n\n        AdminBasicInfoServiceImpl.LOGGER.info(\"[!!!!GetAllPriceResult] \");\n        return re.getBody();\n    }","returnType":"Response","methodName":"getAllPrices","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.getAllPrices","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":262,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                prices,\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"getAllPrices","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":267,"statementDeclaration":"restTemplate.exchange(prices, HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/adminbasic/prices\")\n    public HttpEntity deletePrice(@RequestBody PriceInfo pi, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Delete Price by admin  \");\n        return ok(adminBasicInfoService.deletePrice(pi, headers));\n    }","returnType":"HttpEntity","methodName":"deletePrice","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.deletePrice","classId":"adminbasic.controller.AdminBasicInfoController","line":149,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/adminbasic/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.deletePrice(pi, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"deletePrice","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":153,"calledMethodName":"deletePrice","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.deletePrice(pi, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deletePrice(PriceInfo pi, HttpHeaders headers) {\n\n\n        HttpEntity requestEntity \u003d new HttpEntity(pi, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                prices,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n\n        return re.getBody();\n\n    }","returnType":"Response","methodName":"deletePrice","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.deletePrice","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":290,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                prices,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"deletePrice","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":295,"statementDeclaration":"restTemplate.exchange(prices, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/adminbasic/prices\")\n    public HttpEntity modifyPrice(@RequestBody PriceInfo pi, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Modify Price by admin  \");\n        return ok(adminBasicInfoService.modifyPrice(pi, headers));\n    }","returnType":"HttpEntity","methodName":"modifyPrice","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.modifyPrice","classId":"adminbasic.controller.AdminBasicInfoController","line":156,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/adminbasic/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.modifyPrice(pi, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"modifyPrice","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":160,"calledMethodName":"modifyPrice","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.modifyPrice(pi, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyPrice(PriceInfo pi, HttpHeaders headers) {\n        HttpEntity requestEntity \u003d new HttpEntity(pi, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                prices,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n    }","returnType":"Response","methodName":"modifyPrice","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.modifyPrice","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":305,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"PUT","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                prices,\n                HttpMethod.PUT,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"modifyPrice","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":308,"statementDeclaration":"restTemplate.exchange(prices, HttpMethod.PUT, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"classId":"adminbasic.controller.AdminBasicInfoController","packageName":"adminbasic.controller","className":"AdminBasicInfoController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/adminbasic/prices\")\n    public HttpEntity addPrice(@RequestBody PriceInfo pi, @RequestHeader HttpHeaders headers) {\n        AdminBasicInfoController.LOGGER.info(\"[Admin Basic Info Service][Add Price by admin\");\n        return ok(adminBasicInfoService.addPrice(pi, headers));\n    }","returnType":"HttpEntity","methodName":"addPrice","className":"AdminBasicInfoController","packageName":"adminbasic.controller","methodId":"adminbasic.controller.AdminBasicInfoController.addPrice","classId":"adminbasic.controller.AdminBasicInfoController","line":163,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/adminbasic/prices\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"adminBasicInfoService.addPrice(pi, headers)","parentPackageName":"adminbasic.controller","parentClassName":"AdminBasicInfoController","parentMethodName":"addPrice","parentClassId":"adminbasic.controller.AdminBasicInfoController","lineNumber":167,"calledMethodName":"addPrice","calledServiceId":"adminBasicInfoService","statementDeclaration":"adminBasicInfoService.addPrice(pi, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/controller/AdminBasicInfoController.java","directoryName":""},"code":"@Autowired\n    AdminBasicInfoService adminBasicInfoService;","fieldClass":"AdminBasicInfoService","fieldVariable":"adminBasicInfoService","parentMethod":{"parentClassName":"AdminBasicInfoController","parentPackageName":"adminbasic.controller"},"line":21},"msService":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"classId":"adminbasic.service.AdminBasicInfoServiceImpl","packageName":"adminbasic.service","className":"AdminBasicInfoServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addPrice(PriceInfo pi, HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(pi, headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                prices,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n\n    }","returnType":"Response","methodName":"addPrice","className":"AdminBasicInfoServiceImpl","packageName":"adminbasic.service","methodId":"adminbasic.service.AdminBasicInfoServiceImpl.addPrice","classId":"adminbasic.service.AdminBasicInfoServiceImpl","line":277,"msArgumentList":[{"returnType":"PriceInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"httpMethod":"POST","returnType":"requestEntity","msId":{"path":"/ts-admin-basic-info-service/src/main/java/adminbasic/service/AdminBasicInfoServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                prices,\n                HttpMethod.POST,\n                requestEntity,\n                Response.class)","parentPackageName":"adminbasic.service","parentClassName":"AdminBasicInfoServiceImpl","parentMethodName":"addPrice","parentClassId":"adminbasic.service.AdminBasicInfoServiceImpl","lineNumber":281,"statementDeclaration":"restTemplate.exchange(prices, HttpMethod.POST, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"classId":"seat.controller.SeatController","packageName":"seat.controller","className":"SeatController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Seat Service ] !\";\n    }","returnType":"String","methodName":"home","className":"SeatController","packageName":"seat.controller","methodId":"seat.controller.SeatController.home","classId":"seat.controller.SeatController","line":22,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"classId":"seat.controller.SeatController","packageName":"seat.controller","className":"SeatController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/seats\")\n    public HttpEntity create(@RequestBody Seat seatRequest, @RequestHeader HttpHeaders headers) {\n        return ok(seatService.distributeSeat(seatRequest, headers));\n    }","returnType":"HttpEntity","methodName":"create","className":"SeatController","packageName":"seat.controller","methodId":"seat.controller.SeatController.create","classId":"seat.controller.SeatController","line":34,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/seats\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"seatService.distributeSeat(seatRequest, headers)","parentPackageName":"seat.controller","parentClassName":"SeatController","parentMethodName":"create","parentClassId":"seat.controller.SeatController","lineNumber":37,"calledMethodName":"distributeSeat","calledServiceId":"seatService","statementDeclaration":"seatService.distributeSeat(seatRequest, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"@Autowired\n    private SeatService seatService;","fieldClass":"SeatService","fieldVariable":"seatService","parentMethod":{"parentClassName":"SeatController","parentPackageName":"seat.controller"},"line":19},"msService":{"msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"classId":"seat.service.SeatServiceImpl","packageName":"seat.service","className":"SeatServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"@Override\n    public Response distributeSeat(Seat seatRequest, HttpHeaders headers) {\n        Response\u003cRoute\u003e routeResult;\n\n        LeftTicketInfo leftTicketInfo;\n        TrainType trainTypeResult \u003d null;\n        ResponseEntity\u003cResponse\u003cRoute\u003e\u003e re;\n        ResponseEntity\u003cResponse\u003cTrainType\u003e\u003e re2;\n        ResponseEntity\u003cResponse\u003cLeftTicketInfo\u003e\u003e re3;\n\n        //Distinguish G\\D from other trains\n        String trainNumber \u003d seatRequest.getTrainNumber();\n\n        if (trainNumber.startsWith(\"G\") || trainNumber.startsWith(\"D\")) {\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] TrainNumber start with G|D\");\n\n            //Call the microservice to query all the station information for the train\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            re \u003d restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber,\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    });\n            routeResult \u003d re.getBody();\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] The result of getRouteResult is {}\", routeResult.getMsg());\n\n            //Call the microservice to query for residual Ticket information: the set of the Ticket sold for the specified seat type\n            requestEntity \u003d new HttpEntity(seatRequest, headers);\n            re3 \u003d restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    });\n            SeatServiceImpl.LOGGER.info(\"Left ticket info is : {}\", re3.getBody().toString());\n            leftTicketInfo \u003d re3.getBody().getData();\n\n            //Calls the microservice to query the total number of seats specified for that vehicle\n            requestEntity \u003d new HttpEntity(headers);\n            re2 \u003d restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    });\n            Response\u003cTrainType\u003e trainTypeResponse \u003d re2.getBody();\n            trainTypeResult \u003d trainTypeResponse.getData();\n\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat 1] The result of getTrainTypeResult is {}\", trainTypeResponse.toString());\n        } else {\n            SeatServiceImpl.LOGGER.info(\"[SeatService] TrainNumber start with other capital\");\n            //Call the micro service to query all the station information for the trains\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            re \u003d restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    });\n            routeResult \u003d re.getBody();\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] The result of getRouteResult is {}\", routeResult.toString());\n\n            //Call the microservice to query for residual Ticket information: the set of the Ticket sold for the specified seat type\n            requestEntity \u003d new HttpEntity(seatRequest, headers);\n            re3 \u003d restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    });\n            SeatServiceImpl.LOGGER.info(\"Left ticket info is : {}\", re3.getBody().toString());\n            leftTicketInfo \u003d re3.getBody().getData();\n\n            //Calls the microservice to query the total number of seats specified for that vehicle\n            requestEntity \u003d new HttpEntity(headers);\n            re2 \u003d restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    });\n            Response\u003cTrainType\u003e trainTypeResponse \u003d re2.getBody();\n            trainTypeResult \u003d trainTypeResponse.getData();\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat 2] The result of getTrainTypeResult is {}\", trainTypeResponse.toString());\n        }\n\n\n        //Assign seats\n        List\u003cString\u003e stationList \u003d routeResult.getData().getStations();\n        int seatTotalNum \u003d 0;\n        if (seatRequest.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            seatTotalNum \u003d trainTypeResult.getConfortClass();\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] The request seat type is confortClass and the total num is {}\", seatTotalNum);\n        } else {\n            seatTotalNum \u003d trainTypeResult.getEconomyClass();\n            SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] The request seat type is economyClass and the total num is {}\", seatTotalNum);\n        }\n        String startStation \u003d seatRequest.getStartStation();\n        Ticket ticket \u003d new Ticket();\n        ticket.setStartStation(startStation);\n        ticket.setDestStation(seatRequest.getDestStation());\n\n        //Assign new tickets\n        Random rand \u003d new Random();\n        int range \u003d seatTotalNum;\n        int seat \u003d rand.nextInt(range) + 1;\n\n        if(leftTicketInfo !\u003d null) {\n            Set\u003cTicket\u003e soldTickets \u003d leftTicketInfo.getSoldTickets();\n            //Give priority to tickets already sold\n            for (Ticket soldTicket : soldTickets) {\n                String soldTicketDestStation \u003d soldTicket.getDestStation();\n                //Tickets can be allocated if the sold ticket\u0027s end station before the start station of the request\n                if (stationList.indexOf(soldTicketDestStation) \u003c stationList.indexOf(startStation)) {\n                    ticket.setSeatNo(soldTicket.getSeatNo());\n                    SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] Use the previous distributed seat number! {}\", soldTicket.getSeatNo());\n                    return new Response\u003c\u003e(1, \"Use the previous distributed seat number!\", ticket);\n                }\n            }\n            while (isContained(soldTickets, seat)) {\n                seat \u003d rand.nextInt(range) + 1;\n            }\n        }\n        ticket.setSeatNo(seat);\n        SeatServiceImpl.LOGGER.info(\"[SeatService distributeSeat] Use a new seat number! {}\", seat);\n        return new Response\u003c\u003e(1, \"Use a new seat number!\", ticket);\n    }","returnType":"Response","methodName":"distributeSeat","className":"SeatServiceImpl","packageName":"seat.service","methodId":"seat.service.SeatServiceImpl.distributeSeat","classId":"seat.service.SeatServiceImpl","line":30,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"Route","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":84,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"},{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\"","httpMethod":"POST","returnType":"LeftTicketInfo","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":95,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n})"},{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"TrainType","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":106,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber","httpMethod":"GET","returnType":"Route","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber,\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":48,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber, HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"},{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order/tickets\"","httpMethod":"POST","returnType":"LeftTicketInfo","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":59,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order/tickets\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"TrainType","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"distributeSeat","parentClassId":"seat.service.SeatServiceImpl","lineNumber":70,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"classId":"seat.controller.SeatController","packageName":"seat.controller","className":"SeatController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/seats/left_tickets\")\n    public HttpEntity getLeftTicketOfInterval(@RequestBody Seat seatRequest, @RequestHeader HttpHeaders headers) {\n        // int\n        return ok(seatService.getLeftTicketOfInterval(seatRequest, headers));\n    }","returnType":"HttpEntity","methodName":"getLeftTicketOfInterval","className":"SeatController","packageName":"seat.controller","methodId":"seat.controller.SeatController.getLeftTicketOfInterval","classId":"seat.controller.SeatController","line":48,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/seats/left_tickets\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"seatService.getLeftTicketOfInterval(seatRequest, headers)","parentPackageName":"seat.controller","parentClassName":"SeatController","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.controller.SeatController","lineNumber":52,"calledMethodName":"getLeftTicketOfInterval","calledServiceId":"seatService","statementDeclaration":"seatService.getLeftTicketOfInterval(seatRequest, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-seat-service/src/main/java/seat/controller/SeatController.java","directoryName":""},"code":"@Autowired\n    private SeatService seatService;","fieldClass":"SeatService","fieldVariable":"seatService","parentMethod":{"parentClassName":"SeatController","parentPackageName":"seat.controller"},"line":19},"msService":{"msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"classId":"seat.service.SeatServiceImpl","packageName":"seat.service","className":"SeatServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getLeftTicketOfInterval(Seat seatRequest, HttpHeaders headers) {\n        int numOfLeftTicket \u003d 0;\n        Response\u003cRoute\u003e routeResult;\n        TrainType trainTypeResult;\n        LeftTicketInfo leftTicketInfo;\n\n        ResponseEntity\u003cResponse\u003cRoute\u003e\u003e re;\n        ResponseEntity\u003cResponse\u003cTrainType\u003e\u003e re2;\n        ResponseEntity\u003cResponse\u003cLeftTicketInfo\u003e\u003e re3;\n\n        //Distinguish G\\D from other trains\n        String trainNumber \u003d seatRequest.getTrainNumber();\n        SeatServiceImpl.LOGGER.info(\"Seat request To String: {}\", seatRequest.toString());\n        if (trainNumber.startsWith(\"G\") || trainNumber.startsWith(\"D\")) {\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] TrainNumber start with G|D {}\", trainNumber);\n\n            //Call the micro service to query all the station information for the trains\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            re \u003d restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber,\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    });\n            routeResult \u003d re.getBody();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The result of getRouteResult is {}\", routeResult.getMsg());\n\n            //Call the micro service to query for residual Ticket information: the set of the Ticket sold for the specified seat type\n            requestEntity \u003d new HttpEntity(seatRequest, headers);\n            re3 \u003d restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    });\n\n            SeatServiceImpl.LOGGER.info(\"Get Order tickets result is : {}\", re3);\n            leftTicketInfo \u003d re3.getBody().getData();\n\n            //Calls the microservice to query the total number of seats specified for that vehicle\n            requestEntity \u003d new HttpEntity(headers);\n            re2 \u003d restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    });\n            Response\u003cTrainType\u003e trainTypeResponse \u003d re2.getBody();\n\n\n            trainTypeResult \u003d trainTypeResponse.getData();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The result of getTrainTypeResult is {}\", trainTypeResponse.toString());\n        } else {\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] TrainNumber start with other capital\");\n            //Call the micro service to query all the station information for the trains\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            re \u003d restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    });\n            routeResult \u003d re.getBody();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The result of getRouteResult is {}\", routeResult.toString());\n\n            //Call the micro service to query for residual Ticket information: the set of the Ticket sold for the specified seat type\n            requestEntity \u003d new HttpEntity(seatRequest, headers);\n            re3 \u003d restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    });\n            SeatServiceImpl.LOGGER.info(\"Get Order tickets result is : {}\", re3);\n            leftTicketInfo \u003d re3.getBody().getData();\n\n\n            //Calls the microservice to query the total number of seats specified for that vehicle\n            requestEntity \u003d new HttpEntity(headers);\n            re2 \u003d restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    });\n            Response\u003cTrainType\u003e trainTypeResponse \u003d re2.getBody();\n            trainTypeResult \u003d trainTypeResponse.getData();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The result of getTrainTypeResult is {}\", trainTypeResponse.toString());\n        }\n\n        //Counting the seats remaining in certain sections\n        List\u003cString\u003e stationList \u003d routeResult.getData().getStations();\n        int seatTotalNum;\n        if (seatRequest.getSeatType() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n            seatTotalNum \u003d trainTypeResult.getConfortClass();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The request seat type is confortClass and the total num is {}\", seatTotalNum);\n        } else {\n            seatTotalNum \u003d trainTypeResult.getEconomyClass();\n            SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The request seat type is economyClass and the total num is {}\", seatTotalNum);\n        }\n\n        int solidTicketSize \u003d 0;\n        if (leftTicketInfo !\u003d null) {\n            String startStation \u003d seatRequest.getStartStation();\n            Set\u003cTicket\u003e soldTickets \u003d leftTicketInfo.getSoldTickets();\n            solidTicketSize \u003d soldTickets.size();\n            //To find out if tickets already sold are available\n            for (Ticket soldTicket : soldTickets) {\n                String soldTicketDestStation \u003d soldTicket.getDestStation();\n                //Tickets can be allocated if the sold ticket\u0027s end station before the start station of the request\n                if (stationList.indexOf(soldTicketDestStation) \u003c stationList.indexOf(startStation)) {\n                    SeatServiceImpl.LOGGER.info(\"[SeatService getLeftTicketOfInterval] The previous distributed seat number is usable! {}\", soldTicket.getSeatNo());\n                    numOfLeftTicket++;\n                }\n            }\n        }\n        //Count the unsold tickets\n\n        double direstPart \u003d getDirectProportion(headers);\n        Route route \u003d routeResult.getData();\n        if (route.getStations().get(0).equals(seatRequest.getStartStation()) \u0026\u0026\n                route.getStations().get(route.getStations().size() - 1).equals(seatRequest.getDestStation())) {\n            //do nothing\n        } else {\n            direstPart \u003d 1.0 - direstPart;\n        }\n\n        int unusedNum \u003d (int) (seatTotalNum * direstPart) - solidTicketSize;\n        numOfLeftTicket +\u003d unusedNum;\n\n        return new Response\u003c\u003e(1, \"Get Left Ticket of Internal Success\", numOfLeftTicket);\n    }","returnType":"Response","methodName":"getLeftTicketOfInterval","className":"SeatServiceImpl","packageName":"seat.service","methodId":"seat.service.SeatServiceImpl.getLeftTicketOfInterval","classId":"seat.service.SeatServiceImpl","line":170,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"Route","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":227,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/routes/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"},{"api":"\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\"","httpMethod":"POST","returnType":"LeftTicketInfo","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":238,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-other-service:12032/api/v1/orderOtherService/orderOther/tickets\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n})"},{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"TrainType","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":250,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/train_types/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber","httpMethod":"GET","returnType":"Route","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber,\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":189,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/routes/\" + trainNumber, HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"},{"api":"\"http://ts-order-service:12031/api/v1/orderservice/order/tickets\"","httpMethod":"POST","returnType":"LeftTicketInfo","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-order-service:12031/api/v1/orderservice/order/tickets\",\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":200,"statementDeclaration":"restTemplate.exchange(\"http://ts-order-service:12031/api/v1/orderservice/order/tickets\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cLeftTicketInfo\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber()","httpMethod":"GET","returnType":"TrainType","msId":{"path":"/ts-seat-service/src/main/java/seat/service/SeatServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n                    })","parentPackageName":"seat.service","parentClassName":"SeatServiceImpl","parentMethodName":"getLeftTicketOfInterval","parentClassId":"seat.service.SeatServiceImpl","lineNumber":212,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/train_types/\" + seatRequest.getTrainNumber(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTrainType\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Travle2 Service ] !\";\n    }","returnType":"String","methodName":"home","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.home","classId":"travel2.controller.Travel2Controller","line":30,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@GetMapping(value \u003d \"/train_types/{tripId}\")\n    public HttpEntity getTrainTypeByTripId(@PathVariable String tripId,\n                                           @RequestHeader HttpHeaders headers) {\n        // TrainType\n        return ok(service.getTrainTypeByTripId(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getTrainTypeByTripId","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.getTrainTypeByTripId","classId":"travel2.controller.Travel2Controller","line":35,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/train_types/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.getTrainTypeByTripId(tripId, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"getTrainTypeByTripId","parentClassId":"travel2.controller.Travel2Controller","lineNumber":39,"calledMethodName":"getTrainTypeByTripId","calledServiceId":"service","statementDeclaration":"service.getTrainTypeByTripId(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTrainTypeByTripId(String tripId, HttpHeaders headers) {\n        TripId tripId1 \u003d new TripId(tripId);\n        TrainType trainType \u003d null;\n        Trip trip \u003d repository.findByTripId(tripId1);\n        if (trip !\u003d null) {\n            trainType \u003d getTrainType(trip.getTrainTypeId(), headers);\n        }\n        if (trainType !\u003d null) {\n            return new Response\u003c\u003e(1, \"Success query Train by trip id\", trainType);\n        } else {\n            return new Response\u003c\u003e(0, noCnontent, null);\n        }\n    }","returnType":"Response","methodName":"getTrainTypeByTripId","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.getTrainTypeByTripId","classId":"travel2.service.Travel2ServiceImpl","line":57,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(tripId1)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"getTrainTypeByTripId","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":61,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(tripId1)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@GetMapping(value \u003d \"/routes/{tripId}\")\n    public HttpEntity getRouteByTripId(@PathVariable String tripId,\n                                       @RequestHeader HttpHeaders headers) {\n        Travel2Controller.LOGGER.info(\"[Get Route By Trip ID] TripId: {}\", tripId);\n        //Route\n        return ok(service.getRouteByTripId(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getRouteByTripId","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.getRouteByTripId","classId":"travel2.controller.Travel2Controller","line":42,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/routes/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.getRouteByTripId(tripId, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"getRouteByTripId","parentClassId":"travel2.controller.Travel2Controller","lineNumber":47,"calledMethodName":"getRouteByTripId","calledServiceId":"service","statementDeclaration":"service.getRouteByTripId(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getRouteByTripId(String tripId, HttpHeaders headers) {\n        TripId tripId1 \u003d new TripId(tripId);\n\n        Trip trip \u003d repository.findByTripId(tripId1);\n        if (trip \u003d\u003d null) {\n            Travel2ServiceImpl.LOGGER.info(\"[Get Route By Trip ID] Trip Not Found: {}\", tripId);\n            return new Response\u003c\u003e(0, \"\\\"[Get Route By Trip ID] Trip Not Found:\\\" + tripId\", null);\n        } else {\n            Route route \u003d getRouteByRouteId(trip.getRouteId(), headers);\n            if (route \u003d\u003d null) {\n                return new Response\u003c\u003e(0, \"\\\"[Get Route By Trip ID] Route Not Found:\\\" + trip.getRouteId()\", null);\n            } else {\n                Travel2ServiceImpl.LOGGER.info(\"[Get Route By Trip ID] Success\");\n                return new Response\u003c\u003e(1, \"[Get Route By Trip ID] Success\", route);\n            }\n        }\n    }","returnType":"Response","methodName":"getRouteByTripId","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.getRouteByTripId","classId":"travel2.service.Travel2ServiceImpl","line":37,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(tripId1)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"getRouteByTripId","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":41,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(tripId1)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@PostMapping(value \u003d \"/trips/routes\")\n    public HttpEntity getTripsByRouteId(@RequestBody ArrayList\u003cString\u003e routeIds,\n                                        @RequestHeader HttpHeaders headers) {\n        // ArrayList\u003cArrayList\u003cTrip\u003e\u003e\n        return ok(service.getTripByRoute(routeIds, headers));\n    }","returnType":"HttpEntity","methodName":"getTripsByRouteId","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.getTripsByRouteId","classId":"travel2.controller.Travel2Controller","line":50,"msArgumentList":[{"returnType":"ArrayList\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips/routes\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.getTripByRoute(routeIds, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"getTripsByRouteId","parentClassId":"travel2.controller.Travel2Controller","lineNumber":54,"calledMethodName":"getTripByRoute","calledServiceId":"service","statementDeclaration":"service.getTripByRoute(routeIds, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTripByRoute(ArrayList\u003cString\u003e routeIds, HttpHeaders headers) {\n        ArrayList\u003cArrayList\u003cTrip\u003e\u003e tripList \u003d new ArrayList\u003c\u003e();\n        for (String routeId : routeIds) {\n            ArrayList\u003cTrip\u003e tempTripList \u003d repository.findByRouteId(routeId);\n            if (tempTripList \u003d\u003d null) {\n                tempTripList \u003d new ArrayList\u003c\u003e();\n            }\n            tripList.add(tempTripList);\n        }\n        if (!tripList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, tripList);\n        } else {\n            return new Response\u003c\u003e(0, noCnontent, null);\n        }\n    }","returnType":"Response","methodName":"getTripByRoute","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.getTripByRoute","classId":"travel2.service.Travel2ServiceImpl","line":72,"msArgumentList":[{"returnType":"ArrayList\u003cString\u003e"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByRouteId(routeId)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"getTripByRoute","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":76,"calledMethodName":"findByRouteId","calledServiceId":"repository","statementDeclaration":"repository.findByRouteId(routeId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"ArrayList\u003cTrip\u003e findByRouteId(String routeId);","returnType":"ArrayList\u003cTrip\u003e","methodName":"findByRouteId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByRouteId","classId":"travel.repository.TripRepository","line":21,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trips\")\n    public HttpEntity\u003c?\u003e createTrip(@RequestBody TravelInfo routeIds, @RequestHeader HttpHeaders headers) {\n        // null\n        return new ResponseEntity\u003c\u003e(service.create(routeIds, headers), HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003c?\u003e","methodName":"createTrip","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.createTrip","classId":"travel2.controller.Travel2Controller","line":57,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.create(routeIds, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"createTrip","parentClassId":"travel2.controller.Travel2Controller","lineNumber":61,"calledMethodName":"create","calledServiceId":"service","statementDeclaration":"service.create(routeIds, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(TravelInfo info, HttpHeaders headers) {\n        TripId ti \u003d new TripId(info.getTripId());\n        if (repository.findByTripId(ti) \u003d\u003d null) {\n            Trip trip \u003d new Trip(ti, info.getTrainTypeId(), info.getStartingStationId(),\n                    info.getStationsId(), info.getTerminalStationId(), info.getStartingTime(), info.getEndTime());\n            trip.setRouteId(info.getRouteId());\n            repository.save(trip);\n            return new Response\u003c\u003e(1, \"Create trip info:\" + ti.toString() + \".\", null);\n        } else {\n            return new Response\u003c\u003e(1, \"Trip \" + info.getTripId() + \" already exists\", null);\n        }\n    }","returnType":"Response","methodName":"create","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.create","classId":"travel2.service.Travel2ServiceImpl","line":89,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"create","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":92,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trips/{tripId}\")\n    public HttpEntity retrieve(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        // Trip\n        return ok(service.retrieve(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"retrieve","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.retrieve","classId":"travel2.controller.Travel2Controller","line":71,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trips/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.retrieve(tripId, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"retrieve","parentClassId":"travel2.controller.Travel2Controller","lineNumber":75,"calledMethodName":"retrieve","calledServiceId":"service","statementDeclaration":"service.retrieve(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response retrieve(String tripId, HttpHeaders headers) {\n        TripId ti \u003d new TripId(tripId);\n        Trip trip \u003d repository.findByTripId(ti);\n        if (trip !\u003d null) {\n            return new Response\u003c\u003e(1, \"Search Trip Success by Trip Id \" + tripId, trip);\n        } else {\n            return new Response\u003c\u003e(0, \"No Content according to tripId\" + tripId, null);\n        }\n    }","returnType":"Response","methodName":"retrieve","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.retrieve","classId":"travel2.service.Travel2ServiceImpl","line":103,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"retrieve","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":106,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(value \u003d \"/trips\")\n    public HttpEntity updateTrip(@RequestBody TravelInfo info, @RequestHeader HttpHeaders headers) {\n        // Trip\n        return ok(service.update(info, headers));\n    }","returnType":"HttpEntity","methodName":"updateTrip","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.updateTrip","classId":"travel2.controller.Travel2Controller","line":78,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.update(info, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"updateTrip","parentClassId":"travel2.controller.Travel2Controller","lineNumber":82,"calledMethodName":"update","calledServiceId":"service","statementDeclaration":"service.update(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response update(TravelInfo info, HttpHeaders headers) {\n        TripId ti \u003d new TripId(info.getTripId());\n        if (repository.findByTripId(ti) !\u003d null) {\n            Trip trip \u003d new Trip(ti, info.getTrainTypeId(), info.getStartingStationId(),\n                    info.getStationsId(), info.getTerminalStationId(), info.getStartingTime(), info.getEndTime());\n            trip.setRouteId(info.getRouteId());\n            repository.save(trip);\n            return new Response\u003c\u003e(1, \"Update trip info:\" + ti.toString(), trip);\n        } else {\n            return new Response\u003c\u003e(1, \"Trip\" + info.getTripId() + \"doesn \u0027t exists\", null);\n        }\n    }","returnType":"Response","methodName":"update","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.update","classId":"travel2.service.Travel2ServiceImpl","line":114,"msArgumentList":[{"returnType":"TravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"update","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":117,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(value \u003d \"/trips/{tripId}\")\n    public HttpEntity deleteTrip(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        // string\n        return ok(service.delete(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteTrip","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.deleteTrip","classId":"travel2.controller.Travel2Controller","line":85,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/trips/{tripId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.delete(tripId, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"deleteTrip","parentClassId":"travel2.controller.Travel2Controller","lineNumber":89,"calledMethodName":"delete","calledServiceId":"service","statementDeclaration":"service.delete(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response delete(String tripId, HttpHeaders headers) {\n        TripId ti \u003d new TripId(tripId);\n        if (repository.findByTripId(ti) !\u003d null) {\n            repository.deleteByTripId(ti);\n            return new Response\u003c\u003e(1, \"Delete trip:\" + tripId + \".\", tripId);\n        } else {\n            return new Response\u003c\u003e(0, \"Trip \" + tripId + \" doesn\u0027t exist.\", null);\n        }\n    }","returnType":"Response","methodName":"delete","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.delete","classId":"travel2.service.Travel2ServiceImpl","line":128,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(ti)","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"delete","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":131,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(ti)"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trips/left\")\n    public HttpEntity queryInfo(@RequestBody TripInfo info, @RequestHeader HttpHeaders headers) {\n        if (info.getStartingPlace() \u003d\u003d null || info.getStartingPlace().length() \u003d\u003d 0 ||\n                info.getEndPlace() \u003d\u003d null || info.getEndPlace().length() \u003d\u003d 0 ||\n                info.getDepartureTime() \u003d\u003d null) {\n            Travel2Controller.LOGGER.info(\"[Travel Service][Travel Query] Fail.Something null.\");\n            ArrayList\u003cTripResponse\u003e errorList \u003d new ArrayList\u003c\u003e();\n            return ok(errorList);\n        }\n        Travel2Controller.LOGGER.info(\"[Travel Service] Query TripResponse\");\n        return ok(service.query(info, headers));\n    }","returnType":"HttpEntity","methodName":"queryInfo","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.queryInfo","classId":"travel2.controller.Travel2Controller","line":99,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trips/left\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.query(info, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"queryInfo","parentClassId":"travel2.controller.Travel2Controller","lineNumber":110,"calledMethodName":"query","calledServiceId":"service","statementDeclaration":"service.query(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response query(TripInfo info, HttpHeaders headers) {\n\n        //Gets the start and arrival stations of the train number to query. The originating and arriving stations received here are both station names, so two requests need to be sent to convert to station ids\n        String startingPlaceName \u003d info.getStartingPlace();\n        String endPlaceName \u003d info.getEndPlace();\n        String startingPlaceId \u003d queryForStationId(startingPlaceName, headers);\n        String endPlaceId \u003d queryForStationId(endPlaceName, headers);\n\n        //This is the final result\n        ArrayList\u003cTripResponse\u003e list \u003d new ArrayList\u003c\u003e();\n\n        //Check all train info\n        ArrayList\u003cTrip\u003e allTripList \u003d repository.findAll();\n        for (Trip tempTrip : allTripList) {\n            //Get the detailed route list of this train\n            Route tempRoute \u003d getRouteByRouteId(tempTrip.getRouteId(), headers);\n            //Check the route list for this train. Check that the required start and arrival stations are in the list of stops that are not on the route, and check that the location of the start station is before the stop\n            //Trains that meet the above criteria are added to the return list\n            if (tempRoute.getStations().contains(startingPlaceId) \u0026\u0026\n                    tempRoute.getStations().contains(endPlaceId) \u0026\u0026\n                    tempRoute.getStations().indexOf(startingPlaceId) \u003c tempRoute.getStations().indexOf(endPlaceId)) {\n                TripResponse response \u003d getTickets(tempTrip, tempRoute, startingPlaceId, endPlaceId, startingPlaceName, endPlaceName, info.getDepartureTime(), headers);\n                if (response \u003d\u003d null) {\n                    return new Response\u003c\u003e(0, noCnontent, null);\n                }\n                list.add(response);\n            }\n        }\n        return new Response\u003c\u003e(1, \"Success Query\", list);\n    }","returnType":"Response","methodName":"query","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.query","classId":"travel2.service.Travel2ServiceImpl","line":139,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"query","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":152,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/trip_detail\")\n    public HttpEntity getTripAllDetailInfo(@RequestBody TripAllDetailInfo gtdi, @RequestHeader HttpHeaders headers) {\n        return ok(service.getTripAllDetailInfo(gtdi, headers));\n    }","returnType":"HttpEntity","methodName":"getTripAllDetailInfo","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.getTripAllDetailInfo","classId":"travel2.controller.Travel2Controller","line":120,"msArgumentList":[{"returnType":"TripAllDetailInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/trip_detail\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.getTripAllDetailInfo(gtdi, headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"getTripAllDetailInfo","parentClassId":"travel2.controller.Travel2Controller","lineNumber":123,"calledMethodName":"getTripAllDetailInfo","calledServiceId":"service","statementDeclaration":"service.getTripAllDetailInfo(gtdi, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTripAllDetailInfo(TripAllDetailInfo gtdi, HttpHeaders headers) {\n        TripAllDetail gtdr \u003d new TripAllDetail();\n        Travel2ServiceImpl.LOGGER.info(\"[TravelService] [getTripAllDetailInfo] gtdi info: {}\", gtdi.toString());\n        Trip trip \u003d repository.findByTripId(new TripId(gtdi.getTripId()));\n        if (trip \u003d\u003d null) {\n            gtdr.setTripResponse(null);\n            gtdr.setTrip(null);\n        } else {\n            String endPlaceName \u003d gtdi.getTo();\n            String startingPlaceName \u003d gtdi.getFrom();\n            String startingPlaceId \u003d queryForStationId(startingPlaceName, headers);\n            String endPlaceId \u003d queryForStationId(endPlaceName, headers);\n            Travel2ServiceImpl.LOGGER.info(\"[TravelService] [getTripAllDetailInfo] endPlaceID: {}\", endPlaceId);\n            Route tempRoute \u003d getRouteByRouteId(trip.getRouteId(), headers);\n            TripResponse tripResponse \u003d getTickets(trip, tempRoute, startingPlaceId, endPlaceId, gtdi.getFrom(), gtdi.getTo(), gtdi.getTravelDate(), headers);\n            if (tripResponse \u003d\u003d null) {\n                gtdr.setTrip(null);\n                gtdr.setTripResponse(null);\n            } else {\n                gtdr.setTripResponse(tripResponse);\n                gtdr.setTrip(repository.findByTripId(new TripId(gtdi.getTripId())));\n            }\n        }\n\n\n        return new Response\u003c\u003e(1, success, gtdr);\n    }","returnType":"Response","methodName":"getTripAllDetailInfo","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.getTripAllDetailInfo","classId":"travel2.service.Travel2ServiceImpl","line":171,"msArgumentList":[{"returnType":"TripAllDetailInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findByTripId(new TripId(gtdi.getTripId()))","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"getTripAllDetailInfo","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":175,"calledMethodName":"findByTripId","calledServiceId":"repository","statementDeclaration":"repository.findByTripId(new TripId(gtdi.getTripId()))"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"Trip findByTripId(TripId tripId);","returnType":"Trip","methodName":"findByTripId","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findByTripId","classId":"travel.repository.TripRepository","line":14,"msArgumentList":[{"returnType":"TripId"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/trips\")\n    public HttpEntity queryAll(@RequestHeader HttpHeaders headers) {\n        // List\u003cTrip\u003e\n        return ok(service.queryAll(headers));\n    }","returnType":"HttpEntity","methodName":"queryAll","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.queryAll","classId":"travel2.controller.Travel2Controller","line":126,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/trips\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.queryAll(headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"queryAll","parentClassId":"travel2.controller.Travel2Controller","lineNumber":130,"calledMethodName":"queryAll","calledServiceId":"service","statementDeclaration":"service.queryAll(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAll(HttpHeaders headers) {\n        List\u003cTrip\u003e tripList \u003d repository.findAll();\n        if (tripList !\u003d null \u0026\u0026 !tripList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, tripList);\n        }\n        return new Response\u003c\u003e(0, noCnontent, null);\n    }","returnType":"Response","methodName":"queryAll","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.queryAll","classId":"travel2.service.Travel2ServiceImpl","line":294,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"queryAll","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":296,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"classId":"travel2.controller.Travel2Controller","packageName":"travel2.controller","className":"Travel2Controller","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/admin_trip\")\n    public HttpEntity adminQueryAll(@RequestHeader HttpHeaders headers) {\n        // ArrayList\u003cAdminTrip\u003e\n        return ok(service.adminQueryAll(headers));\n    }","returnType":"HttpEntity","methodName":"adminQueryAll","className":"Travel2Controller","packageName":"travel2.controller","methodId":"travel2.controller.Travel2Controller.adminQueryAll","classId":"travel2.controller.Travel2Controller","line":133,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/admin_trip\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"service.adminQueryAll(headers)","parentPackageName":"travel2.controller","parentClassName":"Travel2Controller","parentMethodName":"adminQueryAll","parentClassId":"travel2.controller.Travel2Controller","lineNumber":137,"calledMethodName":"adminQueryAll","calledServiceId":"service","statementDeclaration":"service.adminQueryAll(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/controller/Travel2Controller.java","directoryName":""},"code":"@Autowired\n    private Travel2Service service;","fieldClass":"Travel2Service","fieldVariable":"service","parentMethod":{"parentClassName":"Travel2Controller","parentPackageName":"travel2.controller"},"line":25},"msService":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"classId":"travel2.service.Travel2ServiceImpl","packageName":"travel2.service","className":"Travel2ServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Override\n    public Response adminQueryAll(HttpHeaders headers) {\n        List\u003cTrip\u003e trips \u003d repository.findAll();\n        ArrayList\u003cAdminTrip\u003e adminTrips \u003d new ArrayList\u003c\u003e();\n        for (Trip trip : trips) {\n            AdminTrip adminTrip \u003d new AdminTrip();\n            adminTrip.setRoute(getRouteByRouteId(trip.getRouteId(), headers));\n            adminTrip.setTrainType(getTrainType(trip.getTrainTypeId(), headers));\n            adminTrip.setTrip(trip);\n            adminTrips.add(adminTrip);\n        }\n        if (!adminTrips.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Travel Service Admin Query All Travel Success\", adminTrips);\n        } else {\n            return new Response\u003c\u003e(0, noCnontent, null);\n        }\n    }","returnType":"Response","methodName":"adminQueryAll","className":"Travel2ServiceImpl","packageName":"travel2.service","methodId":"travel2.service.Travel2ServiceImpl.adminQueryAll","classId":"travel2.service.Travel2ServiceImpl","line":397,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"travel2.service","parentClassName":"Travel2ServiceImpl","parentMethodName":"adminQueryAll","parentClassId":"travel2.service.Travel2ServiceImpl","lineNumber":399,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-travel2-service/src/main/java/travel2/service/Travel2ServiceImpl.java","directoryName":""},"code":"@Autowired\n    TripRepository repository;","fieldClass":"TripRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"Travel2ServiceImpl","parentPackageName":"travel2.service"},"line":26},"msRepository":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"classId":"travel.repository.TripRepository","packageName":"travel.repository","className":"TripRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-travel-service/src/main/java/travel/repository/TripRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cTrip\u003e findAll();","returnType":"ArrayList\u003cTrip\u003e","methodName":"findAll","className":"TripRepository","packageName":"travel.repository","methodId":"travel.repository.TripRepository.findAll","classId":"travel.repository.TripRepository","line":18,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ Order Other Service ] !\";\n    }","returnType":"String","methodName":"home","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.home","classId":"other.controller.OrderOtherController","line":28,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/orderOther/tickets\")\n    public HttpEntity getTicketListByDateAndTripId(@RequestBody Seat seatRequest, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Get Sold Ticket] Date: {}\", seatRequest.getTravelDate().toString());\n        return ok(orderService.getSoldTickets(seatRequest, headers));\n    }","returnType":"HttpEntity","methodName":"getTicketListByDateAndTripId","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.getTicketListByDateAndTripId","classId":"other.controller.OrderOtherController","line":35,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/orderOther/tickets\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.getSoldTickets(seatRequest, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"getTicketListByDateAndTripId","parentClassId":"other.controller.OrderOtherController","lineNumber":38,"calledMethodName":"getSoldTickets","calledServiceId":"orderService","statementDeclaration":"orderService.getSoldTickets(seatRequest, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getSoldTickets(Seat seatRequest, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e list \u003d orderOtherRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(),\n                seatRequest.getTrainNumber());\n        if (list !\u003d null \u0026\u0026 !list.isEmpty()) {\n            Set ticketSet \u003d new HashSet();\n            for (Order tempOrder : list) {\n                Ticket ticket \u003d new Ticket();\n                ticket.setSeatNo(Integer.parseInt(tempOrder.getSeatNumber()));\n                ticket.setStartStation(tempOrder.getFrom());\n                ticket.setDestStation(tempOrder.getTo());\n                ticketSet.add(ticket);\n            }\n\n            LeftTicketInfo leftTicketInfo \u003d new LeftTicketInfo();\n            leftTicketInfo.setSoldTickets(ticketSet);\n            OrderOtherServiceImpl.LOGGER.info(\"Left ticket info is: {}\", leftTicketInfo.toString());\n\n            return new Response\u003c\u003e(1, success, leftTicketInfo);\n        } else {\n            return new Response\u003c\u003e(0, \"Seat is Null.\", null);\n        }\n    }","returnType":"Response","methodName":"getSoldTickets","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.getSoldTickets","classId":"other.service.OrderOtherServiceImpl","line":36,"msArgumentList":[{"returnType":"Seat"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(),\n                seatRequest.getTrainNumber())","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"getSoldTickets","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":38,"calledMethodName":"findByTravelDateAndTrainNumber","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByTravelDateAndTrainNumber(seatRequest.getTravelDate(), seatRequest.getTrainNumber())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027travelDate\u0027 : ?0 , trainNumber : ?1 }\")\n    ArrayList\u003cOrder\u003e findByTravelDateAndTrainNumber(Date travelDate, String trainNumber);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByTravelDateAndTrainNumber","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByTravelDateAndTrainNumber","classId":"other.repository.OrderOtherRepository","line":50,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/orderOther\")\n    public HttpEntity createNewOrder(@RequestBody Order createOrder, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Create Order] Create Order form {}  ---\u003e {} at {}\", createOrder.getFrom(), createOrder.getTo(), createOrder.getTravelDate());\n\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Verify Login] Success\");\n        return ok(orderService.create(createOrder, headers));\n    }","returnType":"HttpEntity","methodName":"createNewOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.createNewOrder","classId":"other.controller.OrderOtherController","line":41,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/orderOther\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.create(createOrder, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"createNewOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":47,"calledMethodName":"create","calledServiceId":"orderService","statementDeclaration":"orderService.create(createOrder, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(Order order, HttpHeaders headers) {\n        OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Create Order] Ready Create Order\");\n        ArrayList\u003cOrder\u003e accountOrders \u003d orderOtherRepository.findByAccountId(order.getAccountId());\n        if (accountOrders.contains(order)) {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Order Create] Fail.Order already exists.\");\n            return new Response\u003c\u003e(0, \"Order already exist\", order);\n        } else {\n            order.setId(UUID.randomUUID());\n            orderOtherRepository.save(order);\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Order Create] Success.\");\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Order Create] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"create","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.create","classId":"other.service.OrderOtherServiceImpl","line":70,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByAccountId(order.getAccountId())","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"create","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":73,"calledMethodName":"findByAccountId","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByAccountId(order.getAccountId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByAccountId","classId":"other.repository.OrderOtherRepository","line":40,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/orderOther/admin\")\n    public HttpEntity addcreateNewOrder(@RequestBody Order order, @RequestHeader HttpHeaders headers) {\n        return ok(orderService.addNewOrder(order, headers));\n    }","returnType":"HttpEntity","methodName":"addcreateNewOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.addcreateNewOrder","classId":"other.controller.OrderOtherController","line":50,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/orderOther/admin\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.addNewOrder(order, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"addcreateNewOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":53,"calledMethodName":"addNewOrder","calledServiceId":"orderService","statementDeclaration":"orderService.addNewOrder(order, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response addNewOrder(Order order, HttpHeaders headers) {\n        OrderOtherServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Ready Add Order.\");\n        ArrayList\u003cOrder\u003e accountOrders \u003d orderOtherRepository.findByAccountId(order.getAccountId());\n        if (accountOrders.contains(order)) {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Fail.Order already exists.\");\n            return new Response\u003c\u003e(0, \"Order already exist\", null);\n        } else {\n            order.setId(UUID.randomUUID());\n            orderOtherRepository.save(order);\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Success.\");\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Service][Admin Add Order] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"addNewOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.addNewOrder","classId":"other.service.OrderOtherServiceImpl","line":383,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByAccountId(order.getAccountId())","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"addNewOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":386,"calledMethodName":"findByAccountId","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByAccountId(order.getAccountId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByAccountId","classId":"other.repository.OrderOtherRepository","line":40,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/orderOther/query\")\n    public HttpEntity queryOrders(@RequestBody QueryInfo qi,\n                                  @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Query Orders] Query Orders for {}\", qi.getLoginId());\n        return ok(orderService.queryOrders(qi, qi.getLoginId(), headers));\n\n    }","returnType":"HttpEntity","methodName":"queryOrders","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.queryOrders","classId":"other.controller.OrderOtherController","line":56,"msArgumentList":[{"returnType":"QueryInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/orderOther/query\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.queryOrders(qi, qi.getLoginId(), headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"queryOrders","parentClassId":"other.controller.OrderOtherController","lineNumber":61,"calledMethodName":"queryOrders","calledServiceId":"orderService","statementDeclaration":"orderService.queryOrders(qi, qi.getLoginId(), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response\u003cArrayList\u003cOrder\u003e\u003e queryOrders(QueryInfo qi, String accountId, HttpHeaders headers) {\n        //1.Get all orders of the user\n        ArrayList\u003cOrder\u003e list \u003d orderOtherRepository.findByAccountId(UUID.fromString(accountId));\n        OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order][Step 1] Get Orders Number of Account: {}\", list.size());\n        //2.Check is these orders fit the requirement/\n        if (qi.isEnableStateQuery() || qi.isEnableBoughtDateQuery() || qi.isEnableTravelDateQuery()) {\n            ArrayList\u003cOrder\u003e finalList \u003d new ArrayList\u003c\u003e();\n            for (Order tempOrder : list) {\n                boolean statePassFlag \u003d false;\n                boolean boughtDatePassFlag \u003d false;\n                boolean travelDatePassFlag \u003d false;\n                //3.Check order state requirement.\n                if (qi.isEnableStateQuery()) {\n                    if (tempOrder.getStatus() !\u003d qi.getState()) {\n                        statePassFlag \u003d false;\n                    } else {\n                        statePassFlag \u003d true;\n                    }\n                } else {\n                    statePassFlag \u003d true;\n                }\n                OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order][Step 2][Check Status Fits End]\");\n                //4.Check order travel date requirement.\n                if (qi.isEnableTravelDateQuery()) {\n                    if (tempOrder.getTravelDate().before(qi.getTravelDateEnd()) \u0026\u0026\n                            tempOrder.getTravelDate().after(qi.getBoughtDateStart())) {\n                        travelDatePassFlag \u003d true;\n                    } else {\n                        travelDatePassFlag \u003d false;\n                    }\n                } else {\n                    travelDatePassFlag \u003d true;\n                }\n                OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order][Step 2][Check Travel Date End]\");\n                //5.Check order bought date requirement.\n                if (qi.isEnableBoughtDateQuery()) {\n                    if (tempOrder.getBoughtDate().before(qi.getBoughtDateEnd()) \u0026\u0026\n                            tempOrder.getBoughtDate().after(qi.getBoughtDateStart())) {\n                        boughtDatePassFlag \u003d true;\n                    } else {\n                        boughtDatePassFlag \u003d false;\n                    }\n                } else {\n                    boughtDatePassFlag \u003d true;\n                }\n                OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order][Step 2][Check Bought Date End]\");\n                //6.check if all requirement fits.\n                if (statePassFlag \u0026\u0026 boughtDatePassFlag \u0026\u0026 travelDatePassFlag) {\n                    finalList.add(tempOrder);\n                }\n                OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order][Step 2][Check All Requirement End]\");\n            }\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order] Get order num: {}\", finalList.size());\n            return new Response\u003c\u003e(1, \"Get order num\", finalList);\n        } else {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Query Order] Get order num: {}\", list.size());\n            return new Response\u003c\u003e(1, \"Get order num\", list);\n        }\n    }","returnType":"Response\u003cArrayList\u003cOrder\u003e\u003e","methodName":"queryOrders","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.queryOrders","classId":"other.service.OrderOtherServiceImpl","line":119,"msArgumentList":[{"returnType":"QueryInfo"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByAccountId(UUID.fromString(accountId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"queryOrders","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":122,"calledMethodName":"findByAccountId","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByAccountId(UUID.fromString(accountId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByAccountId","classId":"other.repository.OrderOtherRepository","line":40,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(path \u003d \"/orderOther/refresh\")\n    public HttpEntity queryOrdersForRefresh(@RequestBody QueryInfo qi,\n                                            @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Query Orders] Query Orders for {}\", qi.getLoginId());\n        return ok(orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers));\n    }","returnType":"HttpEntity","methodName":"queryOrdersForRefresh","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.queryOrdersForRefresh","classId":"other.controller.OrderOtherController","line":65,"msArgumentList":[{"returnType":"QueryInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"path","value":"\"/orderOther/refresh\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"queryOrdersForRefresh","parentClassId":"other.controller.OrderOtherController","lineNumber":70,"calledMethodName":"queryOrdersForRefresh","calledServiceId":"orderService","statementDeclaration":"orderService.queryOrdersForRefresh(qi, qi.getLoginId(), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryOrdersForRefresh(QueryInfo qi, String accountId, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d queryOrders(qi, accountId, headers).getData();\n        ArrayList\u003cString\u003e stationIds \u003d new ArrayList\u003c\u003e();\n        for (Order order : orders) {\n            stationIds.add(order.getFrom());\n            stationIds.add(order.getTo());\n        }\n        List\u003cString\u003e names \u003d queryForStationId(stationIds, headers);\n        for (int i \u003d 0; i \u003c orders.size(); i++) {\n            orders.get(i).setFrom(names.get(i * 2));\n            orders.get(i).setTo(names.get(i * 2 + 1));\n        }\n        return new Response\u003c\u003e(1, success, orders);\n    }","returnType":"Response","methodName":"queryOrdersForRefresh","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.queryOrdersForRefresh","classId":"other.service.OrderOtherServiceImpl","line":180,"msArgumentList":[{"returnType":"QueryInfo"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/{travelDate}/{trainNumber}\")\n    public HttpEntity calculateSoldTicket(@PathVariable Date travelDate, @PathVariable String trainNumber,\n                                          @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Calculate Sold Tickets] Date: {} TrainNumber: {}\", travelDate, trainNumber);\n        return ok(orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers));\n    }","returnType":"HttpEntity","methodName":"calculateSoldTicket","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.calculateSoldTicket","classId":"other.controller.OrderOtherController","line":74,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/{travelDate}/{trainNumber}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"calculateSoldTicket","parentClassId":"other.controller.OrderOtherController","lineNumber":79,"calledMethodName":"queryAlreadySoldOrders","calledServiceId":"orderService","statementDeclaration":"orderService.queryAlreadySoldOrders(travelDate, trainNumber, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAlreadySoldOrders(Date travelDate, String trainNumber, HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d orderOtherRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber);\n        SoldTicket cstr \u003d new SoldTicket();\n        cstr.setTravelDate(travelDate);\n        cstr.setTrainNumber(trainNumber);\n        OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Calculate Sold Ticket] Get Orders Number: {}\", orders.size());\n        for (Order order : orders) {\n            if (order.getStatus() \u003e\u003d OrderStatus.CHANGE.getCode()) {\n                continue;\n            }\n            if (order.getSeatClass() \u003d\u003d SeatClass.NONE.getCode()) {\n                cstr.setNoSeat(cstr.getNoSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.BUSINESS.getCode()) {\n                cstr.setBusinessSeat(cstr.getBusinessSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.FIRSTCLASS.getCode()) {\n                cstr.setFirstClassSeat(cstr.getFirstClassSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SECONDCLASS.getCode()) {\n                cstr.setSecondClassSeat(cstr.getSecondClassSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HARDSEAT.getCode()) {\n                cstr.setHardSeat(cstr.getHardSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SOFTSEAT.getCode()) {\n                cstr.setSoftSeat(cstr.getSoftSeat() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HARDBED.getCode()) {\n                cstr.setHardBed(cstr.getHardBed() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.SOFTBED.getCode()) {\n                cstr.setSoftBed(cstr.getSoftBed() + 1);\n            } else if (order.getSeatClass() \u003d\u003d SeatClass.HIGHSOFTBED.getCode()) {\n                cstr.setHighSoftBed(cstr.getHighSoftBed() + 1);\n            } else {\n                OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Calculate Sold Tickets] Seat class not exists. Order ID: {}\", order.getId());\n            }\n        }\n        return new Response\u003c\u003e(1, success, cstr);\n    }","returnType":"Response","methodName":"queryAlreadySoldOrders","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.queryAlreadySoldOrders","classId":"other.service.OrderOtherServiceImpl","line":254,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber)","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"queryAlreadySoldOrders","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":256,"calledMethodName":"findByTravelDateAndTrainNumber","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByTravelDateAndTrainNumber(travelDate, trainNumber)"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027travelDate\u0027 : ?0 , trainNumber : ?1 }\")\n    ArrayList\u003cOrder\u003e findByTravelDateAndTrainNumber(Date travelDate, String trainNumber);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByTravelDateAndTrainNumber","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByTravelDateAndTrainNumber","classId":"other.repository.OrderOtherRepository","line":50,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/price/{orderId}\")\n    public HttpEntity getOrderPrice(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Get Order Price] Order Id: {}\", orderId);\n        return ok(orderService.getOrderPrice(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"getOrderPrice","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.getOrderPrice","classId":"other.controller.OrderOtherController","line":82,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/price/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.getOrderPrice(orderId, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"getOrderPrice","parentClassId":"other.controller.OrderOtherController","lineNumber":86,"calledMethodName":"getOrderPrice","calledServiceId":"orderService","statementDeclaration":"orderService.getOrderPrice(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getOrderPrice(String orderId, HttpHeaders headers) {\n        Order order \u003d orderOtherRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, \"-1.0\");\n        } else {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Get Order Price] Price: {}\", order.getPrice());\n            return new Response\u003c\u003e(1, success, order.getPrice());\n        }\n    }","returnType":"Response","methodName":"getOrderPrice","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.getOrderPrice","classId":"other.service.OrderOtherServiceImpl","line":312,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(UUID.fromString(orderId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"getOrderPrice","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":314,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/orderPay/{orderId}\")\n    public HttpEntity payOrder(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Pay Order] Order Id: {}\", orderId);\n        return ok(orderService.payOrder(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"payOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.payOrder","classId":"other.controller.OrderOtherController","line":89,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/orderPay/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.payOrder(orderId, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"payOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":93,"calledMethodName":"payOrder","calledServiceId":"orderService","statementDeclaration":"orderService.payOrder(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response payOrder(String orderId, HttpHeaders headers) {\n        Order order \u003d orderOtherRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            order.setStatus(OrderStatus.PAID.getCode());\n            orderOtherRepository.save(order);\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"payOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.payOrder","classId":"other.service.OrderOtherServiceImpl","line":323,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(UUID.fromString(orderId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"payOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":325,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/{orderId}\")\n    public HttpEntity getOrderById(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Get Order By Id] Order Id: {}\", orderId);\n        return ok(orderService.getOrderById(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"getOrderById","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.getOrderById","classId":"other.controller.OrderOtherController","line":96,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.getOrderById(orderId, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"getOrderById","parentClassId":"other.controller.OrderOtherController","lineNumber":100,"calledMethodName":"getOrderById","calledServiceId":"orderService","statementDeclaration":"orderService.getOrderById(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getOrderById(String orderId, HttpHeaders headers) {\n        Order order \u003d orderOtherRepository.findById(UUID.fromString(orderId));\n\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"getOrderById","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.getOrderById","classId":"other.service.OrderOtherServiceImpl","line":335,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(UUID.fromString(orderId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"getOrderById","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":337,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/status/{orderId}/{status}\")\n    public HttpEntity modifyOrder(@PathVariable String orderId, @PathVariable int status, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Modify Order Status] Order Id: {}\", orderId);\n        return ok(orderService.modifyOrder(orderId, status, headers));\n    }","returnType":"HttpEntity","methodName":"modifyOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.modifyOrder","classId":"other.controller.OrderOtherController","line":103,"msArgumentList":[{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/status/{orderId}/{status}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.modifyOrder(orderId, status, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"modifyOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":107,"calledMethodName":"modifyOrder","calledServiceId":"orderService","statementDeclaration":"orderService.modifyOrder(orderId, status, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response modifyOrder(String orderId, int status, HttpHeaders headers) {\n        Order order \u003d orderOtherRepository.findById(UUID.fromString(orderId));\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            order.setStatus(status);\n            orderOtherRepository.save(order);\n            return new Response\u003c\u003e(1, success, order);\n        }\n    }","returnType":"Response","methodName":"modifyOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.modifyOrder","classId":"other.service.OrderOtherServiceImpl","line":300,"msArgumentList":[{"returnType":"String"},{"returnType":"int"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(UUID.fromString(orderId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"modifyOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":302,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(UUID.fromString(orderId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther/security/{checkDate}/{accountId}\")\n    public HttpEntity securityInfoCheck(@PathVariable Date checkDate, @PathVariable String accountId,\n                                        @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Security Info Get]\");\n        return ok(orderService.checkSecurityAboutOrder(checkDate, accountId, headers));\n    }","returnType":"HttpEntity","methodName":"securityInfoCheck","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.securityInfoCheck","classId":"other.controller.OrderOtherController","line":110,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther/security/{checkDate}/{accountId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.checkSecurityAboutOrder(checkDate, accountId, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"securityInfoCheck","parentClassId":"other.controller.OrderOtherController","lineNumber":115,"calledMethodName":"checkSecurityAboutOrder","calledServiceId":"orderService","statementDeclaration":"orderService.checkSecurityAboutOrder(checkDate, accountId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response checkSecurityAboutOrder(Date dateFrom, String accountId, HttpHeaders headers) {\n        OrderSecurity result \u003d new OrderSecurity();\n        ArrayList\u003cOrder\u003e orders \u003d orderOtherRepository.findByAccountId(UUID.fromString(accountId));\n        int countOrderInOneHour \u003d 0;\n        int countTotalValidOrder \u003d 0;\n        Calendar ca \u003d Calendar.getInstance();\n        ca.setTime(dateFrom);\n        ca.add(Calendar.HOUR_OF_DAY, -1);\n        dateFrom \u003d ca.getTime();\n        for (Order order : orders) {\n            if (order.getStatus() \u003d\u003d OrderStatus.NOTPAID.getCode() ||\n                    order.getStatus() \u003d\u003d OrderStatus.PAID.getCode() ||\n                    order.getStatus() \u003d\u003d OrderStatus.COLLECTED.getCode()) {\n                countTotalValidOrder +\u003d 1;\n            }\n            if (order.getBoughtDate().after(dateFrom)) {\n                countOrderInOneHour +\u003d 1;\n            }\n        }\n        result.setOrderNumInLastOneHour(countOrderInOneHour);\n        result.setOrderNumOfValidOrder(countTotalValidOrder);\n        return new Response\u003c\u003e(1, success, result);\n    }","returnType":"Response","methodName":"checkSecurityAboutOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.checkSecurityAboutOrder","classId":"other.service.OrderOtherServiceImpl","line":346,"msArgumentList":[{"returnType":"Date"},{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findByAccountId(UUID.fromString(accountId))","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"checkSecurityAboutOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":349,"calledMethodName":"findByAccountId","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findByAccountId(UUID.fromString(accountId))"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027accountId\u0027 : ?0 }\")\n    ArrayList\u003cOrder\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cOrder\u003e","methodName":"findByAccountId","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findByAccountId","classId":"other.repository.OrderOtherRepository","line":40,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/orderOther\")\n    public HttpEntity saveOrderInfo(@RequestBody Order orderInfo,\n                                    @RequestHeader HttpHeaders headers) {\n\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Verify Login] Success\");\n        return ok(orderService.saveChanges(orderInfo, headers));\n    }","returnType":"HttpEntity","methodName":"saveOrderInfo","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.saveOrderInfo","classId":"other.controller.OrderOtherController","line":118,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/orderOther\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.saveChanges(orderInfo, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"saveOrderInfo","parentClassId":"other.controller.OrderOtherController","lineNumber":124,"calledMethodName":"saveChanges","calledServiceId":"orderService","statementDeclaration":"orderService.saveChanges(orderInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response saveChanges(Order order, HttpHeaders headers) {\n        Order oldOrder \u003d orderOtherRepository.findById(order.getId());\n        if (oldOrder \u003d\u003d null) {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service][Modify Order] Fail.Order not found.\");\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            oldOrder.setAccountId(order.getAccountId());\n            oldOrder.setBoughtDate(order.getBoughtDate());\n            oldOrder.setTravelDate(order.getTravelDate());\n            oldOrder.setTravelTime(order.getTravelTime());\n            oldOrder.setSeatClass(order.getSeatClass());\n            oldOrder.setCoachNumber(order.getCoachNumber());\n\n            oldOrder.setSeatNumber(order.getSeatNumber());\n            oldOrder.setTo(order.getTo());\n            oldOrder.setFrom(order.getFrom());\n            oldOrder.setStatus(order.getStatus());\n            oldOrder.setTrainNumber(order.getTrainNumber());\n            oldOrder.setPrice(order.getPrice());\n            oldOrder.setContactsName(order.getContactsName());\n            oldOrder.setDocumentType(order.getDocumentType());\n            oldOrder.setContactsDocumentNumber(order.getContactsDocumentNumber());\n\n            orderOtherRepository.save(oldOrder);\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Other Service] Success.\");\n            return new Response\u003c\u003e(1, success, oldOrder);\n        }\n    }","returnType":"Response","methodName":"saveChanges","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.saveChanges","classId":"other.service.OrderOtherServiceImpl","line":209,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(order.getId())","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"saveChanges","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":211,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(order.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(path \u003d \"/orderOther/admin\")\n    public HttpEntity updateOrder(@RequestBody Order order, @RequestHeader HttpHeaders headers) {\n        return ok(orderService.updateOrder(order, headers));\n    }","returnType":"HttpEntity","methodName":"updateOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.updateOrder","classId":"other.controller.OrderOtherController","line":127,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"path","value":"\"/orderOther/admin\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.updateOrder(order, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"updateOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":130,"calledMethodName":"updateOrder","calledServiceId":"orderService","statementDeclaration":"orderService.updateOrder(order, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateOrder(Order order, HttpHeaders headers) {\n        LOGGER.info(\"UPDATE ORDER INFO :\" + order.toString());\n        Order oldOrder \u003d orderOtherRepository.findById(order.getId());\n        if (oldOrder \u003d\u003d null) {\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Service][Admin Update Order] Fail.Order not found.\");\n            return new Response\u003c\u003e(0, orderNotFound, null);\n        } else {\n            OrderOtherServiceImpl.LOGGER.info(\"{}\", oldOrder.toString());\n            oldOrder.setAccountId(order.getAccountId());\n            oldOrder.setBoughtDate(order.getBoughtDate());\n            oldOrder.setTravelDate(order.getTravelDate());\n            oldOrder.setTravelTime(order.getTravelTime());\n            oldOrder.setCoachNumber(order.getCoachNumber());\n            oldOrder.setSeatClass(order.getSeatClass());\n            oldOrder.setSeatNumber(order.getSeatNumber());\n            oldOrder.setFrom(order.getFrom());\n            oldOrder.setTo(order.getTo());\n            oldOrder.setStatus(order.getStatus());\n            oldOrder.setTrainNumber(order.getTrainNumber());\n            oldOrder.setPrice(order.getPrice());\n            oldOrder.setContactsName(order.getContactsName());\n            oldOrder.setContactsDocumentNumber(order.getContactsDocumentNumber());\n            oldOrder.setDocumentType(order.getDocumentType());\n            orderOtherRepository.save(oldOrder);\n            OrderOtherServiceImpl.LOGGER.info(\"[Order Service] [Admin Update Order] Success.\");\n            return new Response\u003c\u003e(1, success, oldOrder);\n        }\n    }","returnType":"Response","methodName":"updateOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.updateOrder","classId":"other.service.OrderOtherServiceImpl","line":399,"msArgumentList":[{"returnType":"Order"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(order.getId())","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"updateOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":402,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(order.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(path \u003d \"/orderOther/{orderId}\")\n    public HttpEntity deleteOrder(@PathVariable String orderId, @RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Delete Order] Order Id: {}\", orderId);\n        return ok(orderService.deleteOrder(orderId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.deleteOrder","classId":"other.controller.OrderOtherController","line":133,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"path","value":"\"/orderOther/{orderId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.deleteOrder(orderId, headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"deleteOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":137,"calledMethodName":"deleteOrder","calledServiceId":"orderService","statementDeclaration":"orderService.deleteOrder(orderId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteOrder(String orderId, HttpHeaders headers) {\n        UUID orderUuid \u003d UUID.fromString(orderId);\n        Order order \u003d orderOtherRepository.findById(orderUuid);\n        if (order \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"Order Not Exist.\", null);\n        } else {\n            orderOtherRepository.deleteById(orderUuid);\n            return new Response\u003c\u003e(1, success, orderUuid);\n        }\n    }","returnType":"Response","methodName":"deleteOrder","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.deleteOrder","classId":"other.service.OrderOtherServiceImpl","line":371,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findById(orderUuid)","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"deleteOrder","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":374,"calledMethodName":"findById","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findById(orderUuid)"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Query(\"{ \u0027id\u0027: ?0 }\")\n    Order findById(UUID id);","returnType":"Order","methodName":"findById","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findById","classId":"other.repository.OrderOtherRepository","line":23,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"classId":"other.controller.OrderOtherController","packageName":"other.controller","className":"OrderOtherController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/orderOther\")\n    public HttpEntity findAllOrder(@RequestHeader HttpHeaders headers) {\n        OrderOtherController.LOGGER.info(\"[Order Other Service][Find All Order]\");\n        return ok(orderService.getAllOrders(headers));\n    }","returnType":"HttpEntity","methodName":"findAllOrder","className":"OrderOtherController","packageName":"other.controller","methodId":"other.controller.OrderOtherController.findAllOrder","classId":"other.controller.OrderOtherController","line":142,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/orderOther\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"orderService.getAllOrders(headers)","parentPackageName":"other.controller","parentClassName":"OrderOtherController","parentMethodName":"findAllOrder","parentClassId":"other.controller.OrderOtherController","lineNumber":146,"calledMethodName":"getAllOrders","calledServiceId":"orderService","statementDeclaration":"orderService.getAllOrders(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/controller/OrderOtherController.java","directoryName":""},"code":"@Autowired\n    private OrderOtherService orderService;","fieldClass":"OrderOtherService","fieldVariable":"orderService","parentMethod":{"parentClassName":"OrderOtherController","parentPackageName":"other.controller"},"line":23},"msService":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"classId":"other.service.OrderOtherServiceImpl","packageName":"other.service","className":"OrderOtherServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllOrders(HttpHeaders headers) {\n        ArrayList\u003cOrder\u003e orders \u003d orderOtherRepository.findAll();\n        if (orders \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"No Content\", null);\n        } else {\n            return new Response\u003c\u003e(1, success, orders);\n        }\n    }","returnType":"Response","methodName":"getAllOrders","className":"OrderOtherServiceImpl","packageName":"other.service","methodId":"other.service.OrderOtherServiceImpl.getAllOrders","classId":"other.service.OrderOtherServiceImpl","line":290,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"orderOtherRepository.findAll()","parentPackageName":"other.service","parentClassName":"OrderOtherServiceImpl","parentMethodName":"getAllOrders","parentClassId":"other.service.OrderOtherServiceImpl","lineNumber":292,"calledMethodName":"findAll","calledServiceId":"orderOtherRepository","statementDeclaration":"orderOtherRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-order-other-service/src/main/java/other/service/OrderOtherServiceImpl.java","directoryName":""},"code":"@Autowired\n    private OrderOtherRepository orderOtherRepository;","fieldClass":"OrderOtherRepository","fieldVariable":"orderOtherRepository","parentMethod":{"parentClassName":"OrderOtherServiceImpl","parentPackageName":"other.service"},"line":25},"msRepository":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"classId":"other.repository.OrderOtherRepository","packageName":"other.repository","className":"OrderOtherRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-order-other-service/src/main/java/other/repository/OrderOtherRepository.java","directoryName":""},"code":"@Override\n    ArrayList\u003cOrder\u003e findAll();","returnType":"ArrayList\u003cOrder\u003e","methodName":"findAll","className":"OrderOtherRepository","packageName":"other.repository","methodId":"other.repository.OrderOtherRepository.findAll","classId":"other.repository.OrderOtherRepository","line":31,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"classId":"food.controller.FoodStoreController","packageName":"food.controller","className":"FoodStoreController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/foodstores/welcome\")\n    public String home() {\n        return \"Welcome to [ Food store Service ] !\";\n    }","returnType":"String","methodName":"home","className":"FoodStoreController","packageName":"food.controller","methodId":"food.controller.FoodStoreController.home","classId":"food.controller.FoodStoreController","line":24,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/foodstores/welcome\""}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"classId":"food.controller.FoodStoreController","packageName":"food.controller","className":"FoodStoreController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(\"/foodstores\")\n    public HttpEntity getAllFoodStores(@RequestHeader HttpHeaders headers) {\n        FoodStoreController.LOGGER.info(\"[Food Map Service][Get All FoodStores]\");\n        return ok(foodMapService.listFoodStores(headers));\n    }","returnType":"HttpEntity","methodName":"getAllFoodStores","className":"FoodStoreController","packageName":"food.controller","methodId":"food.controller.FoodStoreController.getAllFoodStores","classId":"food.controller.FoodStoreController","line":29,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"foodMapService.listFoodStores(headers)","parentPackageName":"food.controller","parentClassName":"FoodStoreController","parentMethodName":"getAllFoodStores","parentClassId":"food.controller.FoodStoreController","lineNumber":33,"calledMethodName":"listFoodStores","calledServiceId":"foodMapService","statementDeclaration":"foodMapService.listFoodStores(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@Autowired\n    FoodMapService foodMapService;","fieldClass":"FoodMapService","fieldVariable":"foodMapService","parentMethod":{"parentClassName":"FoodStoreController","parentPackageName":"food.controller"},"line":19},"msService":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"classId":"food.service.FoodMapServiceImpl","packageName":"food.service","className":"FoodMapServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Override\n    public Response listFoodStores(HttpHeaders headers) {\n        List\u003cFoodStore\u003e foodStores \u003d foodStoreRepository.findAll();\n        if (foodStores !\u003d null \u0026\u0026 !foodStores.isEmpty()) {\n            return new Response\u003c\u003e(1, success, foodStores);\n        } else {\n            return new Response\u003c\u003e(0, \"Foodstore is empty\", null);\n        }\n    }","returnType":"Response","methodName":"listFoodStores","className":"FoodMapServiceImpl","packageName":"food.service","methodId":"food.service.FoodMapServiceImpl.listFoodStores","classId":"food.service.FoodMapServiceImpl","line":54,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"foodStoreRepository.findAll()","parentPackageName":"food.service","parentClassName":"FoodMapServiceImpl","parentMethodName":"listFoodStores","parentClassId":"food.service.FoodMapServiceImpl","lineNumber":56,"calledMethodName":"findAll","calledServiceId":"foodStoreRepository","statementDeclaration":"foodStoreRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Autowired\n    FoodStoreRepository foodStoreRepository;","fieldClass":"FoodStoreRepository","fieldVariable":"foodStoreRepository","parentMethod":{"parentClassName":"FoodMapServiceImpl","parentPackageName":"food.service"},"line":20},"msRepository":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"classId":"food.repository.FoodStoreRepository","packageName":"food.repository","className":"FoodStoreRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"code":"@Override\n    List\u003cFoodStore\u003e findAll();","returnType":"List\u003cFoodStore\u003e","methodName":"findAll","className":"FoodStoreRepository","packageName":"food.repository","methodId":"food.repository.FoodStoreRepository.findAll","classId":"food.repository.FoodStoreRepository","line":21,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"classId":"food.controller.FoodStoreController","packageName":"food.controller","className":"FoodStoreController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(\"/foodstores/{stationId}\")\n    public HttpEntity getFoodStoresOfStation(@PathVariable String stationId, @RequestHeader HttpHeaders headers) {\n        FoodStoreController.LOGGER.info(\"[Food Map Service][Get FoodStores By StationId]\");\n        return ok(foodMapService.listFoodStoresByStationId(stationId, headers));\n    }","returnType":"HttpEntity","methodName":"getFoodStoresOfStation","className":"FoodStoreController","packageName":"food.controller","methodId":"food.controller.FoodStoreController.getFoodStoresOfStation","classId":"food.controller.FoodStoreController","line":36,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"foodMapService.listFoodStoresByStationId(stationId, headers)","parentPackageName":"food.controller","parentClassName":"FoodStoreController","parentMethodName":"getFoodStoresOfStation","parentClassId":"food.controller.FoodStoreController","lineNumber":40,"calledMethodName":"listFoodStoresByStationId","calledServiceId":"foodMapService","statementDeclaration":"foodMapService.listFoodStoresByStationId(stationId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@Autowired\n    FoodMapService foodMapService;","fieldClass":"FoodMapService","fieldVariable":"foodMapService","parentMethod":{"parentClassName":"FoodStoreController","parentPackageName":"food.controller"},"line":19},"msService":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"classId":"food.service.FoodMapServiceImpl","packageName":"food.service","className":"FoodMapServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Override\n    public Response listFoodStoresByStationId(String stationId, HttpHeaders headers) {\n        List\u003cFoodStore\u003e foodStoreList \u003d foodStoreRepository.findByStationId(stationId);\n        if (foodStoreList !\u003d null \u0026\u0026 !foodStoreList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, foodStoreList);\n        } else {\n            return new Response\u003c\u003e(0, \"FoodStore is empty\", null);\n        }\n    }","returnType":"Response","methodName":"listFoodStoresByStationId","className":"FoodMapServiceImpl","packageName":"food.service","methodId":"food.service.FoodMapServiceImpl.listFoodStoresByStationId","classId":"food.service.FoodMapServiceImpl","line":74,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"foodStoreRepository.findByStationId(stationId)","parentPackageName":"food.service","parentClassName":"FoodMapServiceImpl","parentMethodName":"listFoodStoresByStationId","parentClassId":"food.service.FoodMapServiceImpl","lineNumber":76,"calledMethodName":"findByStationId","calledServiceId":"foodStoreRepository","statementDeclaration":"foodStoreRepository.findByStationId(stationId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Autowired\n    FoodStoreRepository foodStoreRepository;","fieldClass":"FoodStoreRepository","fieldVariable":"foodStoreRepository","parentMethod":{"parentClassName":"FoodMapServiceImpl","parentPackageName":"food.service"},"line":20},"msRepository":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"classId":"food.repository.FoodStoreRepository","packageName":"food.repository","className":"FoodStoreRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"code":"@Query(\"{ \u0027stationId\u0027 : ?0 }\")\n    List\u003cFoodStore\u003e findByStationId(String stationId);","returnType":"List\u003cFoodStore\u003e","methodName":"findByStationId","className":"FoodStoreRepository","packageName":"food.repository","methodId":"food.repository.FoodStoreRepository.findByStationId","classId":"food.repository.FoodStoreRepository","line":16,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"classId":"food.controller.FoodStoreController","packageName":"food.controller","className":"FoodStoreController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(\"/foodstores\")\n    public HttpEntity getFoodStoresByStationIds(@RequestBody List\u003cString\u003e stationIdList) {\n        return ok(foodMapService.getFoodStoresByStationIds(stationIdList));\n    }","returnType":"HttpEntity","methodName":"getFoodStoresByStationIds","className":"FoodStoreController","packageName":"food.controller","methodId":"food.controller.FoodStoreController.getFoodStoresByStationIds","classId":"food.controller.FoodStoreController","line":43,"msArgumentList":[{"returnType":"List\u003cString\u003e"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"PostMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"foodMapService.getFoodStoresByStationIds(stationIdList)","parentPackageName":"food.controller","parentClassName":"FoodStoreController","parentMethodName":"getFoodStoresByStationIds","parentClassId":"food.controller.FoodStoreController","lineNumber":46,"calledMethodName":"getFoodStoresByStationIds","calledServiceId":"foodMapService","statementDeclaration":"foodMapService.getFoodStoresByStationIds(stationIdList)"},"msControllerServiceField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/FoodStoreController.java","directoryName":""},"code":"@Autowired\n    FoodMapService foodMapService;","fieldClass":"FoodMapService","fieldVariable":"foodMapService","parentMethod":{"parentClassName":"FoodStoreController","parentPackageName":"food.controller"},"line":19},"msService":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"classId":"food.service.FoodMapServiceImpl","packageName":"food.service","className":"FoodMapServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getFoodStoresByStationIds(List\u003cString\u003e stationIds) {\n        List\u003cFoodStore\u003e foodStoreList \u003d foodStoreRepository.findByStationIdIn(stationIds);\n        if (foodStoreList !\u003d null) {\n            return new Response\u003c\u003e(1, success, foodStoreList);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"getFoodStoresByStationIds","className":"FoodMapServiceImpl","packageName":"food.service","methodId":"food.service.FoodMapServiceImpl.getFoodStoresByStationIds","classId":"food.service.FoodMapServiceImpl","line":94,"msArgumentList":[{"returnType":"List\u003cString\u003e"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"foodStoreRepository.findByStationIdIn(stationIds)","parentPackageName":"food.service","parentClassName":"FoodMapServiceImpl","parentMethodName":"getFoodStoresByStationIds","parentClassId":"food.service.FoodMapServiceImpl","lineNumber":96,"calledMethodName":"findByStationIdIn","calledServiceId":"foodStoreRepository","statementDeclaration":"foodStoreRepository.findByStationIdIn(stationIds)"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Autowired\n    FoodStoreRepository foodStoreRepository;","fieldClass":"FoodStoreRepository","fieldVariable":"foodStoreRepository","parentMethod":{"parentClassName":"FoodMapServiceImpl","parentPackageName":"food.service"},"line":20},"msRepository":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"classId":"food.repository.FoodStoreRepository","packageName":"food.repository","className":"FoodStoreRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/FoodStoreRepository.java","directoryName":""},"code":"List\u003cFoodStore\u003e findByStationIdIn(List\u003cString\u003e stationIds);","returnType":"List\u003cFoodStore\u003e","methodName":"findByStationIdIn","className":"FoodStoreRepository","packageName":"food.repository","methodId":"food.repository.FoodStoreRepository.findByStationIdIn","classId":"food.repository.FoodStoreRepository","line":18,"msArgumentList":[{"returnType":"List\u003cString\u003e"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"classId":"food.controller.TrainFoodController","packageName":"food.controller","className":"TrainFoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/trainfoods/welcome\")\n    public String home() {\n        return \"Welcome to [ Train Food Service ] !\";\n    }","returnType":"String","methodName":"home","className":"TrainFoodController","packageName":"food.controller","methodId":"food.controller.TrainFoodController.home","classId":"food.controller.TrainFoodController","line":22,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/trainfoods/welcome\""}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"classId":"food.controller.TrainFoodController","packageName":"food.controller","className":"TrainFoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(\"/trainfoods\")\n    public HttpEntity getAllTrainFood(@RequestHeader HttpHeaders headers) {\n        TrainFoodController.LOGGER.info(\"[Food Map Service][Get All TrainFoods]\");\n        return ok(foodMapService.listTrainFood(headers));\n    }","returnType":"HttpEntity","methodName":"getAllTrainFood","className":"TrainFoodController","packageName":"food.controller","methodId":"food.controller.TrainFoodController.getAllTrainFood","classId":"food.controller.TrainFoodController","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"foodMapService.listTrainFood(headers)","parentPackageName":"food.controller","parentClassName":"TrainFoodController","parentMethodName":"getAllTrainFood","parentClassId":"food.controller.TrainFoodController","lineNumber":31,"calledMethodName":"listTrainFood","calledServiceId":"foodMapService","statementDeclaration":"foodMapService.listTrainFood(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"@Autowired\n    FoodMapService foodMapService;","fieldClass":"FoodMapService","fieldVariable":"foodMapService","parentMethod":{"parentClassName":"TrainFoodController","parentPackageName":"food.controller"},"line":17},"msService":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"classId":"food.service.FoodMapServiceImpl","packageName":"food.service","className":"FoodMapServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Override\n    public Response listTrainFood(HttpHeaders headers) {\n        List\u003cTrainFood\u003e trainFoodList \u003d trainFoodRepository.findAll();\n        if (trainFoodList !\u003d null \u0026\u0026 !trainFoodList.isEmpty()) {\n            return new Response\u003c\u003e(1, success, trainFoodList);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"listTrainFood","className":"FoodMapServiceImpl","packageName":"food.service","methodId":"food.service.FoodMapServiceImpl.listTrainFood","classId":"food.service.FoodMapServiceImpl","line":64,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"trainFoodRepository.findAll()","parentPackageName":"food.service","parentClassName":"FoodMapServiceImpl","parentMethodName":"listTrainFood","parentClassId":"food.service.FoodMapServiceImpl","lineNumber":66,"calledMethodName":"findAll","calledServiceId":"trainFoodRepository","statementDeclaration":"trainFoodRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Autowired\n    TrainFoodRepository trainFoodRepository;","fieldClass":"TrainFoodRepository","fieldVariable":"trainFoodRepository","parentMethod":{"parentClassName":"FoodMapServiceImpl","parentPackageName":"food.service"},"line":23},"msRepository":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/TrainFoodRepository.java","directoryName":""},"classId":"food.repository.TrainFoodRepository","packageName":"food.repository","className":"TrainFoodRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/TrainFoodRepository.java","directoryName":""},"code":"@Override\n    List\u003cTrainFood\u003e findAll();","returnType":"List\u003cTrainFood\u003e","methodName":"findAll","className":"TrainFoodRepository","packageName":"food.repository","methodId":"food.repository.TrainFoodRepository.findAll","classId":"food.repository.TrainFoodRepository","line":17,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"classId":"food.controller.TrainFoodController","packageName":"food.controller","className":"TrainFoodController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(\"/trainfoods/{tripId}\")\n    public HttpEntity getTrainFoodOfTrip(@PathVariable String tripId, @RequestHeader HttpHeaders headers) {\n        TrainFoodController.LOGGER.info(\"[Food Map Service][Get TrainFoods By TripId]\");\n        return ok(foodMapService.listTrainFoodByTripId(tripId, headers));\n    }","returnType":"HttpEntity","methodName":"getTrainFoodOfTrip","className":"TrainFoodController","packageName":"food.controller","methodId":"food.controller.TrainFoodController.getTrainFoodOfTrip","classId":"food.controller.TrainFoodController","line":34,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"foodMapService.listTrainFoodByTripId(tripId, headers)","parentPackageName":"food.controller","parentClassName":"TrainFoodController","parentMethodName":"getTrainFoodOfTrip","parentClassId":"food.controller.TrainFoodController","lineNumber":38,"calledMethodName":"listTrainFoodByTripId","calledServiceId":"foodMapService","statementDeclaration":"foodMapService.listTrainFoodByTripId(tripId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/controller/TrainFoodController.java","directoryName":""},"code":"@Autowired\n    FoodMapService foodMapService;","fieldClass":"FoodMapService","fieldVariable":"foodMapService","parentMethod":{"parentClassName":"TrainFoodController","parentPackageName":"food.controller"},"line":17},"msService":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"classId":"food.service.FoodMapServiceImpl","packageName":"food.service","className":"FoodMapServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Override\n    public Response listTrainFoodByTripId(String tripId, HttpHeaders headers) {\n        List\u003cTrainFood\u003e trainFoodList \u003d trainFoodRepository.findByTripId(tripId);\n        if (trainFoodList !\u003d null) {\n            return new Response\u003c\u003e(1, success, trainFoodList);\n        } else {\n            return new Response\u003c\u003e(0, noContent, null);\n        }\n    }","returnType":"Response","methodName":"listTrainFoodByTripId","className":"FoodMapServiceImpl","packageName":"food.service","methodId":"food.service.FoodMapServiceImpl.listTrainFoodByTripId","classId":"food.service.FoodMapServiceImpl","line":84,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"trainFoodRepository.findByTripId(tripId)","parentPackageName":"food.service","parentClassName":"FoodMapServiceImpl","parentMethodName":"listTrainFoodByTripId","parentClassId":"food.service.FoodMapServiceImpl","lineNumber":86,"calledMethodName":"findByTripId","calledServiceId":"trainFoodRepository","statementDeclaration":"trainFoodRepository.findByTripId(tripId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-food-map-service/src/main/java/food/service/FoodMapServiceImpl.java","directoryName":""},"code":"@Autowired\n    TrainFoodRepository trainFoodRepository;","fieldClass":"TrainFoodRepository","fieldVariable":"trainFoodRepository","parentMethod":{"parentClassName":"FoodMapServiceImpl","parentPackageName":"food.service"},"line":23},"msRepository":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/TrainFoodRepository.java","directoryName":""},"classId":"food.repository.TrainFoodRepository","packageName":"food.repository","className":"TrainFoodRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-food-map-service/src/main/java/food/repository/TrainFoodRepository.java","directoryName":""},"code":"@Query(\"{ \u0027tripId\u0027 : ?0 }\")\n    List\u003cTrainFood\u003e findByTripId(String tripId);","returnType":"List\u003cTrainFood\u003e","methodName":"findByTripId","className":"TrainFoodRepository","packageName":"food.repository","methodId":"food.repository.TrainFoodRepository.findByTripId","classId":"food.repository.TrainFoodRepository","line":20,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Query"}]}},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Consign Service ] !\";\n    }","returnType":"String","methodName":"home","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.home","classId":"consign.controller.ConsignController","line":24,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/consigns\")\n    public HttpEntity insertConsign(@RequestBody Consign request,\n                                    @RequestHeader HttpHeaders headers) {\n        return ok(service.insertConsignRecord(request, headers));\n    }","returnType":"HttpEntity","methodName":"insertConsign","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.insertConsign","classId":"consign.controller.ConsignController","line":29,"msArgumentList":[{"returnType":"Consign"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/consigns\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"service.insertConsignRecord(request, headers)","parentPackageName":"consign.controller","parentClassName":"ConsignController","parentMethodName":"insertConsign","parentClassId":"consign.controller.ConsignController","lineNumber":32,"calledMethodName":"insertConsignRecord","calledServiceId":"service","statementDeclaration":"service.insertConsignRecord(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@Autowired\n    ConsignService service;","fieldClass":"ConsignService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignController","parentPackageName":"consign.controller"},"line":21},"msService":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"classId":"consign.service.ConsignServiceImpl","packageName":"consign.service","className":"ConsignServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Override\n    public Response insertConsignRecord(Consign consignRequest, HttpHeaders headers) {\n        ConsignServiceImpl.LOGGER.info(\"[Consign servie] [ Insert new consign record] {}\", consignRequest.getOrderId());\n\n        ConsignRecord consignRecord \u003d new ConsignRecord();\n        //Set the record attribute\n        consignRecord.setId(UUID.randomUUID());\n        LOGGER.info(\"Order ID is :\" + consignRequest.getOrderId());\n        consignRecord.setOrderId(consignRequest.getOrderId());\n        consignRecord.setAccountId(consignRequest.getAccountId());\n        ConsignServiceImpl.LOGGER.info(\"The handle date is {}\", consignRequest.getHandleDate());\n        ConsignServiceImpl.LOGGER.info(\"The target date is {}\", consignRequest.getTargetDate());\n        consignRecord.setHandleDate(consignRequest.getHandleDate());\n        consignRecord.setTargetDate(consignRequest.getTargetDate());\n        consignRecord.setFrom(consignRequest.getFrom());\n        consignRecord.setTo(consignRequest.getTo());\n        consignRecord.setConsignee(consignRequest.getConsignee());\n        consignRecord.setPhone(consignRequest.getPhone());\n        consignRecord.setWeight(consignRequest.getWeight());\n\n        //get the price\n        HttpEntity requestEntity \u003d new HttpEntity(null, headers);\n        ResponseEntity\u003cResponse\u003cDouble\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(),\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n                });\n        consignRecord.setPrice(re.getBody().getData());\n\n        LOGGER.info(\"SAVE consign info : \" + consignRecord.toString());\n        ConsignRecord result \u003d repository.save(consignRecord);\n        LOGGER.info(\"SAVE consign result : \" + result.toString());\n        return new Response\u003c\u003e(1, \"You have consigned successfully! The price is \" + result.getPrice(), result);\n    }","returnType":"Response","methodName":"insertConsignRecord","className":"ConsignServiceImpl","packageName":"consign.service","methodId":"consign.service.ConsignServiceImpl.insertConsignRecord","classId":"consign.service.ConsignServiceImpl","line":34,"msArgumentList":[{"returnType":"Consign"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"repository.save(consignRecord)","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"insertConsignRecord","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":65,"calledMethodName":"save","calledServiceId":"repository","statementDeclaration":"repository.save(consignRecord)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConsignRepository repository;","fieldClass":"ConsignRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignServiceImpl","parentPackageName":"consign.service"},"line":26},"msRepository":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"classId":"consign.repository.ConsignRepository","packageName":"consign.repository","className":"ConsignRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"api":"\"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin()","httpMethod":"GET","returnType":"Double","msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(),\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n                })","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"insertConsignRecord","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":56,"statementDeclaration":"restTemplate.exchange(\"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@PutMapping(value \u003d \"/consigns\")\n    public HttpEntity updateConsign(@RequestBody Consign request, @RequestHeader HttpHeaders headers) {\n        return ok(service.updateConsignRecord(request, headers));\n    }","returnType":"HttpEntity","methodName":"updateConsign","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.updateConsign","classId":"consign.controller.ConsignController","line":35,"msArgumentList":[{"returnType":"Consign"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/consigns\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"service.updateConsignRecord(request, headers)","parentPackageName":"consign.controller","parentClassName":"ConsignController","parentMethodName":"updateConsign","parentClassId":"consign.controller.ConsignController","lineNumber":37,"calledMethodName":"updateConsignRecord","calledServiceId":"service","statementDeclaration":"service.updateConsignRecord(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@Autowired\n    ConsignService service;","fieldClass":"ConsignService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignController","parentPackageName":"consign.controller"},"line":21},"msService":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"classId":"consign.service.ConsignServiceImpl","packageName":"consign.service","className":"ConsignServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Override\n    public Response updateConsignRecord(Consign consignRequest, HttpHeaders headers) {\n        ConsignServiceImpl.LOGGER.info(\"[Consign servie] [ Update consign record]\");\n\n        ConsignRecord originalRecord \u003d repository.findById(consignRequest.getId());\n        if (originalRecord \u003d\u003d null) {\n            return this.insertConsignRecord(consignRequest, headers);\n        }\n        originalRecord.setAccountId(consignRequest.getAccountId());\n        originalRecord.setHandleDate(consignRequest.getHandleDate());\n        originalRecord.setTargetDate(consignRequest.getTargetDate());\n        originalRecord.setFrom(consignRequest.getFrom());\n        originalRecord.setTo(consignRequest.getTo());\n        originalRecord.setConsignee(consignRequest.getConsignee());\n        originalRecord.setPhone(consignRequest.getPhone());\n        //Recalculate price\n        if (originalRecord.getWeight() !\u003d consignRequest.getWeight()) {\n            HttpEntity requestEntity \u003d new HttpEntity\u003c\u003e(null, headers);\n            ResponseEntity\u003cResponse\u003cDouble\u003e\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n                    });\n\n            originalRecord.setPrice(re.getBody().getData());\n        } else {\n            originalRecord.setPrice(originalRecord.getPrice());\n        }\n        originalRecord.setConsignee(consignRequest.getConsignee());\n        originalRecord.setPhone(consignRequest.getPhone());\n        originalRecord.setWeight(consignRequest.getWeight());\n        repository.save(originalRecord);\n        return new Response\u003c\u003e(1, \"Update consign success\", originalRecord);\n    }","returnType":"Response","methodName":"updateConsignRecord","className":"ConsignServiceImpl","packageName":"consign.service","methodId":"consign.service.ConsignServiceImpl.updateConsignRecord","classId":"consign.service.ConsignServiceImpl","line":70,"msArgumentList":[{"returnType":"Consign"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"repository.findById(consignRequest.getId())","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"updateConsignRecord","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":74,"calledMethodName":"findById","calledServiceId":"repository","statementDeclaration":"repository.findById(consignRequest.getId())"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConsignRepository repository;","fieldClass":"ConsignRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignServiceImpl","parentPackageName":"consign.service"},"line":26},"msRepository":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"classId":"consign.repository.ConsignRepository","packageName":"consign.repository","className":"ConsignRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"api":"\"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin()","httpMethod":"GET","returnType":"Double","msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(),\n                    HttpMethod.GET,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n                    })","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"updateConsignRecord","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":88,"statementDeclaration":"restTemplate.exchange(\"http://ts-consign-price-service:16110/api/v1/consignpriceservice/consignprice/\" + consignRequest.getWeight() + \"/\" + consignRequest.isWithin(), HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cDouble\u003e\u003e() {\n})"}],"msRepositoryMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"code":"ConsignRecord findById(UUID id);","returnType":"ConsignRecord","methodName":"findById","className":"ConsignRepository","packageName":"consign.repository","methodId":"consign.repository.ConsignRepository.findById","classId":"consign.repository.ConsignRepository","line":46,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consigns/account/{id}\")\n    public HttpEntity findByAccountId(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        UUID newid \u003d UUID.fromString(id);\n        return ok(service.queryByAccountId(newid, headers));\n    }","returnType":"HttpEntity","methodName":"findByAccountId","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.findByAccountId","classId":"consign.controller.ConsignController","line":40,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consigns/account/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"service.queryByAccountId(newid, headers)","parentPackageName":"consign.controller","parentClassName":"ConsignController","parentMethodName":"findByAccountId","parentClassId":"consign.controller.ConsignController","lineNumber":43,"calledMethodName":"queryByAccountId","calledServiceId":"service","statementDeclaration":"service.queryByAccountId(newid, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@Autowired\n    ConsignService service;","fieldClass":"ConsignService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignController","parentPackageName":"consign.controller"},"line":21},"msService":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"classId":"consign.service.ConsignServiceImpl","packageName":"consign.service","className":"ConsignServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryByAccountId(UUID accountId, HttpHeaders headers) {\n        List\u003cConsignRecord\u003e consignRecords \u003d repository.findByAccountId(accountId);\n        if (consignRecords !\u003d null \u0026\u0026 !consignRecords.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Find consign by account id success\", consignRecords);\n        }else {\n            return new Response\u003c\u003e(0, \"No Content according to accountId\", null);\n        }\n    }","returnType":"Response","methodName":"queryByAccountId","className":"ConsignServiceImpl","packageName":"consign.service","methodId":"consign.service.ConsignServiceImpl.queryByAccountId","classId":"consign.service.ConsignServiceImpl","line":106,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"repository.findByAccountId(accountId)","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"queryByAccountId","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":108,"calledMethodName":"findByAccountId","calledServiceId":"repository","statementDeclaration":"repository.findByAccountId(accountId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConsignRepository repository;","fieldClass":"ConsignRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignServiceImpl","parentPackageName":"consign.service"},"line":26},"msRepository":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"classId":"consign.repository.ConsignRepository","packageName":"consign.repository","className":"ConsignRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"code":"ArrayList\u003cConsignRecord\u003e findByAccountId(UUID accountId);","returnType":"ArrayList\u003cConsignRecord\u003e","methodName":"findByAccountId","className":"ConsignRepository","packageName":"consign.repository","methodId":"consign.repository.ConsignRepository.findByAccountId","classId":"consign.repository.ConsignRepository","line":22,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consigns/order/{id}\")\n    public HttpEntity findByOrderId(@PathVariable String id, @RequestHeader HttpHeaders headers) {\n        UUID newid \u003d UUID.fromString(id);\n        return ok(service.queryByOrderId(newid, headers));\n    }","returnType":"HttpEntity","methodName":"findByOrderId","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.findByOrderId","classId":"consign.controller.ConsignController","line":46,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consigns/order/{id}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"service.queryByOrderId(newid, headers)","parentPackageName":"consign.controller","parentClassName":"ConsignController","parentMethodName":"findByOrderId","parentClassId":"consign.controller.ConsignController","lineNumber":49,"calledMethodName":"queryByOrderId","calledServiceId":"service","statementDeclaration":"service.queryByOrderId(newid, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@Autowired\n    ConsignService service;","fieldClass":"ConsignService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignController","parentPackageName":"consign.controller"},"line":21},"msService":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"classId":"consign.service.ConsignServiceImpl","packageName":"consign.service","className":"ConsignServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryByOrderId(UUID orderId, HttpHeaders headers) {\n        ConsignRecord consignRecords \u003d repository.findByOrderId(orderId);\n        if (consignRecords !\u003d null ) {\n            return new Response\u003c\u003e(1, \"Find consign by order id success\", consignRecords);\n        }else {\n            return new Response\u003c\u003e(0, \"No Content according to order id\", null);\n        }\n    }","returnType":"Response","methodName":"queryByOrderId","className":"ConsignServiceImpl","packageName":"consign.service","methodId":"consign.service.ConsignServiceImpl.queryByOrderId","classId":"consign.service.ConsignServiceImpl","line":116,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"repository.findByOrderId(orderId)","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"queryByOrderId","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":118,"calledMethodName":"findByOrderId","calledServiceId":"repository","statementDeclaration":"repository.findByOrderId(orderId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConsignRepository repository;","fieldClass":"ConsignRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignServiceImpl","parentPackageName":"consign.service"},"line":26},"msRepository":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"classId":"consign.repository.ConsignRepository","packageName":"consign.repository","className":"ConsignRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"code":"ConsignRecord findByOrderId(UUID accountId);","returnType":"ConsignRecord","methodName":"findByOrderId","className":"ConsignRepository","packageName":"consign.repository","methodId":"consign.repository.ConsignRepository.findByOrderId","classId":"consign.repository.ConsignRepository","line":30,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"classId":"consign.controller.ConsignController","packageName":"consign.controller","className":"ConsignController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@GetMapping(value \u003d \"/consigns/{consignee}\")\n    public HttpEntity findByConsignee(@PathVariable String consignee, @RequestHeader HttpHeaders headers) {\n        return ok(service.queryByConsignee(consignee, headers));\n    }","returnType":"HttpEntity","methodName":"findByConsignee","className":"ConsignController","packageName":"consign.controller","methodId":"consign.controller.ConsignController.findByConsignee","classId":"consign.controller.ConsignController","line":52,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/consigns/{consignee}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"service.queryByConsignee(consignee, headers)","parentPackageName":"consign.controller","parentClassName":"ConsignController","parentMethodName":"findByConsignee","parentClassId":"consign.controller.ConsignController","lineNumber":54,"calledMethodName":"queryByConsignee","calledServiceId":"service","statementDeclaration":"service.queryByConsignee(consignee, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/controller/ConsignController.java","directoryName":""},"code":"@Autowired\n    ConsignService service;","fieldClass":"ConsignService","fieldVariable":"service","parentMethod":{"parentClassName":"ConsignController","parentPackageName":"consign.controller"},"line":21},"msService":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"classId":"consign.service.ConsignServiceImpl","packageName":"consign.service","className":"ConsignServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryByConsignee(String consignee, HttpHeaders headers) {\n        List\u003cConsignRecord\u003e consignRecords \u003d repository.findByConsignee(consignee);\n        if (consignRecords !\u003d null \u0026\u0026 !consignRecords.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Find consign by consignee success\", consignRecords);\n        }else {\n            return new Response\u003c\u003e(0, \"No Content according to consignee\", null);\n        }\n    }","returnType":"Response","methodName":"queryByConsignee","className":"ConsignServiceImpl","packageName":"consign.service","methodId":"consign.service.ConsignServiceImpl.queryByConsignee","classId":"consign.service.ConsignServiceImpl","line":126,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"repository.findByConsignee(consignee)","parentPackageName":"consign.service","parentClassName":"ConsignServiceImpl","parentMethodName":"queryByConsignee","parentClassId":"consign.service.ConsignServiceImpl","lineNumber":128,"calledMethodName":"findByConsignee","calledServiceId":"repository","statementDeclaration":"repository.findByConsignee(consignee)"},"msServiceRepositoryField":{"msId":{"path":"/ts-consign-service/src/main/java/consign/service/ConsignServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConsignRepository repository;","fieldClass":"ConsignRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConsignServiceImpl","parentPackageName":"consign.service"},"line":26},"msRepository":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"classId":"consign.repository.ConsignRepository","packageName":"consign.repository","className":"ConsignRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-consign-service/src/main/java/consign/repository/ConsignRepository.java","directoryName":""},"code":"ArrayList\u003cConsignRecord\u003e findByConsignee(String consignee);","returnType":"ArrayList\u003cConsignRecord\u003e","methodName":"findByConsignee","className":"ConsignRepository","packageName":"consign.repository","methodId":"consign.repository.ConsignRepository.findByConsignee","classId":"consign.repository.ConsignRepository","line":38,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"classId":"auth.controller.AuthController","packageName":"auth.controller","className":"AuthController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"code":"@GetMapping(\"/hello\")\n    public String getHello() {\n        return \"hello\";\n    }","returnType":"String","methodName":"getHello","className":"AuthController","packageName":"auth.controller","methodId":"auth.controller.AuthController.getHello","classId":"auth.controller.AuthController","line":28,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]}},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"classId":"auth.controller.AuthController","packageName":"auth.controller","className":"AuthController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"code":"@PostMapping\n    public HttpEntity\u003cResponse\u003e createDefaultUser(@RequestBody AuthDto authDto) {\n        userService.createDefaultAuthUser(authDto);\n        Response response \u003d new Response(1, \"SUCCESS\", authDto);\n        return new ResponseEntity\u003c\u003e(response, HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003cResponse\u003e","methodName":"createDefaultUser","className":"AuthController","packageName":"auth.controller","methodId":"auth.controller.AuthController.createDefaultUser","classId":"auth.controller.AuthController","line":33,"msArgumentList":[{"returnType":"AuthDto"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PostMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"code":"userService.createDefaultAuthUser(authDto)","parentPackageName":"auth.controller","parentClassName":"AuthController","parentMethodName":"createDefaultUser","parentClassId":"auth.controller.AuthController","lineNumber":35,"calledMethodName":"createDefaultAuthUser","calledServiceId":"userService","statementDeclaration":"userService.createDefaultAuthUser(authDto)"},"msControllerServiceField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/AuthController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"AuthController","parentPackageName":"auth.controller"},"line":19},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Override\n    public User createDefaultAuthUser(AuthDto dto) {\n        LOGGER.info(\"Register User Info is:  \" + dto.getUserName());\n        User user \u003d User.builder()\n                .userId(UUID.fromString(dto.getUserId()))\n                .username(dto.getUserName())\n                .password(passwordEncoder.encode(dto.getPassword()))\n                .roles(new HashSet\u003c\u003e(Arrays.asList(AuthConstant.ROLE_USER)))\n                .build();\n\n        checkUserCreateInfo(user);\n        return userRepository.save(user);\n    }","returnType":"User","methodName":"createDefaultAuthUser","className":"UserServiceImpl","packageName":"auth.service.impl","methodId":"auth.service.impl.UserServiceImpl.createDefaultAuthUser","classId":"auth.service.impl.UserServiceImpl","line":50,"msArgumentList":[{"returnType":"AuthDto"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"userRepository.save(user)","parentPackageName":"auth.service.impl","parentClassName":"UserServiceImpl","parentMethodName":"createDefaultAuthUser","parentClassId":"auth.service.impl.UserServiceImpl","lineNumber":61,"calledMethodName":"save","calledServiceId":"userRepository","statementDeclaration":"userRepository.save(user)"},"msServiceRepositoryField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Autowired\n    private UserRepository userRepository;","fieldClass":"UserRepository","fieldVariable":"userRepository","parentMethod":{"parentClassName":"UserServiceImpl","parentPackageName":"auth.service.impl"},"line":28},"msRepository":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"classId":"auth.repository.UserRepository","packageName":"auth.repository","className":"UserRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"api":"\"http://ts-auth-service:12340/api/v1/auth\"","httpMethod":"POST","returnType":"AuthDto","msId":{"path":"/ts-user-service/src/main/java/user/service/impl/UserServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\"http://ts-auth-service:12340/api/v1/auth\",\n                HttpMethod.POST,\n                entity,\n                new ParameterizedTypeReference\u003cResponse\u003cAuthDto\u003e\u003e() {\n                })","parentPackageName":"user.service.impl","parentClassName":"UserServiceImpl","parentMethodName":"createDefaultAuthUser","parentClassId":"user.service.impl.UserServiceImpl","lineNumber":73,"statementDeclaration":"restTemplate.exchange(\"http://ts-auth-service:12340/api/v1/auth\", HttpMethod.POST, entity, new ParameterizedTypeReference\u003cResponse\u003cAuthDto\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"classId":"auth.controller.UserController","packageName":"auth.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@GetMapping(\"/hello\")\n    public Object getHello() {\n        return \"Hello\";\n    }","returnType":"Object","methodName":"getHello","className":"UserController","packageName":"auth.controller","methodId":"auth.controller.UserController.getHello","classId":"auth.controller.UserController","line":31,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]}},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"classId":"auth.controller.UserController","packageName":"auth.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@PostMapping(\"/login\")\n    public ResponseEntity\u003cResponse\u003e getToken(@RequestBody BasicAuthDto dao , @RequestHeader HttpHeaders headers) {\n        return ResponseEntity.ok(tokenService.getToken(dao, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"getToken","className":"UserController","packageName":"auth.controller","methodId":"auth.controller.UserController.getToken","classId":"auth.controller.UserController","line":36,"msArgumentList":[{"returnType":"BasicAuthDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PostMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"tokenService.getToken(dao, headers)","parentPackageName":"auth.controller","parentClassName":"UserController","parentMethodName":"getToken","parentClassId":"auth.controller.UserController","lineNumber":38,"calledMethodName":"getToken","calledServiceId":"tokenService","statementDeclaration":"tokenService.getToken(dao, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private TokenService tokenService;","fieldClass":"TokenService","fieldVariable":"tokenService","parentMethod":{"parentClassName":"UserController","parentPackageName":"auth.controller"},"line":28},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/TokenServiceImpl.java","directoryName":""},"classId":"auth.service.impl.TokenServiceImpl","packageName":"auth.service.impl","className":"TokenServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/TokenServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getToken(BasicAuthDto dto, HttpHeaders headers) {\n        String username \u003d dto.getUsername();\n        String password \u003d dto.getPassword();\n        String verifyCode \u003d dto.getVerificationCode();\n        LOGGER.info(\"LOGIN USER :\" + username + \" __ \" + password + \" __ \" + verifyCode);\n\n        if (!StringUtils.isEmpty(verifyCode)) {\n            HttpEntity requestEntity \u003d new HttpEntity(headers);\n            ResponseEntity\u003cBoolean\u003e re \u003d restTemplate.exchange(\n                    \"http://ts-verification-code-service:15678/api/v1/verifycode/verify/\" + verifyCode,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Boolean.class);\n            boolean id \u003d re.getBody();\n\n            // failed code\n            if (!id) {\n                return new Response\u003c\u003e(0, \"Verification failed.\", null);\n            }\n        }\n\n        // verify username and password\n        UsernamePasswordAuthenticationToken upat \u003d new UsernamePasswordAuthenticationToken(username, password);\n        try {\n            authenticationManager.authenticate(upat);\n        } catch (AuthenticationException e) {\n            return new Response\u003c\u003e(0, \"Incorrect username or password.\", null);\n        }\n\n        User user \u003d userRepository.findByUsername(username)\n                .orElseThrow(() -\u003e new UserOperationException(MessageFormat.format(\n                        InfoConstant.USER_NAME_NOT_FOUND_1, username\n                )));\n        String token \u003d jwtProvider.createToken(user);\n        LOGGER.info(token + \"USER TOKEN\");\n        LOGGER.info(user.getUserId() + \"   USER ID\");\n        return new Response\u003c\u003e(1, \"login success\", new TokenDto(user.getUserId(), username, token));\n    }","returnType":"Response","methodName":"getToken","className":"TokenServiceImpl","packageName":"auth.service.impl","methodId":"auth.service.impl.TokenServiceImpl.getToken","classId":"auth.service.impl.TokenServiceImpl","line":47,"msArgumentList":[{"returnType":"BasicAuthDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/TokenServiceImpl.java","directoryName":""},"code":"userRepository.findByUsername(username)","parentPackageName":"auth.service.impl","parentClassName":"TokenServiceImpl","parentMethodName":"getToken","parentClassId":"auth.service.impl.TokenServiceImpl","lineNumber":77,"calledMethodName":"findByUsername","calledServiceId":"userRepository","statementDeclaration":"userRepository.findByUsername(username)"},"msServiceRepositoryField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/TokenServiceImpl.java","directoryName":""},"code":"@Autowired\n    private UserRepository userRepository;","fieldClass":"UserRepository","fieldVariable":"userRepository","parentMethod":{"parentClassName":"TokenServiceImpl","parentPackageName":"auth.service.impl"},"line":38},"msRepository":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"classId":"auth.repository.UserRepository","packageName":"auth.repository","className":"UserRepository","role":"REPOSITORY","code":""},"msRestCalls":[{"api":"\"http://ts-verification-code-service:15678/api/v1/verifycode/verify/\" + verifyCode","httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/TokenServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    \"http://ts-verification-code-service:15678/api/v1/verifycode/verify/\" + verifyCode,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Boolean.class)","parentPackageName":"auth.service.impl","parentClassName":"TokenServiceImpl","parentMethodName":"getToken","parentClassId":"auth.service.impl.TokenServiceImpl","lineNumber":56,"statementDeclaration":"restTemplate.exchange(\"http://ts-verification-code-service:15678/api/v1/verifycode/verify/\" + verifyCode, HttpMethod.GET, requestEntity, Boolean.class)"}],"msRepositoryMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"code":"Optional\u003cUser\u003e findByUsername(String username);","returnType":"Optional\u003cUser\u003e","methodName":"findByUsername","className":"UserRepository","packageName":"auth.repository","methodId":"auth.repository.UserRepository.findByUsername","classId":"auth.repository.UserRepository","line":20,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"classId":"auth.controller.UserController","packageName":"auth.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@GetMapping\n    public ResponseEntity\u003cList\u003cUser\u003e\u003e getAllUser(@RequestHeader HttpHeaders headers) {\n        return ResponseEntity.ok().body(userService.getAllUser(headers));\n    }","returnType":"ResponseEntity\u003cList\u003cUser\u003e\u003e","methodName":"getAllUser","className":"UserController","packageName":"auth.controller","methodId":"auth.controller.UserController.getAllUser","classId":"auth.controller.UserController","line":41,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"userService.getAllUser(headers)","parentPackageName":"auth.controller","parentClassName":"UserController","parentMethodName":"getAllUser","parentClassId":"auth.controller.UserController","lineNumber":43,"calledMethodName":"getAllUser","calledServiceId":"userService","statementDeclaration":"userService.getAllUser(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"auth.controller"},"line":25},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Override\n    public List\u003cUser\u003e getAllUser(HttpHeaders headers) {\n        return userRepository.findAll();\n    }","returnType":"List\u003cUser\u003e","methodName":"getAllUser","className":"UserServiceImpl","packageName":"auth.service.impl","methodId":"auth.service.impl.UserServiceImpl.getAllUser","classId":"auth.service.impl.UserServiceImpl","line":39,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"userRepository.findAll()","parentPackageName":"auth.service.impl","parentClassName":"UserServiceImpl","parentMethodName":"getAllUser","parentClassId":"auth.service.impl.UserServiceImpl","lineNumber":41,"calledMethodName":"findAll","calledServiceId":"userRepository","statementDeclaration":"userRepository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Autowired\n    private UserRepository userRepository;","fieldClass":"UserRepository","fieldVariable":"userRepository","parentMethod":{"parentClassName":"UserServiceImpl","parentPackageName":"auth.service.impl"},"line":28},"msRepository":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"classId":"auth.repository.UserRepository","packageName":"auth.repository","className":"UserRepository","role":"REPOSITORY","code":""},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"classId":"auth.controller.UserController","packageName":"auth.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@DeleteMapping(\"/{userId}\")\n    public ResponseEntity\u003cResponse\u003e deleteUserById(@PathVariable String userId, @RequestHeader HttpHeaders headers) {\n        return ResponseEntity.ok(userService.deleteByUserId(UUID.fromString(userId), headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"deleteUserById","className":"UserController","packageName":"auth.controller","methodId":"auth.controller.UserController.deleteUserById","classId":"auth.controller.UserController","line":46,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"DeleteMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"userService.deleteByUserId(UUID.fromString(userId), headers)","parentPackageName":"auth.controller","parentClassName":"UserController","parentMethodName":"deleteUserById","parentClassId":"auth.controller.UserController","lineNumber":48,"calledMethodName":"deleteByUserId","calledServiceId":"userService","statementDeclaration":"userService.deleteByUserId(UUID.fromString(userId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"auth.controller"},"line":25},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteByUserId(UUID userId, HttpHeaders headers) {\n        LOGGER.info(\"DELETE USER :\" + userId);\n        userRepository.deleteByUserId(userId);\n        return new Response(1, \"DELETE USER SUCCESS\", null);\n    }","returnType":"Response","methodName":"deleteByUserId","className":"UserServiceImpl","packageName":"auth.service.impl","methodId":"auth.service.impl.UserServiceImpl.deleteByUserId","classId":"auth.service.impl.UserServiceImpl","line":64,"msArgumentList":[{"returnType":"UUID"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"userRepository.deleteByUserId(userId)","parentPackageName":"auth.service.impl","parentClassName":"UserServiceImpl","parentMethodName":"deleteByUserId","parentClassId":"auth.service.impl.UserServiceImpl","lineNumber":67,"calledMethodName":"deleteByUserId","calledServiceId":"userRepository","statementDeclaration":"userRepository.deleteByUserId(userId)"},"msServiceRepositoryField":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Autowired\n    private UserRepository userRepository;","fieldClass":"UserRepository","fieldVariable":"userRepository","parentMethod":{"parentClassName":"UserServiceImpl","parentPackageName":"auth.service.impl"},"line":28},"msRepository":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"classId":"auth.repository.UserRepository","packageName":"auth.repository","className":"UserRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/repository/UserRepository.java","directoryName":""},"code":"void deleteByUserId(UUID userId);","returnType":"void","methodName":"deleteByUserId","className":"UserRepository","packageName":"auth.repository","methodId":"auth.repository.UserRepository.deleteByUserId","classId":"auth.repository.UserRepository","line":28,"msArgumentList":[{"returnType":"UUID"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@GetMapping(\"/hello\")\n    public String testHello() {\n        return \"Hello\";\n    }","returnType":"String","methodName":"testHello","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.testHello","classId":"user.controller.UserController","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@GetMapping\n    public ResponseEntity\u003cResponse\u003e getAllUser(@RequestHeader HttpHeaders headers) {\n        return ok(userService.getAllUsers(headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"getAllUser","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.getAllUser","classId":"user.controller.UserController","line":31,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.getAllUsers(headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"getAllUser","parentClassId":"user.controller.UserController","lineNumber":33,"calledMethodName":"getAllUsers","calledServiceId":"userService","statementDeclaration":"userService.getAllUsers(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@GetMapping(\"/{userName}\")\n    public ResponseEntity\u003cResponse\u003e getUserByUserName(@PathVariable String userName, @RequestHeader HttpHeaders headers) {\n        return ok(userService.findByUserName(userName, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"getUserByUserName","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.getUserByUserName","classId":"user.controller.UserController","line":36,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.findByUserName(userName, headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"getUserByUserName","parentClassId":"user.controller.UserController","lineNumber":38,"calledMethodName":"findByUserName","calledServiceId":"userService","statementDeclaration":"userService.findByUserName(userName, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@GetMapping(\"/id/{userId}\")\n    public ResponseEntity\u003cResponse\u003e getUserByUserId(@PathVariable String userId, @RequestHeader HttpHeaders headers) {\n        return ok(userService.findByUserId(userId, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"getUserByUserId","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.getUserByUserId","classId":"user.controller.UserController","line":40,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"GetMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.findByUserId(userId, headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"getUserByUserId","parentClassId":"user.controller.UserController","lineNumber":42,"calledMethodName":"findByUserId","calledServiceId":"userService","statementDeclaration":"userService.findByUserId(userId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@PostMapping(\"/register\")\n    public ResponseEntity\u003cResponse\u003e registerUser(@RequestBody UserDto userDto, @RequestHeader HttpHeaders headers) {\n        return ResponseEntity.status(HttpStatus.CREATED).body(userService.saveUser(userDto, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"registerUser","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.registerUser","classId":"user.controller.UserController","line":45,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PostMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.saveUser(userDto, headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"registerUser","parentClassId":"user.controller.UserController","lineNumber":47,"calledMethodName":"saveUser","calledServiceId":"userService","statementDeclaration":"userService.saveUser(userDto, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"code":"@Override\n    public User saveUser(User user) {\n        return null;\n    }","returnType":"User","methodName":"saveUser","className":"UserServiceImpl","packageName":"auth.service.impl","methodId":"auth.service.impl.UserServiceImpl.saveUser","classId":"auth.service.impl.UserServiceImpl","line":34,"msArgumentList":[{"returnType":"User"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@DeleteMapping(\"/{userId}\")\n    public ResponseEntity\u003cResponse\u003e deleteUserById(@PathVariable String userId,\n                                                   @RequestHeader HttpHeaders headers) {\n        // only admin token can delete\n        return ok(userService.deleteUser(UUID.fromString(userId), headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"deleteUserById","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.deleteUserById","classId":"user.controller.UserController","line":51,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"DeleteMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.deleteUser(UUID.fromString(userId), headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"deleteUserById","parentClassId":"user.controller.UserController","lineNumber":55,"calledMethodName":"deleteUser","calledServiceId":"userService","statementDeclaration":"userService.deleteUser(UUID.fromString(userId), headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""}},{"msController":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"classId":"user.controller.UserController","packageName":"user.controller","className":"UserController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@PutMapping\n    public ResponseEntity\u003cResponse\u003e updateUser(@RequestBody UserDto user,\n                                               @RequestHeader HttpHeaders headers) {\n        return ok(userService.updateUser(user, headers));\n    }","returnType":"ResponseEntity\u003cResponse\u003e","methodName":"updateUser","className":"UserController","packageName":"user.controller","methodId":"user.controller.UserController.updateUser","classId":"user.controller.UserController","line":58,"msArgumentList":[{"returnType":"UserDto"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"PutMapping"}]},"msServiceMethodCall":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"userService.updateUser(user, headers)","parentPackageName":"user.controller","parentClassName":"UserController","parentMethodName":"updateUser","parentClassId":"user.controller.UserController","lineNumber":61,"calledMethodName":"updateUser","calledServiceId":"userService","statementDeclaration":"userService.updateUser(user, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-user-service/src/main/java/user/controller/UserController.java","directoryName":""},"code":"@Autowired\n    private UserService userService;","fieldClass":"UserService","fieldVariable":"userService","parentMethod":{"parentClassName":"UserController","parentPackageName":"user.controller"},"line":23},"msService":{"msId":{"path":"/ts-auth-service/src/main/java/auth/service/impl/UserServiceImpl.java","directoryName":""},"classId":"auth.service.impl.UserServiceImpl","packageName":"auth.service.impl","className":"UserServiceImpl","role":"SERVICE","code":""}},{"msController":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"classId":"travelplan.controller.TravelPlanController","packageName":"travelplan.controller","className":"TravelPlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\" )\n    public String home() {\n        return \"Welcome to [ TravelPlan Service ] !\";\n    }","returnType":"String","methodName":"home","className":"TravelPlanController","packageName":"travelplan.controller","methodId":"travelplan.controller.TravelPlanController.home","classId":"travelplan.controller.TravelPlanController","line":27,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"classId":"travelplan.controller.TravelPlanController","packageName":"travelplan.controller","className":"TravelPlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@PostMapping(value\u003d\"/travelPlan/transferResult\" )\n    public HttpEntity getTransferResult(@RequestBody TransferTravelInfo info, @RequestHeader HttpHeaders headers) {\n        TravelPlanController.LOGGER.info(\"[Search Transit]\");\n        return ok(travelPlanService.getTransferSearch(info, headers));\n    }","returnType":"HttpEntity","methodName":"getTransferResult","className":"TravelPlanController","packageName":"travelplan.controller","methodId":"travelplan.controller.TravelPlanController.getTransferResult","classId":"travelplan.controller.TravelPlanController","line":32,"msArgumentList":[{"returnType":"TransferTravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/travelPlan/transferResult\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"travelPlanService.getTransferSearch(info, headers)","parentPackageName":"travelplan.controller","parentClassName":"TravelPlanController","parentMethodName":"getTransferResult","parentClassId":"travelplan.controller.TravelPlanController","lineNumber":35,"calledMethodName":"getTransferSearch","calledServiceId":"travelPlanService","statementDeclaration":"travelPlanService.getTransferSearch(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@Autowired\n    TravelPlanService travelPlanService;","fieldClass":"TravelPlanService","fieldVariable":"travelPlanService","parentMethod":{"parentClassName":"TravelPlanController","parentPackageName":"travelplan.controller"},"line":22},"msService":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"classId":"travelplan.service.TravelPlanServiceImpl","packageName":"travelplan.service","className":"TravelPlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getTransferSearch(TransferTravelInfo info, HttpHeaders headers) {\n\n        TripInfo queryInfoFirstSection \u003d new TripInfo();\n        queryInfoFirstSection.setDepartureTime(info.getTravelDate());\n        queryInfoFirstSection.setStartingPlace(info.getFromStationName());\n        queryInfoFirstSection.setEndPlace(info.getViaStationName());\n\n        List\u003cTripResponse\u003e firstSectionFromHighSpeed;\n        List\u003cTripResponse\u003e firstSectionFromNormal;\n        firstSectionFromHighSpeed \u003d tripsFromHighSpeed(queryInfoFirstSection, headers);\n        firstSectionFromNormal \u003d tripsFromNormal(queryInfoFirstSection, headers);\n\n        TripInfo queryInfoSecondSectoin \u003d new TripInfo();\n        queryInfoSecondSectoin.setDepartureTime(info.getTravelDate());\n        queryInfoSecondSectoin.setStartingPlace(info.getViaStationName());\n        queryInfoSecondSectoin.setEndPlace(info.getToStationName());\n\n        List\u003cTripResponse\u003e secondSectionFromHighSpeed;\n        List\u003cTripResponse\u003e secondSectionFromNormal;\n        secondSectionFromHighSpeed \u003d tripsFromHighSpeed(queryInfoSecondSectoin, headers);\n        secondSectionFromNormal \u003d tripsFromNormal(queryInfoSecondSectoin, headers);\n\n        List\u003cTripResponse\u003e firstSection \u003d new ArrayList\u003c\u003e();\n        firstSection.addAll(firstSectionFromHighSpeed);\n        firstSection.addAll(firstSectionFromNormal);\n\n        List\u003cTripResponse\u003e secondSection \u003d new ArrayList\u003c\u003e();\n        secondSection.addAll(secondSectionFromHighSpeed);\n        secondSection.addAll(secondSectionFromNormal);\n\n        TransferTravelResult result \u003d new TransferTravelResult();\n        result.setFirstSectionResult(firstSection);\n        result.setSecondSectionResult(secondSection);\n\n        return new Response\u003c\u003e(1, \"Success.\", result);\n    }","returnType":"Response","methodName":"getTransferSearch","className":"TravelPlanServiceImpl","packageName":"travelplan.service","methodId":"travelplan.service.TravelPlanServiceImpl.getTransferSearch","classId":"travelplan.service.TravelPlanServiceImpl","line":34,"msArgumentList":[{"returnType":"TransferTravelInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"classId":"travelplan.controller.TravelPlanController","packageName":"travelplan.controller","className":"TravelPlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@PostMapping(value\u003d\"/travelPlan/cheapest\")\n    public HttpEntity getByCheapest(@RequestBody TripInfo queryInfo, @RequestHeader HttpHeaders headers) {\n        TravelPlanController.LOGGER.info(\"[Search Cheapest]\");\n        return ok(travelPlanService.getCheapest(queryInfo, headers));\n    }","returnType":"HttpEntity","methodName":"getByCheapest","className":"TravelPlanController","packageName":"travelplan.controller","methodId":"travelplan.controller.TravelPlanController.getByCheapest","classId":"travelplan.controller.TravelPlanController","line":38,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/travelPlan/cheapest\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"travelPlanService.getCheapest(queryInfo, headers)","parentPackageName":"travelplan.controller","parentClassName":"TravelPlanController","parentMethodName":"getByCheapest","parentClassId":"travelplan.controller.TravelPlanController","lineNumber":41,"calledMethodName":"getCheapest","calledServiceId":"travelPlanService","statementDeclaration":"travelPlanService.getCheapest(queryInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@Autowired\n    TravelPlanService travelPlanService;","fieldClass":"TravelPlanService","fieldVariable":"travelPlanService","parentMethod":{"parentClassName":"TravelPlanController","parentPackageName":"travelplan.controller"},"line":22},"msService":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"classId":"travelplan.service.TravelPlanServiceImpl","packageName":"travelplan.service","className":"TravelPlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getCheapest(TripInfo info, HttpHeaders headers) {\n        RoutePlanInfo routePlanInfo \u003d new RoutePlanInfo();\n        routePlanInfo.setNum(5);\n        routePlanInfo.setFormStationName(info.getStartingPlace());\n        routePlanInfo.setToStationName(info.getEndPlace());\n        routePlanInfo.setTravelDate(info.getDepartureTime());\n        ArrayList\u003cRoutePlanResultUnit\u003e routePlanResultUnits \u003d getRoutePlanResultCheapest(routePlanInfo, headers);\n\n        if (!routePlanResultUnits.isEmpty()) {\n            ArrayList\u003cTravelAdvanceResultUnit\u003e lists \u003d new ArrayList\u003c\u003e();\n            for (int i \u003d 0; i \u003c routePlanResultUnits.size(); i++) {\n                RoutePlanResultUnit tempUnit \u003d routePlanResultUnits.get(i);\n                TravelAdvanceResultUnit newUnit \u003d new TravelAdvanceResultUnit();\n                newUnit.setTripId(tempUnit.getTripId());\n                newUnit.setToStationName(tempUnit.getToStationName());\n                newUnit.setTrainTypeId(tempUnit.getTrainTypeId());\n                newUnit.setFromStationName(tempUnit.getFromStationName());\n\n                List\u003cString\u003e stops \u003d transferStationIdToStationName(tempUnit.getStopStations(), headers);\n                newUnit.setStopStations(stops);\n                newUnit.setPriceForFirstClassSeat(tempUnit.getPriceForFirstClassSeat());\n                newUnit.setPriceForSecondClassSeat(tempUnit.getPriceForSecondClassSeat());\n                newUnit.setStartingTime(tempUnit.getStartingTime());\n                newUnit.setEndTime(tempUnit.getEndTime());\n                int first \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.FIRSTCLASS.getCode(), headers);\n\n                int second \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.SECONDCLASS.getCode(), headers);\n                newUnit.setNumberOfRestTicketFirstClass(first);\n                newUnit.setNumberOfRestTicketSecondClass(second);\n                lists.add(newUnit);\n            }\n\n            return new Response\u003c\u003e(1, success, lists);\n        } else {\n            return new Response\u003c\u003e(0, cannotFind, null);\n        }\n    }","returnType":"Response","methodName":"getCheapest","className":"TravelPlanServiceImpl","packageName":"travelplan.service","methodId":"travelplan.service.TravelPlanServiceImpl.getCheapest","classId":"travelplan.service.TravelPlanServiceImpl","line":72,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"classId":"travelplan.controller.TravelPlanController","packageName":"travelplan.controller","className":"TravelPlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@PostMapping(value\u003d\"/travelPlan/quickest\")\n    public HttpEntity getByQuickest(@RequestBody TripInfo queryInfo, @RequestHeader HttpHeaders headers) {\n        TravelPlanController.LOGGER.info(\"[Search Quickest]\");\n        return ok(travelPlanService.getQuickest(queryInfo, headers));\n    }","returnType":"HttpEntity","methodName":"getByQuickest","className":"TravelPlanController","packageName":"travelplan.controller","methodId":"travelplan.controller.TravelPlanController.getByQuickest","classId":"travelplan.controller.TravelPlanController","line":44,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/travelPlan/quickest\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"travelPlanService.getQuickest(queryInfo, headers)","parentPackageName":"travelplan.controller","parentClassName":"TravelPlanController","parentMethodName":"getByQuickest","parentClassId":"travelplan.controller.TravelPlanController","lineNumber":47,"calledMethodName":"getQuickest","calledServiceId":"travelPlanService","statementDeclaration":"travelPlanService.getQuickest(queryInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@Autowired\n    TravelPlanService travelPlanService;","fieldClass":"TravelPlanService","fieldVariable":"travelPlanService","parentMethod":{"parentClassName":"TravelPlanController","parentPackageName":"travelplan.controller"},"line":22},"msService":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"classId":"travelplan.service.TravelPlanServiceImpl","packageName":"travelplan.service","className":"TravelPlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getQuickest(TripInfo info, HttpHeaders headers) {\n        RoutePlanInfo routePlanInfo \u003d new RoutePlanInfo();\n        routePlanInfo.setNum(5);\n        routePlanInfo.setFormStationName(info.getStartingPlace());\n        routePlanInfo.setToStationName(info.getEndPlace());\n        routePlanInfo.setTravelDate(info.getDepartureTime());\n        ArrayList\u003cRoutePlanResultUnit\u003e routePlanResultUnits \u003d getRoutePlanResultQuickest(routePlanInfo, headers);\n\n\n        if (!routePlanResultUnits.isEmpty()) {\n\n            ArrayList\u003cTravelAdvanceResultUnit\u003e lists \u003d new ArrayList\u003c\u003e();\n            for (int i \u003d 0; i \u003c routePlanResultUnits.size(); i++) {\n                RoutePlanResultUnit tempUnit \u003d routePlanResultUnits.get(i);\n                TravelAdvanceResultUnit newUnit \u003d new TravelAdvanceResultUnit();\n                newUnit.setTripId(tempUnit.getTripId());\n                newUnit.setTrainTypeId(tempUnit.getTrainTypeId());\n                newUnit.setToStationName(tempUnit.getToStationName());\n                newUnit.setFromStationName(tempUnit.getFromStationName());\n\n                List\u003cString\u003e stops \u003d transferStationIdToStationName(tempUnit.getStopStations(), headers);\n                newUnit.setStopStations(stops);\n\n                newUnit.setPriceForFirstClassSeat(tempUnit.getPriceForFirstClassSeat());\n                newUnit.setPriceForSecondClassSeat(tempUnit.getPriceForSecondClassSeat());\n                newUnit.setStartingTime(tempUnit.getStartingTime());\n                newUnit.setEndTime(tempUnit.getEndTime());\n                int first \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.FIRSTCLASS.getCode(), headers);\n\n                int second \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.SECONDCLASS.getCode(), headers);\n                newUnit.setNumberOfRestTicketFirstClass(first);\n                newUnit.setNumberOfRestTicketSecondClass(second);\n                lists.add(newUnit);\n            }\n            return new Response\u003c\u003e(1, success, lists);\n        } else {\n            return new Response\u003c\u003e(0, cannotFind, null);\n        }\n    }","returnType":"Response","methodName":"getQuickest","className":"TravelPlanServiceImpl","packageName":"travelplan.service","methodId":"travelplan.service.TravelPlanServiceImpl.getQuickest","classId":"travelplan.service.TravelPlanServiceImpl","line":113,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"classId":"travelplan.controller.TravelPlanController","packageName":"travelplan.controller","className":"TravelPlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@PostMapping(value\u003d\"/travelPlan/minStation\")\n    public HttpEntity getByMinStation(@RequestBody TripInfo queryInfo, @RequestHeader HttpHeaders headers) {\n        TravelPlanController.LOGGER.info(\"[Search Min Station]\");\n        return ok(travelPlanService.getMinStation(queryInfo, headers));\n    }","returnType":"HttpEntity","methodName":"getByMinStation","className":"TravelPlanController","packageName":"travelplan.controller","methodId":"travelplan.controller.TravelPlanController.getByMinStation","classId":"travelplan.controller.TravelPlanController","line":50,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/travelPlan/minStation\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"travelPlanService.getMinStation(queryInfo, headers)","parentPackageName":"travelplan.controller","parentClassName":"TravelPlanController","parentMethodName":"getByMinStation","parentClassId":"travelplan.controller.TravelPlanController","lineNumber":53,"calledMethodName":"getMinStation","calledServiceId":"travelPlanService","statementDeclaration":"travelPlanService.getMinStation(queryInfo, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/controller/TravelPlanController.java","directoryName":""},"code":"@Autowired\n    TravelPlanService travelPlanService;","fieldClass":"TravelPlanService","fieldVariable":"travelPlanService","parentMethod":{"parentClassName":"TravelPlanController","parentPackageName":"travelplan.controller"},"line":22},"msService":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"classId":"travelplan.service.TravelPlanServiceImpl","packageName":"travelplan.service","className":"TravelPlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-travel-plan-service/src/main/java/travelplan/service/TravelPlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getMinStation(TripInfo info, HttpHeaders headers) {\n        RoutePlanInfo routePlanInfo \u003d new RoutePlanInfo();\n        routePlanInfo.setNum(5);\n        routePlanInfo.setFormStationName(info.getStartingPlace());\n        routePlanInfo.setToStationName(info.getEndPlace());\n        routePlanInfo.setTravelDate(info.getDepartureTime());\n        ArrayList\u003cRoutePlanResultUnit\u003e routePlanResultUnits \u003d getRoutePlanResultMinStation(routePlanInfo, headers);\n\n        if (!routePlanResultUnits.isEmpty()) {\n\n            ArrayList\u003cTravelAdvanceResultUnit\u003e lists \u003d new ArrayList\u003c\u003e();\n            for (int i \u003d 0; i \u003c routePlanResultUnits.size(); i++) {\n                RoutePlanResultUnit tempUnit \u003d routePlanResultUnits.get(i);\n                TravelAdvanceResultUnit newUnit \u003d new TravelAdvanceResultUnit();\n                newUnit.setTripId(tempUnit.getTripId());\n                newUnit.setTrainTypeId(tempUnit.getTrainTypeId());\n                newUnit.setFromStationName(tempUnit.getFromStationName());\n                newUnit.setToStationName(tempUnit.getToStationName());\n\n                List\u003cString\u003e stops \u003d transferStationIdToStationName(tempUnit.getStopStations(), headers);\n                newUnit.setStopStations(stops);\n\n                newUnit.setPriceForFirstClassSeat(tempUnit.getPriceForFirstClassSeat());\n                newUnit.setPriceForSecondClassSeat(tempUnit.getPriceForSecondClassSeat());\n                newUnit.setEndTime(tempUnit.getEndTime());\n                newUnit.setStartingTime(tempUnit.getStartingTime());\n\n                int first \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.FIRSTCLASS.getCode(), headers);\n\n                int second \u003d getRestTicketNumber(info.getDepartureTime(), tempUnit.getTripId(),\n                        tempUnit.getFromStationName(), tempUnit.getToStationName(), SeatClass.SECONDCLASS.getCode(), headers);\n                newUnit.setNumberOfRestTicketFirstClass(first);\n                newUnit.setNumberOfRestTicketSecondClass(second);\n                lists.add(newUnit);\n            }\n            return new Response\u003c\u003e(1, success, lists);\n        } else {\n            return new Response\u003c\u003e(0, cannotFind, null);\n        }\n    }","returnType":"Response","methodName":"getMinStation","className":"TravelPlanServiceImpl","packageName":"travelplan.service","methodId":"travelplan.service.TravelPlanServiceImpl.getMinStation","classId":"travelplan.service.TravelPlanServiceImpl","line":156,"msArgumentList":[{"returnType":"TripInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"classId":"plan.controller.RoutePlanController","packageName":"plan.controller","className":"RoutePlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home() {\n        return \"Welcome to [ RoutePlan Service ] !\";\n    }","returnType":"String","methodName":"home","className":"RoutePlanController","packageName":"plan.controller","methodId":"plan.controller.RoutePlanController.home","classId":"plan.controller.RoutePlanController","line":25,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"classId":"plan.controller.RoutePlanController","packageName":"plan.controller","className":"RoutePlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/routePlan/cheapestRoute\")\n    public HttpEntity getCheapestRoutes(@RequestBody RoutePlanInfo info, @RequestHeader HttpHeaders headers) {\n        RoutePlanController.LOGGER.info(\"[Route Plan Service][Get Cheapest Routes] From: {} To: {} Num: {} Date: {}\", info.getFormStationName(), info.getToStationName(), + info.getNum(), info.getTravelDate());\n        return ok(routePlanService.searchCheapestResult(info, headers));\n    }","returnType":"HttpEntity","methodName":"getCheapestRoutes","className":"RoutePlanController","packageName":"plan.controller","methodId":"plan.controller.RoutePlanController.getCheapestRoutes","classId":"plan.controller.RoutePlanController","line":30,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/routePlan/cheapestRoute\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"routePlanService.searchCheapestResult(info, headers)","parentPackageName":"plan.controller","parentClassName":"RoutePlanController","parentMethodName":"getCheapestRoutes","parentClassId":"plan.controller.RoutePlanController","lineNumber":33,"calledMethodName":"searchCheapestResult","calledServiceId":"routePlanService","statementDeclaration":"routePlanService.searchCheapestResult(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@Autowired\n    private RoutePlanService routePlanService;","fieldClass":"RoutePlanService","fieldVariable":"routePlanService","parentMethod":{"parentClassName":"RoutePlanController","parentPackageName":"plan.controller"},"line":21},"msService":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"classId":"plan.service.RoutePlanServiceImpl","packageName":"plan.service","className":"RoutePlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response searchCheapestResult(RoutePlanInfo info, HttpHeaders headers) {\n\n        //1.Violence pulls out all the results of travel-service and travle2-service\n        TripInfo queryInfo \u003d new TripInfo();\n        queryInfo.setStartingPlace(info.getFormStationName());\n        queryInfo.setEndPlace(info.getToStationName());\n        queryInfo.setDepartureTime(info.getTravelDate());\n\n        ArrayList\u003cTripResponse\u003e highSpeed \u003d getTripFromHighSpeedTravelServive(queryInfo, headers);\n        ArrayList\u003cTripResponse\u003e normalTrain \u003d getTripFromNormalTrainTravelService(queryInfo, headers);\n\n        //2.Sort by second-class seats\n        ArrayList\u003cTripResponse\u003e finalResult \u003d new ArrayList\u003c\u003e();\n        finalResult.addAll(highSpeed);\n        finalResult.addAll(normalTrain);\n\n        float minPrice;\n        int minIndex \u003d -1;\n        int size \u003d Math.min(5, finalResult.size());\n        ArrayList\u003cTripResponse\u003e returnResult \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c size; i++) {\n\n            minPrice \u003d Float.MAX_VALUE;\n            for (int j \u003d 0; j \u003c finalResult.size(); j++) {\n                TripResponse thisRes \u003d finalResult.get(j);\n                if (Float.parseFloat(thisRes.getPriceForEconomyClass()) \u003c minPrice) {\n                    minPrice \u003d Float.parseFloat(finalResult.get(j).getPriceForEconomyClass());\n                    minIndex \u003d j;\n                }\n            }\n            returnResult.add(finalResult.get(minIndex));\n            finalResult.remove(minIndex);\n        }\n\n\n        ArrayList\u003cRoutePlanResultUnit\u003e units \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c returnResult.size(); i++) {\n            TripResponse tempResponse \u003d returnResult.get(i);\n\n            RoutePlanResultUnit tempUnit \u003d new RoutePlanResultUnit();\n            tempUnit.setTripId(tempResponse.getTripId().toString());\n            tempUnit.setTrainTypeId(tempResponse.getTrainTypeId());\n            tempUnit.setFromStationName(tempResponse.getStartingStation());\n            tempUnit.setToStationName(tempResponse.getTerminalStation());\n            tempUnit.setStopStations(getStationList(tempResponse.getTripId().toString(), headers));\n            tempUnit.setPriceForSecondClassSeat(tempResponse.getPriceForEconomyClass());\n            tempUnit.setPriceForFirstClassSeat(tempResponse.getPriceForConfortClass());\n            tempUnit.setEndTime(tempResponse.getEndTime());\n            tempUnit.setStartingTime(tempResponse.getStartingTime());\n\n            units.add(tempUnit);\n        }\n\n        return new Response\u003c\u003e(1, \"Success\", units);\n    }","returnType":"Response","methodName":"searchCheapestResult","className":"RoutePlanServiceImpl","packageName":"plan.service","methodId":"plan.service.RoutePlanServiceImpl.searchCheapestResult","classId":"plan.service.RoutePlanServiceImpl","line":29,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"classId":"plan.controller.RoutePlanController","packageName":"plan.controller","className":"RoutePlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/routePlan/quickestRoute\")\n    public HttpEntity getQuickestRoutes(@RequestBody RoutePlanInfo info, @RequestHeader HttpHeaders headers) {\n        RoutePlanController.LOGGER.info(\"[Route Plan Service][Get Quickest Routes] From: {} To: {} Num: {} Date: {}\", info.getFormStationName(), info.getToStationName(), info.getNum(), info.getTravelDate());\n        return ok(routePlanService.searchQuickestResult(info, headers));\n    }","returnType":"HttpEntity","methodName":"getQuickestRoutes","className":"RoutePlanController","packageName":"plan.controller","methodId":"plan.controller.RoutePlanController.getQuickestRoutes","classId":"plan.controller.RoutePlanController","line":36,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/routePlan/quickestRoute\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"routePlanService.searchQuickestResult(info, headers)","parentPackageName":"plan.controller","parentClassName":"RoutePlanController","parentMethodName":"getQuickestRoutes","parentClassId":"plan.controller.RoutePlanController","lineNumber":39,"calledMethodName":"searchQuickestResult","calledServiceId":"routePlanService","statementDeclaration":"routePlanService.searchQuickestResult(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@Autowired\n    private RoutePlanService routePlanService;","fieldClass":"RoutePlanService","fieldVariable":"routePlanService","parentMethod":{"parentClassName":"RoutePlanController","parentPackageName":"plan.controller"},"line":21},"msService":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"classId":"plan.service.RoutePlanServiceImpl","packageName":"plan.service","className":"RoutePlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response searchQuickestResult(RoutePlanInfo info, HttpHeaders headers) {\n\n        //1.Violence pulls out all the results of travel-service and travle2-service\n        TripInfo queryInfo \u003d new TripInfo();\n        queryInfo.setStartingPlace(info.getFormStationName());\n        queryInfo.setEndPlace(info.getToStationName());\n        queryInfo.setDepartureTime(info.getTravelDate());\n\n        ArrayList\u003cTripResponse\u003e highSpeed \u003d getTripFromHighSpeedTravelServive(queryInfo, headers);\n        ArrayList\u003cTripResponse\u003e normalTrain \u003d getTripFromNormalTrainTravelService(queryInfo, headers);\n\n        //2.Sort by time\n        ArrayList\u003cTripResponse\u003e finalResult \u003d new ArrayList\u003c\u003e();\n\n        for (TripResponse tr : highSpeed) {\n            finalResult.add(tr);\n        }\n        for (TripResponse tr : normalTrain) {\n            finalResult.add(tr);\n        }\n\n        long minTime;\n        int minIndex \u003d -1;\n        int size \u003d Math.min(finalResult.size(), 5);\n        ArrayList\u003cTripResponse\u003e returnResult \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c size; i++) {\n\n            minTime \u003d Long.MAX_VALUE;\n            for (int j \u003d 0; j \u003c finalResult.size(); j++) {\n                TripResponse thisRes \u003d finalResult.get(j);\n                if (thisRes.getEndTime().getTime() - thisRes.getStartingTime().getTime() \u003c minTime) {\n                    minTime \u003d thisRes.getEndTime().getTime() - thisRes.getStartingTime().getTime();\n                    minIndex \u003d j;\n                }\n            }\n            returnResult.add(finalResult.get(minIndex));\n            finalResult.remove(minIndex);\n\n        }\n\n\n        ArrayList\u003cRoutePlanResultUnit\u003e units \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c returnResult.size(); i++) {\n            TripResponse tempResponse \u003d returnResult.get(i);\n\n            RoutePlanResultUnit tempUnit \u003d new RoutePlanResultUnit();\n            tempUnit.setTripId(tempResponse.getTripId().toString());\n            tempUnit.setTrainTypeId(tempResponse.getTrainTypeId());\n            tempUnit.setFromStationName(tempResponse.getStartingStation());\n            tempUnit.setToStationName(tempResponse.getTerminalStation());\n\n            tempUnit.setStopStations(getStationList(tempResponse.getTripId().toString(), headers));\n\n            tempUnit.setPriceForSecondClassSeat(tempResponse.getPriceForEconomyClass());\n            tempUnit.setPriceForFirstClassSeat(tempResponse.getPriceForConfortClass());\n            tempUnit.setStartingTime(tempResponse.getStartingTime());\n            tempUnit.setEndTime(tempResponse.getEndTime());\n            units.add(tempUnit);\n        }\n        return new Response\u003c\u003e(1, \"Success\", units);\n    }","returnType":"Response","methodName":"searchQuickestResult","className":"RoutePlanServiceImpl","packageName":"plan.service","methodId":"plan.service.RoutePlanServiceImpl.searchQuickestResult","classId":"plan.service.RoutePlanServiceImpl","line":86,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[]},{"msController":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"classId":"plan.controller.RoutePlanController","packageName":"plan.controller","className":"RoutePlanController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/routePlan/minStopStations\")\n    public HttpEntity getMinStopStations(@RequestBody RoutePlanInfo info, @RequestHeader HttpHeaders headers) {\n        RoutePlanController.LOGGER.info(\"[Route Plan Service][Get Min Stop Stations] From: {} To: {} Num: {} Date: {}\", info.getFormStationName(), info.getToStationName(), info.getNum(), info.getTravelDate());\n        return ok(routePlanService.searchMinStopStations(info, headers));\n    }","returnType":"HttpEntity","methodName":"getMinStopStations","className":"RoutePlanController","packageName":"plan.controller","methodId":"plan.controller.RoutePlanController.getMinStopStations","classId":"plan.controller.RoutePlanController","line":42,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/routePlan/minStopStations\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"routePlanService.searchMinStopStations(info, headers)","parentPackageName":"plan.controller","parentClassName":"RoutePlanController","parentMethodName":"getMinStopStations","parentClassId":"plan.controller.RoutePlanController","lineNumber":45,"calledMethodName":"searchMinStopStations","calledServiceId":"routePlanService","statementDeclaration":"routePlanService.searchMinStopStations(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/controller/RoutePlanController.java","directoryName":""},"code":"@Autowired\n    private RoutePlanService routePlanService;","fieldClass":"RoutePlanService","fieldVariable":"routePlanService","parentMethod":{"parentClassName":"RoutePlanController","parentPackageName":"plan.controller"},"line":21},"msService":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"classId":"plan.service.RoutePlanServiceImpl","packageName":"plan.service","className":"RoutePlanServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"@Override\n    public Response searchMinStopStations(RoutePlanInfo info, HttpHeaders headers) {\n        String fromStationId \u003d queryForStationId(info.getFormStationName(), headers);\n        String toStationId \u003d queryForStationId(info.getToStationName(), headers);\n        RoutePlanServiceImpl.LOGGER.info(\"From Id: {} To: {}\", fromStationId , toStationId);\n        //1.Get the route through the two stations\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cRoute\u003e\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes/\" + fromStationId + \"/\" + toStationId,\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cRoute\u003e\u003e\u003e() {\n                });\n\n\n        ArrayList\u003cRoute\u003e routeList \u003d re.getBody().getData();\n        RoutePlanServiceImpl.LOGGER.info(\"[Route Plan Service] Candidate Route Number: {}\", routeList.size());\n        //2.Calculate how many stops there are between the two stations\n        ArrayList\u003cInteger\u003e gapList \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c routeList.size(); i++) {\n            int indexStart \u003d routeList.get(i).getStations().indexOf(fromStationId);\n            int indexEnd \u003d routeList.get(i).getStations().indexOf(toStationId);\n            gapList.add(indexEnd - indexStart);\n        }\n        //3.Pick the routes with the fewest stops\n        ArrayList\u003cString\u003e resultRoutes \u003d new ArrayList\u003c\u003e();\n        int size \u003d Math.min(5, routeList.size());\n        for (int i \u003d 0; i \u003c size; i++) {\n            int minIndex \u003d 0;\n            int tempMinGap \u003d Integer.MAX_VALUE;\n            for (int j \u003d 0; j \u003c gapList.size(); j++) {\n                if (gapList.get(j) \u003c tempMinGap) {\n                    tempMinGap \u003d gapList.get(j);\n                    minIndex \u003d j;\n                }\n            }\n            resultRoutes.add(routeList.get(minIndex).getId());\n            routeList.remove(minIndex);\n            gapList.remove(minIndex);\n        }\n        //4.Depending on the route, go to travel-service or travel2service to get the train information\n        requestEntity \u003d new HttpEntity(resultRoutes, headers);\n        ResponseEntity\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e re2 \u003d restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/trips/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n                });\n\n        ArrayList\u003cArrayList\u003cTrip\u003e\u003e travelTrips \u003d re2.getBody().getData();\n\n\n        re2 \u003d restTemplate.exchange(\n                \"http://ts-travel2-service:16346/api/v1/travel2service/trips/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n                });\n        ArrayList\u003cArrayList\u003cTrip\u003e\u003e travel2Trips \u003d re2.getBody().getData();\n\n        //Merge query results\n        ArrayList\u003cArrayList\u003cTrip\u003e\u003e finalTripResult \u003d new ArrayList\u003c\u003e();\n        for (int i \u003d 0; i \u003c travel2Trips.size(); i++) {\n            ArrayList\u003cTrip\u003e tempList \u003d travel2Trips.get(i);\n            tempList.addAll(travelTrips.get(i));\n            finalTripResult.add(tempList);\n        }\n        RoutePlanServiceImpl.LOGGER.info(\"[Route Plan Service] Trips Num: {}\", finalTripResult.size());\n        //5.Then, get the price and the station information according to the train information\n        ArrayList\u003cTrip\u003e trips \u003d new ArrayList\u003c\u003e();\n        for (ArrayList\u003cTrip\u003e tempTrips : finalTripResult) {\n            trips.addAll(tempTrips);\n        }\n        ArrayList\u003cRoutePlanResultUnit\u003e tripResponses \u003d new ArrayList\u003c\u003e();\n\n        ResponseEntity\u003cResponse\u003cTripAllDetail\u003e\u003e re3;\n        for (Trip trip : trips) {\n            TripResponse tripResponse;\n            TripAllDetailInfo allDetailInfo \u003d new TripAllDetailInfo();\n            allDetailInfo.setTripId(trip.getTripId().toString());\n            allDetailInfo.setTravelDate(info.getTravelDate());\n            allDetailInfo.setFrom(info.getFormStationName());\n            allDetailInfo.setTo(info.getToStationName());\n            requestEntity \u003d new HttpEntity(allDetailInfo, headers);\n            String requestUrl \u003d \"\";\n            if (trip.getTripId().toString().charAt(0) \u003d\u003d \u0027D\u0027 || trip.getTripId().toString().charAt(0) \u003d\u003d \u0027G\u0027) {\n                requestUrl \u003d \"http://ts-travel-service:12346/api/v1/travelservice/trip_detail\";\n            } else {\n                requestUrl \u003d \"http://ts-travel2-service:16346/api/v1/travel2service/trip_detail\";\n            }\n            re3 \u003d restTemplate.exchange(\n                    requestUrl,\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTripAllDetail\u003e\u003e() {\n                    });\n\n            TripAllDetail tripAllDetail \u003d re3.getBody().getData();\n            tripResponse \u003d tripAllDetail.getTripResponse();\n\n\n            RoutePlanResultUnit unit \u003d new RoutePlanResultUnit();\n            unit.setTripId(trip.getTripId().toString());\n            unit.setTrainTypeId(tripResponse.getTrainTypeId());\n            unit.setFromStationName(tripResponse.getStartingStation());\n            unit.setToStationName(tripResponse.getTerminalStation());\n            unit.setStartingTime(tripResponse.getStartingTime());\n            unit.setEndTime(tripResponse.getEndTime());\n            unit.setPriceForFirstClassSeat(tripResponse.getPriceForConfortClass());\n            unit.setPriceForSecondClassSeat(tripResponse.getPriceForEconomyClass());\n            //Go get the roadmap according to routeid\n            String routeId \u003d trip.getRouteId();\n            Route tripRoute \u003d getRouteByRouteId(routeId, headers);\n            if (tripRoute !\u003d null) {\n                unit.setStopStations(tripRoute.getStations());\n            }\n\n            tripResponses.add(unit);\n        }\n        RoutePlanServiceImpl.LOGGER.info(\"[Route Plan Service] Trips Response Unit Num: {}\", tripResponses.size());\n        return new Response\u003c\u003e(1, \"Success.\", tripResponses);\n    }","returnType":"Response","methodName":"searchMinStopStations","className":"RoutePlanServiceImpl","packageName":"plan.service","methodId":"plan.service.RoutePlanServiceImpl.searchMinStopStations","classId":"plan.service.RoutePlanServiceImpl","line":149,"msArgumentList":[{"returnType":"RoutePlanInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-route-service:11178/api/v1/routeservice/routes/\" + fromStationId + \"/\" + toStationId","httpMethod":"GET","returnType":"ArrayList\u003cRoute\u003e","msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes/\" + fromStationId + \"/\" + toStationId,\n                HttpMethod.GET,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cRoute\u003e\u003e\u003e() {\n                })","parentPackageName":"plan.service","parentClassName":"RoutePlanServiceImpl","parentMethodName":"searchMinStopStations","parentClassId":"plan.service.RoutePlanServiceImpl","lineNumber":157,"statementDeclaration":"restTemplate.exchange(\"http://ts-route-service:11178/api/v1/routeservice/routes/\" + fromStationId + \"/\" + toStationId, HttpMethod.GET, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cRoute\u003e\u003e\u003e() {\n})"},{"api":"\"http://ts-travel-service:12346/api/v1/travelservice/trips/routes\"","httpMethod":"POST","returnType":"ArrayList\u003cArrayList\u003cTrip\u003e\u003e","msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-travel-service:12346/api/v1/travelservice/trips/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n                })","parentPackageName":"plan.service","parentClassName":"RoutePlanServiceImpl","parentMethodName":"searchMinStopStations","parentClassId":"plan.service.RoutePlanServiceImpl","lineNumber":192,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel-service:12346/api/v1/travelservice/trips/routes\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n})"},{"api":"\"http://ts-travel2-service:16346/api/v1/travel2service/trips/routes\"","httpMethod":"POST","returnType":"ArrayList\u003cArrayList\u003cTrip\u003e\u003e","msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-travel2-service:16346/api/v1/travel2service/trips/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n                })","parentPackageName":"plan.service","parentClassName":"RoutePlanServiceImpl","parentMethodName":"searchMinStopStations","parentClassId":"plan.service.RoutePlanServiceImpl","lineNumber":202,"statementDeclaration":"restTemplate.exchange(\"http://ts-travel2-service:16346/api/v1/travel2service/trips/routes\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cArrayList\u003cArrayList\u003cTrip\u003e\u003e\u003e\u003e() {\n})"},{"httpMethod":"POST","returnType":"TripAllDetail","msId":{"path":"/ts-route-plan-service/src/main/java/plan/service/RoutePlanServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                    requestUrl,\n                    HttpMethod.POST,\n                    requestEntity,\n                    new ParameterizedTypeReference\u003cResponse\u003cTripAllDetail\u003e\u003e() {\n                    })","parentPackageName":"plan.service","parentClassName":"RoutePlanServiceImpl","parentMethodName":"searchMinStopStations","parentClassId":"plan.service.RoutePlanServiceImpl","lineNumber":240,"statementDeclaration":"restTemplate.exchange(requestUrl, HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cTripAllDetail\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"classId":"adminroute.controller.AdminRouteController","packageName":"adminroute.controller","className":"AdminRouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ AdminRoute Service ] !\";\n    }","returnType":"String","methodName":"home","className":"AdminRouteController","packageName":"adminroute.controller","methodId":"adminroute.controller.AdminRouteController.home","classId":"adminroute.controller.AdminRouteController","line":22,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"classId":"adminroute.controller.AdminRouteController","packageName":"adminroute.controller","className":"AdminRouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(path \u003d \"/adminroute\")\n    public HttpEntity getAllRoutes(@RequestHeader HttpHeaders headers) {\n        return ok(adminRouteService.getAllRoutes(headers));\n    }","returnType":"HttpEntity","methodName":"getAllRoutes","className":"AdminRouteController","packageName":"adminroute.controller","methodId":"adminroute.controller.AdminRouteController.getAllRoutes","classId":"adminroute.controller.AdminRouteController","line":27,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/adminroute\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"adminRouteService.getAllRoutes(headers)","parentPackageName":"adminroute.controller","parentClassName":"AdminRouteController","parentMethodName":"getAllRoutes","parentClassId":"adminroute.controller.AdminRouteController","lineNumber":30,"calledMethodName":"getAllRoutes","calledServiceId":"adminRouteService","statementDeclaration":"adminRouteService.getAllRoutes(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@Autowired\n    AdminRouteService adminRouteService;","fieldClass":"AdminRouteService","fieldVariable":"adminRouteService","parentMethod":{"parentClassName":"AdminRouteController","parentPackageName":"adminroute.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"classId":"adminroute.service.AdminRouteServiceImpl","packageName":"adminroute.service","className":"AdminRouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response getAllRoutes(HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes\",\n                HttpMethod.GET,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n\n    }","returnType":"Response","methodName":"getAllRoutes","className":"AdminRouteServiceImpl","packageName":"adminroute.service","methodId":"adminroute.service.AdminRouteServiceImpl.getAllRoutes","classId":"adminroute.service.AdminRouteServiceImpl","line":23,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-route-service:11178/api/v1/routeservice/routes\"","httpMethod":"GET","returnType":"requestEntity","msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes\",\n                HttpMethod.GET,\n                requestEntity,\n                Response.class)","parentPackageName":"adminroute.service","parentClassName":"AdminRouteServiceImpl","parentMethodName":"getAllRoutes","parentClassId":"adminroute.service.AdminRouteServiceImpl","lineNumber":27,"statementDeclaration":"restTemplate.exchange(\"http://ts-route-service:11178/api/v1/routeservice/routes\", HttpMethod.GET, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"classId":"adminroute.controller.AdminRouteController","packageName":"adminroute.controller","className":"AdminRouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@PostMapping(value \u003d \"/adminroute\")\n    public HttpEntity addRoute(@RequestBody RouteInfo request, @RequestHeader HttpHeaders headers) {\n        return ok(adminRouteService.createAndModifyRoute(request, headers));\n    }","returnType":"HttpEntity","methodName":"addRoute","className":"AdminRouteController","packageName":"adminroute.controller","methodId":"adminroute.controller.AdminRouteController.addRoute","classId":"adminroute.controller.AdminRouteController","line":33,"msArgumentList":[{"returnType":"RouteInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/adminroute\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"adminRouteService.createAndModifyRoute(request, headers)","parentPackageName":"adminroute.controller","parentClassName":"AdminRouteController","parentMethodName":"addRoute","parentClassId":"adminroute.controller.AdminRouteController","lineNumber":35,"calledMethodName":"createAndModifyRoute","calledServiceId":"adminRouteService","statementDeclaration":"adminRouteService.createAndModifyRoute(request, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@Autowired\n    AdminRouteService adminRouteService;","fieldClass":"AdminRouteService","fieldVariable":"adminRouteService","parentMethod":{"parentClassName":"AdminRouteController","parentPackageName":"adminroute.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"classId":"adminroute.service.AdminRouteServiceImpl","packageName":"adminroute.service","className":"AdminRouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response createAndModifyRoute(RouteInfo request, HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(request, headers);\n        ResponseEntity\u003cResponse\u003cRoute\u003e\u003e re \u003d restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                });\n        return re.getBody();\n    }","returnType":"Response","methodName":"createAndModifyRoute","className":"AdminRouteServiceImpl","packageName":"adminroute.service","methodId":"adminroute.service.AdminRouteServiceImpl.createAndModifyRoute","classId":"adminroute.service.AdminRouteServiceImpl","line":36,"msArgumentList":[{"returnType":"RouteInfo"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-route-service:11178/api/v1/routeservice/routes\"","httpMethod":"POST","returnType":"Route","msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes\",\n                HttpMethod.POST,\n                requestEntity,\n                new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n                })","parentPackageName":"adminroute.service","parentClassName":"AdminRouteServiceImpl","parentMethodName":"createAndModifyRoute","parentClassId":"adminroute.service.AdminRouteServiceImpl","lineNumber":40,"statementDeclaration":"restTemplate.exchange(\"http://ts-route-service:11178/api/v1/routeservice/routes\", HttpMethod.POST, requestEntity, new ParameterizedTypeReference\u003cResponse\u003cRoute\u003e\u003e() {\n})"}]},{"msController":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"classId":"adminroute.controller.AdminRouteController","packageName":"adminroute.controller","className":"AdminRouteController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@DeleteMapping(value \u003d \"/adminroute/{routeId}\")\n    public HttpEntity deleteRoute(@PathVariable String routeId, @RequestHeader HttpHeaders headers) {\n        return ok(adminRouteService.deleteRoute(routeId, headers));\n    }","returnType":"HttpEntity","methodName":"deleteRoute","className":"AdminRouteController","packageName":"adminroute.controller","methodId":"adminroute.controller.AdminRouteController.deleteRoute","classId":"adminroute.controller.AdminRouteController","line":38,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/adminroute/{routeId}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"adminRouteService.deleteRoute(routeId, headers)","parentPackageName":"adminroute.controller","parentClassName":"AdminRouteController","parentMethodName":"deleteRoute","parentClassId":"adminroute.controller.AdminRouteController","lineNumber":40,"calledMethodName":"deleteRoute","calledServiceId":"adminRouteService","statementDeclaration":"adminRouteService.deleteRoute(routeId, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/controller/AdminRouteController.java","directoryName":""},"code":"@Autowired\n    AdminRouteService adminRouteService;","fieldClass":"AdminRouteService","fieldVariable":"adminRouteService","parentMethod":{"parentClassName":"AdminRouteController","parentPackageName":"adminroute.controller"},"line":19},"msService":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"classId":"adminroute.service.AdminRouteServiceImpl","packageName":"adminroute.service","className":"AdminRouteServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"@Override\n    public Response deleteRoute(String routeId, HttpHeaders headers) {\n\n        HttpEntity requestEntity \u003d new HttpEntity(headers);\n        ResponseEntity\u003cResponse\u003e re \u003d restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes/\" + routeId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class);\n        return re.getBody();\n\n    }","returnType":"Response","methodName":"deleteRoute","className":"AdminRouteServiceImpl","packageName":"adminroute.service","methodId":"adminroute.service.AdminRouteServiceImpl.deleteRoute","classId":"adminroute.service.AdminRouteServiceImpl","line":49,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRestCalls":[{"api":"\"http://ts-route-service:11178/api/v1/routeservice/routes/\" + routeId","httpMethod":"DELETE","returnType":"requestEntity","msId":{"path":"/ts-admin-route-service/src/main/java/adminroute/service/AdminRouteServiceImpl.java","directoryName":""},"code":"restTemplate.exchange(\n                \"http://ts-route-service:11178/api/v1/routeservice/routes/\" + routeId,\n                HttpMethod.DELETE,\n                requestEntity,\n                Response.class)","parentPackageName":"adminroute.service","parentClassName":"AdminRouteServiceImpl","parentMethodName":"deleteRoute","parentClassId":"adminroute.service.AdminRouteServiceImpl","lineNumber":53,"statementDeclaration":"restTemplate.exchange(\"http://ts-route-service:11178/api/v1/routeservice/routes/\" + routeId, HttpMethod.DELETE, requestEntity, Response.class)"}]},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@GetMapping(path \u003d \"/welcome\")\n    public String home(@RequestHeader HttpHeaders headers) {\n        return \"Welcome to [ Config Service ] !\";\n    }","returnType":"String","methodName":"home","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.home","classId":"config.controller.ConfigController","line":26,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"path","value":"\"/welcome\""}]}},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/configs\")\n    public HttpEntity queryAll(@RequestHeader HttpHeaders headers) {\n        return ok(configService.queryAll(headers));\n    }","returnType":"HttpEntity","methodName":"queryAll","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.queryAll","classId":"config.controller.ConfigController","line":31,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"configService.queryAll(headers)","parentPackageName":"config.controller","parentClassName":"ConfigController","parentMethodName":"queryAll","parentClassId":"config.controller.ConfigController","lineNumber":34,"calledMethodName":"queryAll","calledServiceId":"configService","statementDeclaration":"configService.queryAll(headers)"},"msControllerServiceField":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@Autowired\n    private ConfigService configService;","fieldClass":"ConfigService","fieldVariable":"configService","parentMethod":{"parentClassName":"ConfigController","parentPackageName":"config.controller"},"line":23},"msService":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"classId":"config.service.ConfigServiceImpl","packageName":"config.service","className":"ConfigServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Override\n    public Response queryAll(HttpHeaders headers) {\n        List\u003cConfig\u003e configList \u003d repository.findAll();\n\n        if (configList !\u003d null \u0026\u0026 !configList.isEmpty()) {\n            return new Response\u003c\u003e(1, \"Find all  config success\", configList);\n        } else {\n            return new Response\u003c\u003e(0, \"No content\", null);\n        }\n    }","returnType":"Response","methodName":"queryAll","className":"ConfigServiceImpl","packageName":"config.service","methodId":"config.service.ConfigServiceImpl.queryAll","classId":"config.service.ConfigServiceImpl","line":71,"msArgumentList":[{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"repository.findAll()","parentPackageName":"config.service","parentClassName":"ConfigServiceImpl","parentMethodName":"queryAll","parentClassId":"config.service.ConfigServiceImpl","lineNumber":73,"calledMethodName":"findAll","calledServiceId":"repository","statementDeclaration":"repository.findAll()"},"msServiceRepositoryField":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConfigRepository repository;","fieldClass":"ConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConfigServiceImpl","parentPackageName":"config.service"},"line":19},"msRepository":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"classId":"config.repository.ConfigRepository","packageName":"config.repository","className":"ConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"code":"@Override\n    List\u003cConfig\u003e findAll();","returnType":"List\u003cConfig\u003e","methodName":"findAll","className":"ConfigRepository","packageName":"config.repository","methodId":"config.repository.ConfigRepository.findAll","classId":"config.repository.ConfigRepository","line":26,"msArgumentList":[],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]}},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PostMapping(value \u003d \"/configs\")\n    public HttpEntity\u003c?\u003e createConfig(@RequestBody Config info, @RequestHeader HttpHeaders headers) {\n        return new ResponseEntity\u003c\u003e(configService.create(info, headers), HttpStatus.CREATED);\n    }","returnType":"HttpEntity\u003c?\u003e","methodName":"createConfig","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.createConfig","classId":"config.controller.ConfigController","line":37,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PostMapping","key":"value","value":"\"/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"configService.create(info, headers)","parentPackageName":"config.controller","parentClassName":"ConfigController","parentMethodName":"createConfig","parentClassId":"config.controller.ConfigController","lineNumber":40,"calledMethodName":"create","calledServiceId":"configService","statementDeclaration":"configService.create(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@Autowired\n    private ConfigService configService;","fieldClass":"ConfigService","fieldVariable":"configService","parentMethod":{"parentClassName":"ConfigController","parentPackageName":"config.controller"},"line":23},"msService":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"classId":"config.service.ConfigServiceImpl","packageName":"config.service","className":"ConfigServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Override\n    public Response create(Config info, HttpHeaders headers) {\n        if (repository.findByName(info.getName()) !\u003d null) {\n            String result \u003d config0 + info.getName() + \" already exists.\";\n            return new Response\u003c\u003e(0, result, null);\n        } else {\n            Config config \u003d new Config(info.getName(), info.getValue(), info.getDescription());\n            repository.save(config);\n            return new Response\u003c\u003e(1, \"Create success\", config);\n        }\n    }","returnType":"Response","methodName":"create","className":"ConfigServiceImpl","packageName":"config.service","methodId":"config.service.ConfigServiceImpl.create","classId":"config.service.ConfigServiceImpl","line":24,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"repository.findByName(info.getName())","parentPackageName":"config.service","parentClassName":"ConfigServiceImpl","parentMethodName":"create","parentClassId":"config.service.ConfigServiceImpl","lineNumber":26,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(info.getName())"},"msServiceRepositoryField":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConfigRepository repository;","fieldClass":"ConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConfigServiceImpl","parentPackageName":"config.service"},"line":19},"msRepository":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"classId":"config.repository.ConfigRepository","packageName":"config.repository","className":"ConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"code":"Config findByName(String name);","returnType":"Config","methodName":"findByName","className":"ConfigRepository","packageName":"config.repository","methodId":"config.repository.ConfigRepository.findByName","classId":"config.repository.ConfigRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @PutMapping(value \u003d \"/configs\")\n    public HttpEntity updateConfig(@RequestBody Config info, @RequestHeader HttpHeaders headers) {\n        return ok(configService.update(info, headers));\n    }","returnType":"HttpEntity","methodName":"updateConfig","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.updateConfig","classId":"config.controller.ConfigController","line":43,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"PutMapping","key":"value","value":"\"/configs\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"configService.update(info, headers)","parentPackageName":"config.controller","parentClassName":"ConfigController","parentMethodName":"updateConfig","parentClassId":"config.controller.ConfigController","lineNumber":46,"calledMethodName":"update","calledServiceId":"configService","statementDeclaration":"configService.update(info, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@Autowired\n    private ConfigService configService;","fieldClass":"ConfigService","fieldVariable":"configService","parentMethod":{"parentClassName":"ConfigController","parentPackageName":"config.controller"},"line":23},"msService":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"classId":"config.service.ConfigServiceImpl","packageName":"config.service","className":"ConfigServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Override\n    public Response update(Config info, HttpHeaders headers) {\n        if (repository.findByName(info.getName()) \u003d\u003d null) {\n            String result \u003d config0 + info.getName() + \" doesn\u0027t exist.\";\n            return new Response\u003c\u003e(0, result, null);\n        } else {\n            Config config \u003d new Config(info.getName(), info.getValue(), info.getDescription());\n            repository.save(config);\n            return new Response\u003c\u003e(1, \"Update success\", config);\n        }\n    }","returnType":"Response","methodName":"update","className":"ConfigServiceImpl","packageName":"config.service","methodId":"config.service.ConfigServiceImpl.update","classId":"config.service.ConfigServiceImpl","line":36,"msArgumentList":[{"returnType":"Config"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"repository.findByName(info.getName())","parentPackageName":"config.service","parentClassName":"ConfigServiceImpl","parentMethodName":"update","parentClassId":"config.service.ConfigServiceImpl","lineNumber":38,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(info.getName())"},"msServiceRepositoryField":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConfigRepository repository;","fieldClass":"ConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConfigServiceImpl","parentPackageName":"config.service"},"line":19},"msRepository":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"classId":"config.repository.ConfigRepository","packageName":"config.repository","className":"ConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"code":"Config findByName(String name);","returnType":"Config","methodName":"findByName","className":"ConfigRepository","packageName":"config.repository","methodId":"config.repository.ConfigRepository.findByName","classId":"config.repository.ConfigRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @DeleteMapping(value \u003d \"/configs/{configName}\")\n    public HttpEntity deleteConfig(@PathVariable String configName, @RequestHeader HttpHeaders headers) {\n        return ok(configService.delete(configName, headers));\n    }","returnType":"HttpEntity","methodName":"deleteConfig","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.deleteConfig","classId":"config.controller.ConfigController","line":50,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"DeleteMapping","key":"value","value":"\"/configs/{configName}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"configService.delete(configName, headers)","parentPackageName":"config.controller","parentClassName":"ConfigController","parentMethodName":"deleteConfig","parentClassId":"config.controller.ConfigController","lineNumber":53,"calledMethodName":"delete","calledServiceId":"configService","statementDeclaration":"configService.delete(configName, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@Autowired\n    private ConfigService configService;","fieldClass":"ConfigService","fieldVariable":"configService","parentMethod":{"parentClassName":"ConfigController","parentPackageName":"config.controller"},"line":23},"msService":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"classId":"config.service.ConfigServiceImpl","packageName":"config.service","className":"ConfigServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Override\n    public Response delete(String name, HttpHeaders headers) {\n        Config config \u003d repository.findByName(name);\n        if (config \u003d\u003d null) {\n            String result \u003d config0 + name + \" doesn\u0027t exist.\";\n            return new Response\u003c\u003e(0, result, null);\n        } else {\n            repository.deleteByName(name);\n            return new Response\u003c\u003e(1, \"Delete success\", config);\n        }\n    }","returnType":"Response","methodName":"delete","className":"ConfigServiceImpl","packageName":"config.service","methodId":"config.service.ConfigServiceImpl.delete","classId":"config.service.ConfigServiceImpl","line":59,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"repository.findByName(name)","parentPackageName":"config.service","parentClassName":"ConfigServiceImpl","parentMethodName":"delete","parentClassId":"config.service.ConfigServiceImpl","lineNumber":61,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(name)"},"msServiceRepositoryField":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConfigRepository repository;","fieldClass":"ConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConfigServiceImpl","parentPackageName":"config.service"},"line":19},"msRepository":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"classId":"config.repository.ConfigRepository","packageName":"config.repository","className":"ConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"code":"Config findByName(String name);","returnType":"Config","methodName":"findByName","className":"ConfigRepository","packageName":"config.repository","methodId":"config.repository.ConfigRepository.findByName","classId":"config.repository.ConfigRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}},{"msController":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"classId":"config.controller.ConfigController","packageName":"config.controller","className":"ConfigController","role":"CONTROLLER","code":""},"msControllerMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@CrossOrigin(origins \u003d \"*\")\n    @GetMapping(value \u003d \"/configs/{configName}\")\n    public HttpEntity retrieve(@PathVariable String configName, @RequestHeader HttpHeaders headers) {\n        return ok(configService.query(configName, headers));\n    }","returnType":"HttpEntity","methodName":"retrieve","className":"ConfigController","packageName":"config.controller","methodId":"config.controller.ConfigController.retrieve","classId":"config.controller.ConfigController","line":56,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":true,"annotationName":"CrossOrigin","key":"origins","value":"\"*\""},{"isHttpAnnotation":true,"annotationName":"GetMapping","key":"value","value":"\"/configs/{configName}\""}]},"msServiceMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"configService.query(configName, headers)","parentPackageName":"config.controller","parentClassName":"ConfigController","parentMethodName":"retrieve","parentClassId":"config.controller.ConfigController","lineNumber":59,"calledMethodName":"query","calledServiceId":"configService","statementDeclaration":"configService.query(configName, headers)"},"msControllerServiceField":{"msId":{"path":"/ts-config-service/src/main/java/config/controller/ConfigController.java","directoryName":""},"code":"@Autowired\n    private ConfigService configService;","fieldClass":"ConfigService","fieldVariable":"configService","parentMethod":{"parentClassName":"ConfigController","parentPackageName":"config.controller"},"line":23},"msService":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"classId":"config.service.ConfigServiceImpl","packageName":"config.service","className":"ConfigServiceImpl","role":"SERVICE","code":""},"msServiceMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Override\n    public Response query(String name, HttpHeaders headers) {\n        Config config \u003d repository.findByName(name);\n        if (config \u003d\u003d null) {\n            return new Response\u003c\u003e(0, \"No content\", null);\n        } else {\n            return new Response\u003c\u003e(1, \"Success\", config);\n        }\n    }","returnType":"Response","methodName":"query","className":"ConfigServiceImpl","packageName":"config.service","methodId":"config.service.ConfigServiceImpl.query","classId":"config.service.ConfigServiceImpl","line":49,"msArgumentList":[{"returnType":"String"},{"returnType":"HttpHeaders"}],"msAnnotations":[{"isHttpAnnotation":false,"annotationName":"Override"}]},"msRepositoryMethodCall":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"repository.findByName(name)","parentPackageName":"config.service","parentClassName":"ConfigServiceImpl","parentMethodName":"query","parentClassId":"config.service.ConfigServiceImpl","lineNumber":51,"calledMethodName":"findByName","calledServiceId":"repository","statementDeclaration":"repository.findByName(name)"},"msServiceRepositoryField":{"msId":{"path":"/ts-config-service/src/main/java/config/service/ConfigServiceImpl.java","directoryName":""},"code":"@Autowired\n    ConfigRepository repository;","fieldClass":"ConfigRepository","fieldVariable":"repository","parentMethod":{"parentClassName":"ConfigServiceImpl","parentPackageName":"config.service"},"line":19},"msRepository":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"classId":"config.repository.ConfigRepository","packageName":"config.repository","className":"ConfigRepository","role":"REPOSITORY","code":""},"msRestCalls":[],"msRepositoryMethod":{"msId":{"path":"/ts-config-service/src/main/java/config/repository/ConfigRepository.java","directoryName":""},"code":"Config findByName(String name);","returnType":"Config","methodName":"findByName","className":"ConfigRepository","packageName":"config.repository","methodId":"config.repository.ConfigRepository.findByName","classId":"config.repository.ConfigRepository","line":19,"msArgumentList":[{"returnType":"String"}],"msAnnotations":[]}}]